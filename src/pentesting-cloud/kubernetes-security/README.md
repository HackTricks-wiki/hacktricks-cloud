# Kubernetes Pentesting

{{#include ../../banners/hacktricks-training.md}}

## Osnovi Kubernetesa

Ako ne znate ništa o Kubernetesu, ovo je **dobar početak**. Pročitajte da biste saznali o **arhitekturi, komponentama i osnovnim radnjama** u Kubernetesu:

{{#ref}}
kubernetes-basics.md
{{#endref}}

### Laboratorije za vežbanje i učenje

- [https://securekubernetes.com/](https://securekubernetes.com)
- [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Ojačavanje Kubernetesa / Automatski alati

{{#ref}}
kubernetes-hardening/
{{#endref}}

## Ručni pentest Kubernetesa

### Spolja

Postoji nekoliko mogućih **Kubernetes usluga koje možete pronaći izložene** na internetu (ili unutar internih mreža). Ako ih pronađete, znate da postoji Kubernetes okruženje unutra.

U zavisnosti od konfiguracije i vaših privilegija, možda ćete moći da zloupotrebite to okruženje, za više informacija:

{{#ref}}
pentesting-kubernetes-services/
{{#endref}}

### Enumeracija unutar Pod-a

Ako uspete da **kompromitujete Pod**, pročitajte sledeću stranicu da biste saznali kako da enumerišete i pokušate da **povećate privilegije/izbegnete**:

{{#ref}}
attacking-kubernetes-from-inside-a-pod.md
{{#endref}}

### Enumeracija Kubernetesa sa kredencijalima

Možda ste uspeli da kompromitujete **korisničke kredencijale, korisnički token ili neki token servisnog naloga**. Možete ga koristiti za komunikaciju sa Kubernetes API servisom i pokušati da **enumerišete da biste saznali više** o njemu:

{{#ref}}
kubernetes-enumeration.md
{{#endref}}

Još jedan važan detalj o enumeraciji i zloupotrebi Kubernetes dozvola je **Kubernetes Role-Based Access Control (RBAC)**. Ako želite da zloupotrebite dozvole, prvo biste trebali da pročitate o tome ovde:

{{#ref}}
kubernetes-role-based-access-control-rbac.md
{{#endref}}

#### Znajući o RBAC-u i nakon što ste enumerisali okruženje, sada možete pokušati da zloupotrebite dozvole sa:

{{#ref}}
abusing-roles-clusterroles-in-kubernetes/
{{#endref}}

### Privesc u drugi Namespace

Ako ste kompromitovali namespace, potencijalno možete da pobegnete u druge namespace-ove sa zanimljivijim dozvolama/izvorima:

{{#ref}}
kubernetes-namespace-escalation.md
{{#endref}}

### Od Kubernetesa do Clouda

Ako ste kompromitovali K8s nalog ili pod, možda ćete moći da pređete na druge cloud-ove. To je zato što je u cloud-ovima kao što su AWS ili GCP moguće **dati K8s SA dozvole nad cloud-om**.

{{#ref}}
kubernetes-pivoting-to-clouds.md
{{#endref}}

{{#include ../../banners/hacktricks-training.md}}
