# Kubernetes Pentesting

{{#include ../../banners/hacktricks-training.md}}

## Kubernetes Temelleri

Eğer Kubernetes hakkında hiçbir şey bilmiyorsanız bu **iyi bir başlangıçtır**. **Mimari, bileşenler ve temel eylemler** hakkında bilgi edinmek için bunu okuyun:

{{#ref}}
kubernetes-basics.md
{{#endref}}

### Pratik ve Öğrenme Laboratuvarları

- [https://securekubernetes.com/](https://securekubernetes.com)
- [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Kubernetes Güçlendirme / Otomatik Araçlar

{{#ref}}
kubernetes-hardening/
{{#endref}}

## Manuel Kubernetes Pentest

### Dışarıdan

İnternette (veya iç ağlarda) **açık bulabileceğiniz birkaç olası Kubernetes hizmeti** vardır. Eğer bunları bulursanız, orada bir Kubernetes ortamı olduğunu bilirsiniz.

Yapılandırmaya ve ayrıcalıklarınıza bağlı olarak, o ortamı kötüye kullanma şansınız olabilir, daha fazla bilgi için:

{{#ref}}
pentesting-kubernetes-services/
{{#endref}}

### Bir Pod İçinde Sayım

Eğer bir **Pod'u ele geçirmeyi** başarırsanız, sayım yapmayı ve **ayrıcalıkları artırmayı/kaçmayı** öğrenmek için aşağıdaki sayfayı okuyun:

{{#ref}}
attacking-kubernetes-from-inside-a-pod.md
{{#endref}}

### Kimlik Bilgileri ile Kubernetes Sayımı

**Kullanıcı kimlik bilgileri, bir kullanıcı token'ı veya bazı hizmet hesabı token'ı** ele geçirmeyi başarmış olabilirsiniz. Bunu Kubernetes API hizmeti ile iletişim kurmak ve daha fazla bilgi edinmek için kullanabilirsiniz:

{{#ref}}
kubernetes-enumeration.md
{{#endref}}

Sayım ve Kubernetes izinlerinin kötüye kullanımı hakkında bir diğer önemli detay **Kubernetes Rol Tabanlı Erişim Kontrolü (RBAC)**'dir. İzinleri kötüye kullanmak istiyorsanız, önce burada hakkında bilgi edinmelisiniz:

{{#ref}}
kubernetes-role-based-access-control-rbac.md
{{#endref}}

#### RBAC hakkında bilgi sahibi olduktan ve ortamı saydıktan sonra, izinleri kötüye kullanmayı deneyebilirsiniz:

{{#ref}}
abusing-roles-clusterroles-in-kubernetes/
{{#endref}}

### Farklı Bir Namespace'e Yükselme

Eğer bir namespace'i ele geçirdiyseniz, daha ilginç izinler/kaynaklar ile diğer namespace'lere kaçma potansiyeliniz olabilir:

{{#ref}}
kubernetes-namespace-escalation.md
{{#endref}}

### Kubernetes'ten Buluta

Eğer bir K8s hesabını veya bir pod'u ele geçirdiyseniz, diğer bulutlara geçiş yapma şansınız olabilir. Bunun nedeni, AWS veya GCP gibi bulutlarda **bir K8s SA'ya bulut üzerinde izinler verme** olanağının olmasıdır.

{{#ref}}
kubernetes-pivoting-to-clouds.md
{{#endref}}

{{#include ../../banners/hacktricks-training.md}}
