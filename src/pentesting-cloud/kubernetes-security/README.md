# Kubernetes Pentesting

{{#include ../../banners/hacktricks-training.md}}

## Kubernetes Msingi

Ikiwa hujui chochote kuhusu Kubernetes hii ni **kuanzia nzuri**. Isome ili kujifunza kuhusu **muundo, vipengele na hatua za msingi** katika Kubernetes:

{{#ref}}
kubernetes-basics.md
{{#endref}}

### Maabara za kufanya mazoezi na kujifunza

- [https://securekubernetes.com/](https://securekubernetes.com)
- [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Kuimarisha Kubernetes / Zana za Otomatiki

{{#ref}}
kubernetes-hardening/
{{#endref}}

## Pentest ya Kiganja ya Kubernetes

### Kutoka Nje

Kuna huduma kadhaa za **Kubernetes ambazo unaweza kupata zikiwa wazi** kwenye Mtandao (au ndani ya mitandao ya ndani). Ikiwa unazipata unajua kuna mazingira ya Kubernetes humo.

Kulingana na usanidi na haki zako unaweza kuwa na uwezo wa kutumia mazingira hayo, kwa maelezo zaidi:

{{#ref}}
pentesting-kubernetes-services/
{{#endref}}

### Kuorodhesha ndani ya Pod

Ikiwa umeweza **kudhoofisha Pod** soma ukurasa ufuatao ili kujifunza jinsi ya kuorodhesha na kujaribu **kuinua haki/kuondoka**:

{{#ref}}
attacking-kubernetes-from-inside-a-pod.md
{{#endref}}

### Kuorodhesha Kubernetes kwa Makaratasi

Huenda umepata uwezo wa kudhoofisha **makaratasi ya mtumiaji, token ya mtumiaji au token ya akaunti ya huduma**. Unaweza kuitumia kuzungumza na huduma ya API ya Kubernetes na kujaribu **kuorodhesha ili kujifunza zaidi** kuhusu hiyo:

{{#ref}}
kubernetes-enumeration.md
{{#endref}}

Maelezo mengine muhimu kuhusu kuorodhesha na matumizi mabaya ya ruhusa za Kubernetes ni **Udhibiti wa Upatikanaji wa Kulingana na Majukumu ya Kubernetes (RBAC)**. Ikiwa unataka kutumia ruhusa, kwanza unapaswa kusoma kuhusu hiyo hapa:

{{#ref}}
kubernetes-role-based-access-control-rbac.md
{{#endref}}

#### Kujua kuhusu RBAC na kuwa umeshaundwa mazingira unaweza sasa kujaribu kutumia ruhusa na:

{{#ref}}
abusing-roles-clusterroles-in-kubernetes/
{{#endref}}

### Privesc kwa Namespace tofauti

Ikiwa umekabili namespace unaweza kwa uwezekano kuondoka kwa namespaces zingine zenye ruhusa/rasilimali za kuvutia zaidi:

{{#ref}}
kubernetes-namespace-escalation.md
{{#endref}}

### Kutoka Kubernetes hadi Cloud

Ikiwa umekabili akaunti ya K8s au pod, huenda ukawa na uwezo wa kuhamia kwenye mawingu mengine. Hii ni kwa sababu katika mawingu kama AWS au GCP inawezekana **kutoa ruhusa za K8s SA juu ya wingu**.

{{#ref}}
kubernetes-pivoting-to-clouds.md
{{#endref}}

{{#include ../../banners/hacktricks-training.md}}
