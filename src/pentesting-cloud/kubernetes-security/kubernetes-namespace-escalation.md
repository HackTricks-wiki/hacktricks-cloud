# Kubernetes Namespace Escalation

{{#include ../../banners/hacktricks-training.md}}

In Kubernetes is dit redelik algemeen dat jy op een of ander manier **binne 'n namespace slaag** (deur sommige gebruikersakkrediteer te steel of deur 'n pod te kompromitteer). Dit is egter gewoonlik dat jy belangstel in **eskalering na 'n ander namespace aangesien daar meer interessante dinge gevind kan word**.

Hier is 'n paar tegnieke wat jy kan probeer om na 'n ander namespace te ontsnap:

### Misbruik K8s voorregte

Dit is duidelik dat as die rekening wat jy gesteel het sensitiewe voorregte oor die namespace het waartoe jy kan eskaleer, jy aksies soos **die skep van pods** met diensrekeninge in die NS, **die uitvoer** van 'n skulp in 'n reeds bestaande pod binne die ns, of die lees van die **geheime** SA tokens kan misbruik.

Vir meer inligting oor watter voorregte jy kan misbruik, lees:

{{#ref}}
abusing-roles-clusterroles-in-kubernetes/
{{#endref}}

### Ontsnap na die node

As jy na die node kan ontsnap, hetsy omdat jy 'n pod gekompromitteer het en jy kan ontsnap of omdat jy 'n bevoorregte pod kan skep en ontsnap, kan jy verskeie dinge doen om ander SA tokens te steel:

- Kyk vir **SA tokens wat in ander docker houers gemonteer is** wat in die node loop
- Kyk vir nuwe **kubeconfig lÃªers in die node met ekstra toestemmings** wat aan die node gegee is
- As dit geaktiveer is (of aktiveer dit jouself) probeer om **gemirroreerde pods van ander namespaces te skep** aangesien jy toegang tot daardie namespaces se standaard token rekeninge mag kry (ek het dit nog nie getoets nie)

Al hierdie tegnieke word verduidelik in:

{{#ref}}
attacking-kubernetes-from-inside-a-pod.md
{{#endref}}

{{#include ../../banners/hacktricks-training.md}}
