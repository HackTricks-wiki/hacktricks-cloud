# GCP - Storage Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Storage

Cloud Storage के बारे में अधिक जानकारी के लिए इस पेज को देखें:

{{#ref}}
../gcp-services/gcp-storage-enum.md
{{#endref}}

### सार्वजनिक एक्सेस दें

बाहरी उपयोगकर्ताओं (चाहे वे GCP में लॉग इन हों या नहीं) को bucket की सामग्री तक एक्सेस देना संभव है। हालांकि, डिफ़ॉल्ट रूप से bucket पर सार्वजनिक रूप से एक्सपोज़ करने का विकल्प अक्षम रहता है:

<details>

<summary>bucket/objects को सार्वजनिक बनाएं</summary>
```bash
# Disable public prevention
gcloud storage buckets update gs://BUCKET_NAME --no-public-access-prevention

# Make all objects in a bucket public
gcloud storage buckets add-iam-policy-binding gs://BUCKET_NAME --member=allUsers --role=roles/storage.objectViewer
## I don't think you can make specific objects public just with IAM

# Make a bucket or object public (via ACL)
gcloud storage buckets update gs://BUCKET_NAME --add-acl-grant=entity=AllUsers,role=READER
gcloud storage objects update gs://BUCKET_NAME/OBJECT_NAME --add-acl-grant=entity=AllUsers,role=READER
```
</details>

यदि आप **ACLs को निष्क्रिय ACLs वाले बकेट पर** देने की कोशिश करते हैं तो आपको यह त्रुटि मिलेगी: `ERROR: HTTPError 400: Cannot use ACL API to update bucket policy when uniform bucket-level access is enabled. Read more at https://cloud.google.com/storage/docs/uniform-bucket-level-access`

ओपन बकेट्स को ब्राउज़र के माध्यम से एक्सेस करने के लिए, इस URL पर जाएँ `https://<bucket_name>.storage.googleapis.com/` या `https://<bucket_name>.storage.googleapis.com/<object_name>`

{{#include ../../../banners/hacktricks-training.md}}
