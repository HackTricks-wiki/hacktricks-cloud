# GCP - IAM Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## IAM <a href="#service-account-impersonation" id="service-account-impersonation"></a>

Детальнішу інформацію про IAM можна знайти в:

{{#ref}}
../gcp-services/gcp-iam-and-org-policies-enum.md
{{#endref}}

### Надання доступу до консолі керування <a href="#granting-access-to-management-console" id="granting-access-to-management-console"></a>

Доступ до [GCP management console](https://console.cloud.google.com) **надається обліковим записам користувачів, не service accounts**. Щоб увійти в веб-інтерфейс, ви можете **надати доступ обліковому запису Google**, яким ви керуєте. Це може бути загальний "**@gmail.com**" акаунт, він **не обов'язково має бути членом цільової організації**.

Щоб, однак, **наділити** примітивну роль **Owner** загальний акаунт "@gmail.com", вам доведеться **використати веб-консоль**. `gcloud` видасть помилку, якщо ви спробуєте надати йому дозвіл вище ніж Editor.

Ви можете використати наступну команду, щоб **надати користувачу примітивну роль Editor** у вашому існуючому проекті:

<details>

<summary>Надати користувачу роль Editor</summary>
```bash
gcloud projects add-iam-policy-binding [PROJECT] --member user:[EMAIL] --role roles/editor
```
</details>

Якщо вам тут вдалося, спробуйте **отримати доступ до веб-інтерфейсу** і дослідити звідти.

Це **найвищий рівень, який ви можете призначити, використовуючи інструмент gcloud**.

{{#include ../../../banners/hacktricks-training.md}}
