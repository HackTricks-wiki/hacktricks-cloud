# GCP - IAM Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## IAM <a href="#service-account-impersonation" id="service-account-impersonation"></a>

Możesz znaleźć więcej informacji o IAM w:

{{#ref}}
../gcp-services/gcp-iam-and-org-policies-enum.md
{{#endref}}

### Przyznawanie dostępu do konsoli zarządzania <a href="#granting-access-to-management-console" id="granting-access-to-management-console"></a>

Dostęp do [GCP management console](https://console.cloud.google.com) jest **przyznawany kontom użytkowników, a nie kontom serwisowym**. Aby zalogować się do interfejsu webowego, możesz **przyznać dostęp do Google account**, które kontrolujesz. Może to być genericzne "**@gmail.com**" konto, nie musi być członkiem docelowej organizacji.

Aby jednak przyznać prymitywną rolę **Owner** generycznemu "@gmail.com" kontu, będziesz musiał **użyć web console**. `gcloud` zwróci błąd, jeśli spróbujesz przyznać mu uprawnienie wyższe niż Editor.

Możesz użyć następującego polecenia, aby **przyznać użytkownikowi prymitywną rolę Editor** w istniejącym projekcie:

<details>

<summary>Nadaj rolę Editor użytkownikowi</summary>
```bash
gcloud projects add-iam-policy-binding [PROJECT] --member user:[EMAIL] --role roles/editor
```
</details>

Jeśli udało Ci się to, spróbuj **uzyskać dostęp do interfejsu WWW** i dalej eksplorować stamtąd.

To jest **najwyższy poziom, jaki możesz przypisać przy użyciu narzędzia gcloud**.

{{#include ../../../banners/hacktricks-training.md}}
