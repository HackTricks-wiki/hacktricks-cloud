# GCP - IAM Post-exploitation

{{#include ../../../banners/hacktricks-training.md}}

## IAM <a href="#service-account-impersonation" id="service-account-impersonation"></a>

Vous pouvez trouver plus d'informations sur IAM dans :

{{#ref}}
../gcp-services/gcp-iam-and-org-policies-enum.md
{{#endref}}

### Accorder l'accès à la console de gestion <a href="#granting-access-to-management-console" id="granting-access-to-management-console"></a>

Access to the [GCP management console](https://console.cloud.google.com) is **provided to user accounts, not service accounts**. Pour vous connecter à l'interface web, vous pouvez **accorder l'accès à un compte Google** que vous contrôlez. Cela peut être un compte générique "**@gmail.com**", il **n'a pas besoin d'être membre de l'organisation cible**.

Cependant, pour **attribuer** le rôle primitif **Owner** à un compte générique "@gmail.com", vous devrez **utiliser la console web**. `gcloud` renverra une erreur si vous essayez de lui attribuer une permission supérieure à Editor.

Vous pouvez utiliser la commande suivante pour **accorder à un utilisateur le rôle primitif Editor** sur votre projet existant :

<details>

<summary>Accorder le rôle Editor à un utilisateur</summary>
```bash
gcloud projects add-iam-policy-binding [PROJECT] --member user:[EMAIL] --role roles/editor
```
</details>

Si vous avez réussi ici, essayez d'**accéder à l'interface web** et d'explorer à partir de là.

Ceci est le **niveau le plus élevé que vous pouvez attribuer en utilisant l'outil gcloud**.

{{#include ../../../banners/hacktricks-training.md}}
