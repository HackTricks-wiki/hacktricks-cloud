# GCP - IAM Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## IAM <a href="#service-account-impersonation" id="service-account-impersonation"></a>

You can find further information about IAM in:

{{#ref}}
../gcp-services/gcp-iam-and-org-policies-enum.md
{{#endref}}

### 授予对管理控制台的访问权限 <a href="#granting-access-to-management-console" id="granting-access-to-management-console"></a>

Access to the [GCP management console](https://console.cloud.google.com) is **provided to user accounts, not service accounts**. To log in to the web interface, you can **grant access to a Google account** that you control. This can be a generic "**@gmail.com**" account, it does **not have to be a member of the target organization**.

不过，要将原始角色 **Owner** 授予一个通用的“@gmail.com”账户，你需要**使用 web 控制台**。`gcloud` 会在你尝试授予超过 Editor 的权限时报错。

你可以使用以下命令将原始角色 **Editor** 授予你现有项目的某个用户：

<details>

<summary>授予用户 Editor 角色</summary>
```bash
gcloud projects add-iam-policy-binding [PROJECT] --member user:[EMAIL] --role roles/editor
```
</details>

如果你在这里成功，尝试 **访问 web 界面** 并从那里进行探索。

这是 **你可以使用 gcloud tool 分配的最高级别**。

{{#include ../../../banners/hacktricks-training.md}}
