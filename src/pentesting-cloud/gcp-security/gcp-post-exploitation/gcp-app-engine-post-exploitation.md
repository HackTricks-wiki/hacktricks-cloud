# GCP - App Engine 后利用

{{#include ../../../banners/hacktricks-training.md}}

## `App Engine`

有关 App Engine 的信息请参阅：

{{#ref}}
../gcp-services/gcp-app-engine-enum.md
{{#endref}}

### `appengine.memcache.addKey` | `appengine.memcache.list` | `appengine.memcache.getKey` | `appengine.memcache.flush`

具有这些权限可以：

- 添加键
- 列出键
- 获取键
- 删除

> [!CAUTION]
> However, I **couldn't find any way to access this information from the cli**, only from the **web console** where you need to know the **Key type** and the **Key name**, of from the a**pp engine running app**.
>
> 如果您知道更简单的方法来使用这些权限，请提交 Pull Request！

### `logging.views.access`

具有此权限可以 **查看应用的日志**：
```bash
gcloud app logs tail -s <name>
```
### 服务与版本删除

`appengine.versions.delete`、`appengine.versions.list` 和 `appengine.services.list` 权限允许管理和删除 App Engine 应用的特定版本，这可能在流量被拆分或唯一稳定版本被移除时影响流量。与此同时，`appengine.services.delete` 和 `appengine.services.list` 权限允许列出并删除整个服务——此操作会立即中断所有流量并影响相关版本的可用性。
```bash
gcloud app versions delete <VERSION_ID>
gcloud app services delete <SERVICE_NAME>
```
### Read Source Code

所有版本和服务的 source code 都被 **stored in the bucket**，名称为 **`staging.<proj-id>.appspot.com`**。如果你对它有写入权限，你可以读取 source code 并搜索 **vulnerabilities** 和 **sensitive information**。

### Modify Source Code

修改 source code 以窃取正在发送的 credentials，或执行 defacement web attack。

{{#include ../../../banners/hacktricks-training.md}}
