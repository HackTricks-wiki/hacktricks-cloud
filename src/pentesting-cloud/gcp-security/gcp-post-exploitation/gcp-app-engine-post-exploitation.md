# GCP - App Engine Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## `App Engine`

Für Informationen über App Engine siehe:

{{#ref}}
../gcp-services/gcp-app-engine-enum.md
{{#endref}}

### `appengine.memcache.addKey` | `appengine.memcache.list` | `appengine.memcache.getKey` | `appengine.memcache.flush`

Mit diesen Berechtigungen ist es möglich:

- Einen Schlüssel hinzufügen
- Schlüssel auflisten
- Einen Schlüssel abrufen
- Löschen

> [!CAUTION]
> Allerdings **konnte ich keinen Weg finden, diese Informationen über die cli abzurufen**, nur über die **web console**, wo man den **Key type** und den **Key name** kennen muss, oder von a**pp engine running app**.
>
> Wenn du einfachere Wege kennst, diese Berechtigungen zu nutzen, sende bitte einen Pull Request!

### `logging.views.access`

Mit dieser Berechtigung ist es möglich, **die Logs der App zu sehen**:
```bash
gcloud app logs tail -s <name>
```
### Löschen von Services und Versionen

Die Berechtigungen `appengine.versions.delete`, `appengine.versions.list` und `appengine.services.list` erlauben das Verwalten und Löschen bestimmter Versionen einer App Engine-Anwendung, was den Traffic beeinträchtigen kann, wenn dieser aufgeteilt ist oder die einzige stabile Version entfernt wird. Dagegen erlauben die Berechtigungen `appengine.services.delete` und `appengine.services.list` das Auflisten und Löschen ganzer Services — eine Aktion, die sofort sämtlichen Traffic und die Verfügbarkeit der zugehörigen Versionen unterbricht.
```bash
gcloud app versions delete <VERSION_ID>
gcloud app services delete <SERVICE_NAME>
```
### Quellcode lesen

Der Quellcode aller Versionen und Dienste ist im Bucket mit dem Namen **`staging.<proj-id>.appspot.com`** gespeichert. Wenn Sie Schreibzugriff darauf haben, können Sie den Quellcode lesen und nach Schwachstellen sowie sensiblen Informationen suchen.

### Quellcode ändern

Ändern Sie den Quellcode, um Zugangsdaten zu stehlen, falls diese übertragen werden, oder um einen Defacement-Angriff auf die Website durchzuführen.

{{#include ../../../banners/hacktricks-training.md}}
