# GCP - App Engine Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## `App Engine`

Aby uzyskać informacje o App Engine sprawdź:

{{#ref}}
../gcp-services/gcp-app-engine-enum.md
{{#endref}}

### `appengine.memcache.addKey` | `appengine.memcache.list` | `appengine.memcache.getKey` | `appengine.memcache.flush`

Dzięki tym uprawnieniom można:

- Dodać klucz
- Wyświetlić klucze
- Pobrać klucz
- Usunąć klucz

> [!CAUTION]
> Jednak **nie udało mi się znaleźć żadnego sposobu na dostęp do tych informacji z cli**, tylko z **web console**, gdzie trzeba znać **Key type** i **Key name**, albo z działającej aplikacji **app engine**.
>
> Jeśli znasz łatwiejsze sposoby użycia tych uprawnień, wyślij Pull Request!

### `logging.views.access`

Dzięki temu uprawnieniu można **zobaczyć logi aplikacji**:
```bash
gcloud app logs tail -s <name>
```
### Usuwanie usług i wersji

Uprawnienia `appengine.versions.delete`, `appengine.versions.list` i `appengine.services.list` pozwalają na zarządzanie i usuwanie konkretnych wersji aplikacji App Engine, co może wpływać na ruch, jeśli jest on podzielony lub jeśli usunięta zostanie jedyna stabilna wersja. Natomiast uprawnienia `appengine.services.delete` i `appengine.services.list` pozwalają na listowanie i usuwanie całych usług — działanie, które natychmiast przerywa cały ruch i dostępność powiązanych wersji.
```bash
gcloud app versions delete <VERSION_ID>
gcloud app services delete <SERVICE_NAME>
```
### Odczyt kodu źródłowego

Kod źródłowy wszystkich wersji i usług jest **przechowywany w bucket** o nazwie **`staging.<proj-id>.appspot.com`**. Jeśli masz uprawnienia zapisu, możesz odczytać kod źródłowy i wyszukać **vulnerabilities** i **sensitive information**.

### Modyfikacja kodu źródłowego

Modyfikuj kod źródłowy, aby wykraść **credentials**, jeśli są przesyłane, lub przeprowadzić **defacement web attack**.

{{#include ../../../banners/hacktricks-training.md}}
