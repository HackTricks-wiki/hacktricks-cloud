# GCP - App Engine Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## `App Engine`

Para informações sobre App Engine veja:

{{#ref}}
../gcp-services/gcp-app-engine-enum.md
{{#endref}}

### `appengine.memcache.addKey` | `appengine.memcache.list` | `appengine.memcache.getKey` | `appengine.memcache.flush`

Com essas permissões é possível:

- Adicionar uma chave
- Listar chaves
- Obter uma chave
- Excluir

> [!CAUTION]
> No entanto, eu **não consegui encontrar nenhuma maneira de acessar essa informação a partir do cli**, apenas pelo **web console**, onde é preciso saber o **Key type** e o **Key name**, ou a partir do **App Engine running app**.
>
> Se você souber maneiras mais fáceis de usar essas permissões, envie um Pull Request!

### `logging.views.access`

Com essa permissão é possível **ver os logs do App**:
```bash
gcloud app logs tail -s <name>
```
### Exclusão de serviço e versão

As permissões `appengine.versions.delete`, `appengine.versions.list` e `appengine.services.list` permitem gerenciar e excluir versões específicas de uma aplicação App Engine, o que pode afetar o tráfego se ele estiver dividido ou se a única versão estável for removida. Enquanto isso, as permissões `appengine.services.delete` e `appengine.services.list` permitem listar e excluir serviços inteiros—uma ação que interrompe imediatamente todo o tráfego e a disponibilidade das versões associadas.
```bash
gcloud app versions delete <VERSION_ID>
gcloud app services delete <SERVICE_NAME>
```
### Ler o código-fonte

O código-fonte de todas as versões e serviços está **armazenado no bucket** com o nome **`staging.<proj-id>.appspot.com`**. Se você tiver acesso de escrita sobre ele, pode ler o código-fonte e procurar por **vulnerabilidades** e **informações sensíveis**.

### Modificar o código-fonte

Modifique o código-fonte para roubar credentials se elas estiverem sendo enviadas ou realizar um defacement web attack.

{{#include ../../../banners/hacktricks-training.md}}
