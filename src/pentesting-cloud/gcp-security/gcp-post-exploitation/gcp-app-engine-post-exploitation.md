# GCP - App Engine Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## `App Engine`

Pour des informations sur App Engine consultez :

{{#ref}}
../gcp-services/gcp-app-engine-enum.md
{{#endref}}

### `appengine.memcache.addKey` | `appengine.memcache.list` | `appengine.memcache.getKey` | `appengine.memcache.flush`

Avec ces permissions, il est possible de :

- Ajouter une clé
- Lister les clés
- Récupérer une clé
- Supprimer une clé

> [!CAUTION]
> Cependant, je **couldn't find any way to access this information from the cli**, seulement depuis la **web console** où vous devez connaître le **Key type** et le **Key name**, of from the a**pp engine running app**.
>
> Si vous connaissez des moyens plus simples d'utiliser ces permissions, envoyez un Pull Request !

### `logging.views.access`

Avec cette permission, il est possible de **voir les logs de l'App** :
```bash
gcloud app logs tail -s <name>
```
### Suppression des services et des versions

Les permissions `appengine.versions.delete`, `appengine.versions.list` et `appengine.services.list` permettent de gérer et de supprimer des versions spécifiques d'une application App Engine, ce qui peut affecter le trafic si celui-ci est réparti ou si la seule version stable est supprimée.  
Quant aux permissions `appengine.services.delete` et `appengine.services.list`, elles permettent de lister et de supprimer des services entiers — une action qui perturbe immédiatement tout le trafic et la disponibilité des versions associées.
```bash
gcloud app versions delete <VERSION_ID>
gcloud app services delete <SERVICE_NAME>
```
### Lire le code source

Le code source de toutes les versions et services est **stocké dans le bucket** nommé **`staging.<proj-id>.appspot.com`**. Si vous avez un accès en écriture dessus, vous pouvez lire le code source et rechercher des **vulnerabilities** et des **sensitive information**.

### Modifier le code source

Modifiez le code source pour voler des credentials s'ils sont transmis ou pour effectuer une defacement web attack.

{{#include ../../../banners/hacktricks-training.md}}
