# GCP - App Engine Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## `App Engine`

Para obtener información sobre App Engine consulta:

{{#ref}}
../gcp-services/gcp-app-engine-enum.md
{{#endref}}

### `appengine.memcache.addKey` | `appengine.memcache.list` | `appengine.memcache.getKey` | `appengine.memcache.flush`

Con estos permisos es posible:

- Agregar una clave
- Listar claves
- Obtener una clave
- Eliminar

> [!CAUTION]
> Sin embargo, **no pude encontrar ninguna forma de acceder a esta información desde la CLI**, solo desde la **consola web** donde necesitas conocer el **tipo de Key** y el **nombre de la Key**, o desde la **app en ejecución de App Engine**.
>
> Si conoces formas más sencillas de usar estos permisos, ¡envía un Pull Request!

### `logging.views.access`

Con este permiso es posible **ver los registros de la App**:
```bash
gcloud app logs tail -s <name>
```
### Eliminación de servicios y versiones

Los permisos appengine.versions.delete, appengine.versions.list y appengine.services.list permiten gestionar y eliminar versiones específicas de una aplicación App Engine, lo que puede afectar el tráfico si éste está dividido o si se elimina la única versión estable. Mientras tanto, los permisos appengine.services.delete y appengine.services.list permiten listar y eliminar servicios enteros—una acción que interrumpe inmediatamente todo el tráfico y la disponibilidad de las versiones asociadas.
```bash
gcloud app versions delete <VERSION_ID>
gcloud app services delete <SERVICE_NAME>
```
### Leer el código fuente

El código fuente de todas las versiones y servicios está **almacenado en el bucket** con el nombre **`staging.<proj-id>.appspot.com`**. Si tienes acceso de escritura sobre él puedes leer el código fuente y buscar **vulnerabilidades** y **información sensible**.

### Modificar el código fuente

Modifica el código fuente para robar credenciales si se envían o realizar un ataque de defacement en la web.

{{#include ../../../banners/hacktricks-training.md}}
