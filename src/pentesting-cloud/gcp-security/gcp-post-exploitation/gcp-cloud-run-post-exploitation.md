# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Cloud Run hakkında daha fazla bilgi için bakınız:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### CloudRun Job Silme
`run.services.delete` ve `run.services.get` izinleri ile `run.jobs.delete` izni, bir kimliğin bir Cloud Run service veya job'u yapılandırması ve geçmişi dahil olmak üzere tamamen silmesine olanak tanır. Bir saldırganın elinde, bu uygulamalarda veya kritik iş akışlarında anlık kesintilere neden olabilir ve hizmet mantığına veya temel zamanlanmış görevlere bağımlı kullanıcılar ve sistemler için bir denial of service (DoS) durumuna yol açabilir.

Bir job'ı silmek için aşağıdaki işlem gerçekleştirilebilir.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Bir servisi silmek için aşağıdaki işlem yapılabilir.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Görüntülere erişim

Eğer container images'e erişebiliyorsanız, kodu zafiyetler ve hardcoded hassas bilgiler açısından kontrol edin. Ayrıca env variables içindeki hassas bilgiler için de bakın.

Eğer görüntüler Artifact Registry hizmeti içindeki reposlarda depolanmışsa ve kullanıcının bu reposlarda okuma erişimi varsa, kullanıcı imajı bu servisten indirebilir.

### İmajı değiştirin & yeniden dağıtın

Run image'i bilgi çalacak şekilde değiştirin ve yeni sürümü yeniden dağıtın (aynı tag'lere sahip yeni bir docker container'ı sadece yüklemek onu çalıştırmaz). Örneğin, eğer bir login page sunuluyorsa, kullanıcıların gönderdiği credentials'leri çalın.

{{#include ../../../banners/hacktricks-training.md}}
