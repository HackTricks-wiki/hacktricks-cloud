# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Щоб дізнатись більше про Cloud Run, перегляньте:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### Видалити CloudRun Job
Права доступу `run.services.delete` і `run.services.get`, а також `run.jobs.delete`, дозволяють ідентичності повністю видалити Cloud Run service або job, включаючи їхню конфігурацію та історію. У руках зловмисника це може призвести до негайних збоїв у роботі додатків або критичних робочих процесів, спричиняючи відмову в обслуговуванні (DoS) для користувачів та систем, які залежать від логіки сервісу або важливих запланованих завдань.

Щоб видалити job, можна виконати наступну операцію.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Щоб видалити сервіс, можна виконати наступну операцію.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Доступ до образів

Якщо ви маєте доступ до контейнерних образів, перевірте код на наявність уразливостей та жорстко прописаної конфіденційної інформації. Також перевірте env variables на наявність конфіденційних даних.

Якщо образи зберігаються в репозиторіях сервісу Artifact Registry і користувач має права читання цих репозиторіїв, він також може завантажити образ із цього сервісу.

### Змінити та повторно розгорнути образ

Змініть run image, щоб викрасти інформацію, і розгорніть нову версію (просто завантажити новий docker container з тими ж тегами не змусить його виконатися). Наприклад, якщо він відкриває сторінку входу, викрадьте credentials, які надсилають користувачі.

{{#include ../../../banners/hacktricks-training.md}}
