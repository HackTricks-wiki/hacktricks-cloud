# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Weitere Informationen zu Cloud Run finden Sie unter:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### CloudRun-Job löschen
Die `run.services.delete` und `run.services.get` Berechtigungen sowie `run.jobs.delete` erlauben einer Identität, einen Cloud Run Service oder Job vollständig zu löschen, einschließlich seiner Konfiguration und Historie. In den Händen eines Angreifers kann dies zu sofortigen Unterbrechungen von Anwendungen oder kritischen Workflows führen und einen Denial of Service (DoS) für Benutzer und Systeme verursachen, die von der Service-Logik oder essenziellen geplanten Aufgaben abhängen.

Um einen Job zu löschen, kann die folgende Operation ausgeführt werden.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Um einen Service zu löschen, kann die folgende Operation ausgeführt werden.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Zugriff auf die Images

Wenn Sie auf die Container-Images zugreifen können, prüfen Sie den Code auf Schwachstellen und hartkodierte sensible Informationen. Suchen Sie auch nach sensiblen Informationen in env variables.

Wenn die Images in Repositories des Dienstes Artifact Registry gespeichert sind und der Benutzer Lesezugriff auf die Repositories hat, kann das Image auch von diesem Dienst heruntergeladen werden.

### Image modifizieren & neu bereitstellen

Modifizieren Sie das run-Image, um Informationen zu entwenden, und stellen Sie die neue Version wieder bereit (einfaches Hochladen eines neuen docker-Containers mit denselben Tags führt nicht zur Ausführung). Zum Beispiel: Wenn eine Login-Seite exponiert ist, können Sie die Anmeldeinformationen abgreifen, die Benutzer senden.

{{#include ../../../banners/hacktricks-training.md}}
