# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Για περισσότερες πληροφορίες σχετικά με το Cloud Run, δείτε:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### Διαγραφή CloudRun Job
Οι δικαιοδοσίες `run.services.delete` και `run.services.get`, καθώς και `run.jobs.delete`, επιτρέπουν σε μια ταυτότητα να διαγράψει εντελώς μια υπηρεσία ή job του Cloud Run, συμπεριλαμβανομένης της διαμόρφωσης και του ιστορικού της. Στα χέρια ενός επιτιθέμενου, αυτό μπορεί να προκαλέσει άμεση διαταραχή σε εφαρμογές ή κρίσιμες ροές εργασίας, οδηγώντας σε άρνηση υπηρεσίας (DoS) για χρήστες και συστήματα που εξαρτώνται από τη λογική της υπηρεσίας ή από ουσιώδεις προγραμματισμένες εργασίες.

Για να διαγράψετε ένα job, μπορεί να εκτελεστεί η παρακάτω ενέργεια.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Για να διαγράψετε μια υπηρεσία, μπορεί να εκτελεστεί η εξής ενέργεια.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Πρόσβαση στα container images

Αν μπορείς να αποκτήσεις πρόσβαση στα container images, έλεγξε τον κώδικα για ευπάθειες και για hardcoded ευαίσθητες πληροφορίες. Επίσης έλεγξε για ευαίσθητες πληροφορίες σε env variables.

Αν τα images αποθηκεύονται σε repos μέσα στην υπηρεσία Artifact Registry και ο χρήστης έχει δικαίωμα ανάγνωσης στα repos, μπορεί επίσης να κατεβάσει το image από αυτή την υπηρεσία.

### Τροποποίηση & redeploy του image

Τροποποίησε το run image ώστε να κλέψεις πληροφορίες και κάνε redeploy της νέας έκδοσης (απλώς ανεβάζοντας ένα νέο docker container με τα ίδια tags δεν θα εκτελεστεί). Για παράδειγμα, αν εκθέτει μια login page, μπορείς να κλέψεις τα credentials που στέλνουν οι χρήστες.

{{#include ../../../banners/hacktricks-training.md}}
