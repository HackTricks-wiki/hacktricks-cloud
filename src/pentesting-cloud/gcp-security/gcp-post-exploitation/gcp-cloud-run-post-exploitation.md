# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Za više informacija o Cloud Run pogledajte:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### Delete CloudRun Job
Dozvole `run.services.delete` i `run.services.get`, kao i `run.jobs.delete`, omogućavaju identitetu da u potpunosti obriše Cloud Run servis ili job, uključujući njegovu konfiguraciju i istoriju. U rukama an attacker, ovo može izazvati trenutni prekid rada aplikacija ili kritičnih tokova posla, što rezultira denial of service (DoS) za korisnike i sisteme koji zavise od logike servisa ili bitnih zakazanih zadataka.

Da biste obrisali job, može se izvršiti sledeća operacija.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Za brisanje servisa može se izvršiti sledeća operacija.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Access the images

Ako možete da pristupite container images, proverite code na vulnerabilities i hardkodovane osetljive informacije. Takođe proverite osetljive informacije u env variables.

Ako su images smeštene u repos unutar servisa Artifact Registry i korisnik ima read access na te repos, on takođe može da preuzme image iz tog servisa.

### Modify & redeploy the image

Izmenite run image da biste ukrali informacije i redeploy-ujte novu verziju (samo uploadovanje novog docker container sa istim tags neće ga pokrenuti). Na primer, ako izlaže login page, ukradujte credentials koje users šalju.

{{#include ../../../banners/hacktricks-training.md}}
