# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Per maggiori informazioni su Cloud Run consulta:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### Eliminare Job di Cloud Run
Le autorizzazioni `run.services.delete` e `run.services.get`, così come `run.jobs.delete`, consentono a un'identità di eliminare completamente un servizio o job di Cloud Run, inclusa la sua configurazione e cronologia. Nelle mani di un attaccante, questo può causare un'interruzione immediata delle applicazioni o dei workflow critici, provocando un denial of service (DoS) per gli utenti e i sistemi che dipendono dalla logica del servizio o da task schedulati essenziali.

Per eliminare un job, è possibile eseguire la seguente operazione.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Per eliminare un servizio, è possibile eseguire la seguente operazione.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Accedere alle immagini

Se puoi accedere alle immagini dei container, controlla il codice per vulnerabilità e informazioni sensibili hardcoded. Controlla anche la presenza di informazioni sensibili nelle variabili d'ambiente.

Se le immagini sono memorizzate in repo all'interno del servizio Artifact Registry e l'utente ha accesso in lettura ai repo, potrebbe anche scaricare l'immagine da questo servizio.

### Modificare & ridistribuire l'immagine

Modifica l'immagine in esecuzione per rubare informazioni e ridistribuisci la nuova versione (semplicemente caricare un nuovo container docker con gli stessi tag non farà in modo che venga eseguito). Ad esempio, se espone una pagina di login, sottrai le credenziali che gli utenti inviano.

{{#include ../../../banners/hacktricks-training.md}}
