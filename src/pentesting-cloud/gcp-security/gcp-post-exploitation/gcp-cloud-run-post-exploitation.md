# GCP - Cloud Run Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Run

Aby uzyskać więcej informacji o Cloud Run, zobacz:

{{#ref}}
../gcp-services/gcp-cloud-run-enum.md
{{#endref}}

### Usuń CloudRun Job
Uprawnienia `run.services.delete` i `run.services.get`, a także `run.jobs.delete`, pozwalają tożsamości na całkowite usunięcie usługi lub zadania Cloud Run, łącznie z jej konfiguracją i historią. W rękach atakującego może to spowodować natychmiastowe zakłócenia działania aplikacji lub krytycznych przepływów pracy, prowadząc do denial of service (DoS) dla użytkowników i systemów zależnych od logiki usługi lub istotnych zaplanowanych zadań.

Aby usunąć zadanie, można wykonać następującą operację.
```bash
gcloud run jobs delete <JOB_NAME> --region=<REGION> --quiet
```
Aby usunąć usługę, można wykonać następującą operację.
```bash
gcloud run services delete <SERVICE_NAME> --region=<REGION> --quiet
```
### Dostęp do obrazów kontenerów

Jeśli możesz uzyskać dostęp do obrazów kontenerów, sprawdź kod pod kątem podatności i zakodowanych (hardcoded) danych wrażliwych. Sprawdź też zmienne środowiskowe (env variables) pod kątem informacji wrażliwych.

### Modyfikacja i ponowne wdrożenie obrazu

Modyfikuj obraz uruchomieniowy, aby wykradać informacje, i wdroż nową wersję (samo przesłanie nowego kontenera docker z tymi samymi tagami nie spowoduje jego uruchomienia). Na przykład, jeśli udostępnia stronę logowania, wykradnij poświadczenia przesyłane przez użytkowników.

{{#include ../../../banners/hacktricks-training.md}}
