# GCP - Secretmanager Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Secretmanager

Secret Manager hakkında daha fazla bilgi için bakın:

{{#ref}}
../gcp-services/gcp-secrets-manager-enum.md
{{#endref}}

### `secretmanager.versions.access`

Bu, Secret Manager'daki secret'ları okumaya izin verir ve içeride hangi bilgilerin saklı olduğuna bağlı olarak escalate privileges'e yardımcı olabilir:

<details>

<summary>Secret versiyonuna erişim</summary>
```bash
# Get clear-text of version 1 of secret: "<secret name>"
gcloud secrets versions access 1 --secret="<secret_name>"
```
</details>

### `secretmanager.versions.destroy`
The `secretmanager.versions.destroy` izni, bir kimliğe Secret Manager içindeki bir secret'ın belirli bir sürümünü kalıcı olarak yok etme (geri dönülemez şekilde silinmiş olarak işaretleme) yetkisi verir; bu, kritik kimlik bilgilerinin kaldırılmasına olanak tanıyabilir ve potansiyel olarak denial of service'a veya hassas verilerin kurtarılmasının engellenmesine yol açabilir.
```bash
gcloud secrets versions destroy <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.versions.disable`
`secretmanager.versions.disable` izni, bir kimliğin Secret Manager içindeki etkin secret sürümlerini devre dışı bırakmasına olanak tanır ve bunlara bağımlı uygulama veya hizmetlerin kullanımını geçici olarak engeller.
```bash
gcloud secrets versions disable <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.secrets.delete`
`secretmanager.secrets.delete` izin kümesi, bir kimliğin Secret Manager'daki bir secret'i ve onun tüm saklanan sürümlerini tamamen silmesine olanak tanır.
```bash
gcloud secrets delete <SECRET_NAME> --project=<PROJECT_ID>
```
### `secretmanager.secrets.update`
`secretmanager.secrets.update` izni, bir kimliğin bir secret'in üstverisini ve yapılandırmasını (örneğin rotasyon ayarları, sürüm politikası, etiketler ve bazı secret özellikleri) değiştirmesine izin verir.
```bash
gcloud secrets update SECRET_NAME \
--project=PROJECT_ID \
--clear-labels \
--rotation-period=DURATION
```
{{#include ../../../banners/hacktricks-training.md}}
