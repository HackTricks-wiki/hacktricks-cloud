# GCP - Secretmanager Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Secretmanager

Za više informacija o Secret Manager pogledajte:

{{#ref}}
../gcp-services/gcp-secrets-manager-enum.md
{{#endref}}

### `secretmanager.versions.access`

Ovo vam daje pristup čitanju tajni iz Secret Manager-a i može pomoći u eskalaciji privilegija (u zavisnosti od informacija koje su uskladištene u tajni):

<details>

<summary>Pristup verziji tajne</summary>
```bash
# Get clear-text of version 1 of secret: "<secret name>"
gcloud secrets versions access 1 --secret="<secret_name>"
```
</details>

### `secretmanager.versions.destroy`
Dozvola `secretmanager.versions.destroy` omogućava identitetu da trajno uništi (označi kao nepovratno izbrisanu) određenu verziju tajne u Secret Manager, što može omogućiti uklanjanje kritičnih kredencijala i potencijalno izazvati denial of service ili sprečiti oporavak osetljivih podataka.
```bash
gcloud secrets versions destroy <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.versions.disable`
Dozvola `secretmanager.versions.disable` omogućava identitetu da onemogući aktivne verzije tajni u Secret Manager, privremeno blokirajući njihovu upotrebu od strane aplikacija ili servisa koji zavise od njih.
```bash
gcloud secrets versions disable <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.secrets.delete`
Skup dozvola `secretmanager.secrets.delete` omogućava identitetu da u potpunosti obriše tajnu i sve njene sačuvane verzije u Secret Manager.
```bash
gcloud secrets delete <SECRET_NAME> --project=<PROJECT_ID>
```
### `secretmanager.secrets.update`
Dozvola `secretmanager.secrets.update` omogućava identitetu da izmeni metapodatke i konfiguraciju tajne (na primer, podešavanja rotacije, politiku verzija, oznake i određena svojstva tajne).
```bash
gcloud secrets update SECRET_NAME \
--project=PROJECT_ID \
--clear-labels \
--rotation-period=DURATION
```
{{#include ../../../banners/hacktricks-training.md}}
