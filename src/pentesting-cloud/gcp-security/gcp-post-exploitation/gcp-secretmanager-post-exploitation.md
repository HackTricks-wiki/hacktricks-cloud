# GCP - Secretmanager Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Secretmanager

For more information about Secret Manager check:

{{#ref}}
../gcp-services/gcp-secrets-manager-enum.md
{{#endref}}

### `secretmanager.versions.access`

यह आपको secret manager से secrets पढ़ने की अनुमति देता है और यह शायद escalate privileges में मदद कर सकता है (निर्भर करता है कि secret के अंदर कौन सी जानकारी stored है):

<details>

<summary>Access secret version</summary>
```bash
# Get clear-text of version 1 of secret: "<secret name>"
gcloud secrets versions access 1 --secret="<secret_name>"
```
</details>

### `secretmanager.versions.destroy`
`secretmanager.versions.destroy` अनुमति किसी identity को Secret Manager में किसी secret के एक विशिष्ट संस्करण को स्थायी रूप से नष्ट (इसे अपरिवर्तनीय रूप से हटाया गया के रूप में चिह्नित) करने की अनुमति देती है, जो महत्वपूर्ण credentials को हटाने के लिए सक्षम कर सकती है और संभवतः denial of service का कारण बन सकती है या sensitive data की recovery को रोक सकती है।
```bash
gcloud secrets versions destroy <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.versions.disable`
`secretmanager.versions.disable` अनुमति किसी identity को Secret Manager में सक्रिय secret versions को disable करने की सुविधा देती है, जिससे उन पर निर्भर applications या services द्वारा उनका उपयोग अस्थायी रूप से अवरुद्ध हो जाता है।
```bash
gcloud secrets versions disable <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.secrets.delete`
यह `secretmanager.secrets.delete` अनुमति सेट किसी पहचान को Secret Manager में किसी secret और उसके सभी संग्रहीत संस्करणों को पूरी तरह से हटाने की अनुमति देता है।
```bash
gcloud secrets delete <SECRET_NAME> --project=<PROJECT_ID>
```
### `secretmanager.secrets.update`
`secretmanager.secrets.update` किसी identity को secret के metadata और configuration (उदाहरण के लिए, rotation settings, version policy, labels, और कुछ secret properties) को संशोधित करने की अनुमति देता है।
```bash
gcloud secrets update SECRET_NAME \
--project=PROJECT_ID \
--clear-labels \
--rotation-period=DURATION
```
{{#include ../../../banners/hacktricks-training.md}}
