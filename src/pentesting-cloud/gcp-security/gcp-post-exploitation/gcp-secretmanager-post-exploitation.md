# GCP - Secretmanager Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Secretmanager

Kwa taarifa zaidi kuhusu Secret Manager angalia:

{{#ref}}
../gcp-services/gcp-secrets-manager-enum.md
{{#endref}}

### `secretmanager.versions.access`

Hii inakupa uwezo wa kusoma siri kutoka Secret Manager na labda hii inaweza kusaidia kuongeza ruhusa (kutegemea ni taarifa gani zilihifadhiwa ndani ya siri):

<details>

<summary>Fikia toleo la siri</summary>
```bash
# Get clear-text of version 1 of secret: "<secret name>"
gcloud secrets versions access 1 --secret="<secret_name>"
```
</details>

### `secretmanager.versions.destroy`
Ruhusa ya `secretmanager.versions.destroy` inaruhusu kitambulisho kubomoa kwa kudumu (kuwekwa alama kama imefutwa kwa njia isiyoweza kurejeshwa) toleo maalum la siri katika Secret Manager, jambo ambalo linaweza kuwezesha kuondolewa kwa credentials muhimu na kwa uwezekano kusababisha denial of service au kuzuia urejeshaji wa data nyeti.
```bash
gcloud secrets versions destroy <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.versions.disable`
Ruhusa `secretmanager.versions.disable` inaruhusu kitambulisho kuzima matoleo ya siri yaliyo hai katika Secret Manager, kuzuia kwa muda matumizi yao na programu au huduma zinazowategemea.
```bash
gcloud secrets versions disable <VERSION> --secret="<SECRET_NAME>" --project=<PROJECTID>
```
### `secretmanager.secrets.delete`
Seti ya ruhusa `secretmanager.secrets.delete` inaruhusu kitambulisho kufuta kabisa siri na matoleo yake yote yaliyohifadhiwa katika Secret Manager.
```bash
gcloud secrets delete <SECRET_NAME> --project=<PROJECT_ID>
```
### `secretmanager.secrets.update`
Ruhusa ya `secretmanager.secrets.update` inamruhusu kitambulisho kubadilisha metadata na usanidi wa siri (kwa mfano, mipangilio ya mzunguko, sera ya toleo, lebo, na sifa fulani za siri).
```bash
gcloud secrets update SECRET_NAME \
--project=PROJECT_ID \
--clear-labels \
--rotation-period=DURATION
```
{{#include ../../../banners/hacktricks-training.md}}
