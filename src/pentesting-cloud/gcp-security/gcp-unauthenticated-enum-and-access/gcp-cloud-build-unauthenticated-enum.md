# GCP - Cloud Build Unauthenticated Enum

{{#include ../../../banners/hacktricks-training.md}}

## Cloud Build

Kwa maelezo zaidi kuhusu Cloud Build angalia:

{{#ref}}
../gcp-services/gcp-cloud-build-enum.md
{{#endref}}

### cloudbuild.yml

Ikiwa unapata ufikiaji wa kuandika juu ya hazina inayoshikilia faili iliyo na jina **`cloudbuild.yml`**, unaweza **kufanya backdoor** faili hii, ambayo inabainisha **amri ambazo zitatekelezwa** ndani ya Cloud Build na kuhamasisha siri, kuathiri kile kinachofanywa na pia kuathiri **akaunti ya huduma ya Cloud Build.**

> [!NOTE]
> Kumbuka kwamba GCP ina chaguo la kuruhusu wasimamizi kudhibiti utekelezaji wa mifumo ya ujenzi kutoka PR za nje kupitia "Comment Control". Comment Control ni kipengele ambapo washirikishi/wamiliki wa mradi **wanahitaji kutoa maoni “/gcbrun” ili kuanzisha ujenzi** dhidi ya PR na kutumia kipengele hiki kwa asili kunazuia mtu yeyote kwenye mtandao kuanzisha mifumo yako ya ujenzi.

Kwa maelezo yanayohusiana unaweza kuangalia ukurasa kuhusu jinsi ya kushambulia Github Actions (sawa na hii):

{{#ref}}
../../../pentesting-ci-cd/github-security/abusing-github-actions/
{{#endref}}

### PR Approvals

Wakati kichocheo ni PR kwa sababu **mtu yeyote anaweza kufanya PR kwa hazina za umma** itakuwa hatari sana tu **kuruhusu utekelezaji wa kichocheo na PR yoyote**. Kwa hivyo, kwa kawaida, utekelezaji utakuwa **otomatiki kwa wamiliki na washirikishi**, na ili kutekeleza kichocheo na PR za watumiaji wengine mmiliki au mshirikishi lazima aweke maoni `/gcbrun`.

<figure><img src="../../../images/image (339).png" alt="" width="563"><figcaption></figcaption></figure>

> [!CAUTION]
> Kwa hivyo, ikiwa hii imewekwa kuwa **`Not required`**, mshambuliaji anaweza kufanya **PR kwa tawi** ambalo litaanzisha utekelezaji kwa kuongeza utekelezaji wa msimbo mbaya kwenye faili **`cloudbuild.yml`** na kuathiri utekelezaji wa cloudbuild (kumbuka kwamba cloudbuild itashusha msimbo KUTOKA PR, hivyo itatekeleza **`cloudbuild.yml`** mbaya).

Zaidi ya hayo, ni rahisi kuona ikiwa utekelezaji wa cloudbuild unahitaji kufanywa unapowasilisha PR kwa sababu inaonekana kwenye Github:

<figure><img src="../../../images/image (340).png" alt=""><figcaption></figcaption></figure>

> [!WARNING]
> Hivyo, hata kama cloudbuild haitatekelezwa mshambuliaji ataweza kuona **jina la mradi wa GCP** ambao ni wa kampuni.

{{#include ../../../banners/hacktricks-training.md}}
