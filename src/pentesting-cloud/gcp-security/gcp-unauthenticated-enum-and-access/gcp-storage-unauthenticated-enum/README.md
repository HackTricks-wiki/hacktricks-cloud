# GCP - Storage Unauthenticated Enum

{{#include ../../../../banners/hacktricks-training.md}}

## Storage

Storage के बारे में अधिक जानकारी के लिए देखें:

{{#ref}}
../../gcp-services/gcp-storage-enum.md
{{#endref}}

### Public Bucket Brute Force

एक बकेट तक पहुँचने के लिए **URL का प्रारूप** **`https://storage.googleapis.com/<bucket-name>`** है।

नाम के दिए गए भिन्नताओं को उत्पन्न करने और उन नामों के साथ गलत कॉन्फ़िगर किए गए बकेट्स की खोज करने के लिए निम्नलिखित उपकरणों का उपयोग किया जा सकता है:

- [https://github.com/RhinoSecurityLabs/GCPBucketBrute](https://github.com/RhinoSecurityLabs/GCPBucketBrute)

**साथ ही, उपकरण** जो कि उल्लेखित हैं:

{{#ref}}
../
{{#endref}}

यदि आप पाते हैं कि आप **एक बकेट तक पहुँच सकते हैं** तो आप **और भी आगे बढ़ने में सक्षम हो सकते हैं**, देखें:

{{#ref}}
gcp-public-buckets-privilege-escalation.md
{{#endref}}

### Search Open Buckets in Current Account

निम्नलिखित स्क्रिप्ट [यहाँ से एकत्रित की गई](https://gitlab.com/gitlab-com/gl-security/security-operations/gl-redteam/gcp_misc/-/blob/master/find_open_buckets.sh) है, आप सभी खुले बकेट्स को खोज सकते हैं:
```bash
#!/bin/bash

############################
# Run this tool to find buckets that are open to the public anywhere
# in your GCP organization.
#
# Enjoy!
############################

for proj in $(gcloud projects list --format="get(projectId)"); do
echo "[*] scraping project $proj"
for bucket in $(gsutil ls -p $proj); do
echo "    $bucket"
ACL="$(gsutil iam get $bucket)"

all_users="$(echo $ACL | grep allUsers)"
all_auth="$(echo $ACL | grep allAuthenticatedUsers)"

if [ -z "$all_users" ]
then
:
else
echo "[!] Open to all users: $bucket"
fi

if [ -z "$all_auth" ]
then
:
else
echo "[!] Open to all authenticated users: $bucket"
fi
done
done
```
{{#include ../../../../banners/hacktricks-training.md}}
