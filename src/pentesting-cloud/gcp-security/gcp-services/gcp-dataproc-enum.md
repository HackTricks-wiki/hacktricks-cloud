# GCP - Dataproc Enum

{{#include ../../../banners/hacktricks-training.md}}

## Informações Básicas

Google Cloud Dataproc é um serviço totalmente gerenciado para executar Apache Spark, Apache Hadoop, Apache Flink e outras estruturas de big data. É utilizado principalmente para processamento de dados, consultas, aprendizado de máquina e análises de fluxo. Dataproc permite que as organizações criem clusters para computação distribuída com facilidade, integrando-se perfeitamente com outros serviços do Google Cloud Platform (GCP), como Cloud Storage, BigQuery e Cloud Monitoring.

Os clusters Dataproc são executados em máquinas virtuais (VMs), e a conta de serviço associada a essas VMs determina as permissões e o nível de acesso do cluster.

## Componentes

Um cluster Dataproc normalmente inclui:

Master Node: Gerencia os recursos do cluster e coordena tarefas distribuídas.

Worker Nodes: Executam tarefas distribuídas.

Service Accounts: Gerenciam chamadas de API e acessam outros serviços do GCP.

## Enumeração

Clusters, jobs e configurações do Dataproc podem ser enumerados para coletar informações sensíveis, como contas de serviço, permissões e possíveis configurações incorretas.

### Enumeração de Clusters

Para enumerar clusters Dataproc e recuperar seus detalhes:
```
gcloud dataproc clusters list --region=<region>
gcloud dataproc clusters describe <cluster-name> --region=<region>
```
### Enumeração de Trabalho
```
gcloud dataproc jobs list --region=<region>
gcloud dataproc jobs describe <job-id> --region=<region>
```
### Privesc

{{#ref}}
../gcp-privilege-escalation/gcp-dataproc-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
