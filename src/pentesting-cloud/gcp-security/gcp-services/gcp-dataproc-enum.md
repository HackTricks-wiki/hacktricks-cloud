# GCP - Dataproc Enum

{{#include ../../../banners/hacktricks-training.md}}

## 基本信息

Google Cloud Dataproc 是一个完全托管的服务，用于运行 Apache Spark、Apache Hadoop、Apache Flink 和其他大数据框架。它主要用于数据处理、查询、机器学习和流分析。Dataproc 使组织能够轻松创建用于分布式计算的集群，并与其他 Google Cloud Platform (GCP) 服务（如 Cloud Storage、BigQuery 和 Cloud Monitoring）无缝集成。

Dataproc 集群运行在虚拟机 (VM) 上，与这些 VM 关联的服务帐户决定了集群的权限和访问级别。

## 组件

Dataproc 集群通常包括：

主节点：管理集群资源并协调分布式任务。

工作节点：执行分布式任务。

服务帐户：处理 API 调用并访问其他 GCP 服务。

## 枚举

可以枚举 Dataproc 集群、作业和配置，以收集敏感信息，例如服务帐户、权限和潜在的错误配置。

### 集群枚举

要枚举 Dataproc 集群并检索其详细信息：
```
gcloud dataproc clusters list --region=<region>
gcloud dataproc clusters describe <cluster-name> --region=<region>
```
### 作业枚举
```
gcloud dataproc jobs list --region=<region>
gcloud dataproc jobs describe <job-id> --region=<region>
```
### 提权

{{#ref}}
../gcp-privilege-escalation/gcp-dataproc-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
