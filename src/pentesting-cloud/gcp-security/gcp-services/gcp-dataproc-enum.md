# GCP -  Dataproc Enum

{{#include ../../../banners/hacktricks-training.md}}

## Basic Infromation

Η Google Cloud Dataproc είναι μια πλήρως διαχειριζόμενη υπηρεσία για την εκτέλεση του Apache Spark, Apache Hadoop, Apache Flink και άλλων πλαισίων big data. Χρησιμοποιείται κυρίως για επεξεργασία δεδομένων, ερωτήματα, μηχανική μάθηση και ανάλυση ροών. Το Dataproc επιτρέπει στις οργανώσεις να δημιουργούν κλάστερ για κατανεμημένη υπολογιστική με ευκολία, ενσωματώνοντας απρόσκοπτα με άλλες υπηρεσίες της Google Cloud Platform (GCP) όπως το Cloud Storage, το BigQuery και το Cloud Monitoring.

Τα κλάστερ Dataproc εκτελούνται σε εικονικές μηχανές (VMs), και ο λογαριασμός υπηρεσίας που σχετίζεται με αυτές τις VMs καθορίζει τις άδειες και το επίπεδο πρόσβασης του κλάστερ.

## Components

Ένα κλάστερ Dataproc περιλαμβάνει συνήθως:

Master Node: Διαχειρίζεται τους πόρους του κλάστερ και συντονίζει τις κατανεμημένες εργασίες.

Worker Nodes: Εκτελούν τις κατανεμημένες εργασίες.

Service Accounts: Διαχειρίζονται τις κλήσεις API και αποκτούν πρόσβαση σε άλλες υπηρεσίες GCP.

## Enumeration

Τα κλάστερ Dataproc, οι εργασίες και οι ρυθμίσεις μπορούν να απαριθμηθούν για τη συλλογή ευαίσθητων πληροφοριών, όπως οι λογαριασμοί υπηρεσίας, οι άδειες και οι πιθανές κακές ρυθμίσεις.

### Cluster Enumeration

Για να απαριθμήσετε τα κλάστερ Dataproc και να ανακτήσετε τις λεπτομέρειές τους:
```
gcloud dataproc clusters list --region=<region>
gcloud dataproc clusters describe <cluster-name> --region=<region>
```
### Καταμέτρηση Εργασιών
```
gcloud dataproc jobs list --region=<region>
gcloud dataproc jobs describe <job-id> --region=<region>
```
### Privesc

{{#ref}}
../gcp-privilege-escalation/gcp-dataproc-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
