# GCP -  Dataproc Enum

{{#include ../../../banners/hacktricks-training.md}}

## Información Básica

Google Cloud Dataproc es un servicio completamente gestionado para ejecutar Apache Spark, Apache Hadoop, Apache Flink y otros marcos de big data. Se utiliza principalmente para procesamiento de datos, consultas, aprendizaje automático y análisis de flujo. Dataproc permite a las organizaciones crear clústeres para computación distribuida con facilidad, integrándose sin problemas con otros servicios de Google Cloud Platform (GCP) como Cloud Storage, BigQuery y Cloud Monitoring.

Los clústeres de Dataproc se ejecutan en máquinas virtuales (VMs), y la cuenta de servicio asociada con estas VMs determina los permisos y el nivel de acceso del clúster.

## Componentes

Un clúster de Dataproc típicamente incluye:

Nodo Maestro: Gestiona los recursos del clúster y coordina las tareas distribuidas.

Nodos Trabajadores: Ejecutan tareas distribuidas.

Cuentas de Servicio: Manejan llamadas a la API y acceden a otros servicios de GCP.

## Enumeración

Los clústeres, trabajos y configuraciones de Dataproc pueden ser enumerados para recopilar información sensible, como cuentas de servicio, permisos y posibles configuraciones incorrectas.

### Enumeración de Clústeres

Para enumerar clústeres de Dataproc y recuperar sus detalles:
```
gcloud dataproc clusters list --region=<region>
gcloud dataproc clusters describe <cluster-name> --region=<region>
```
### Enumeración de trabajos
```
gcloud dataproc jobs list --region=<region>
gcloud dataproc jobs describe <job-id> --region=<region>
```
### Privesc

{{#ref}}
../gcp-privilege-escalation/gcp-dataproc-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
