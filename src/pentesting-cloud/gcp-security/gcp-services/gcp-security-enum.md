# GCP - Güvenlik Enum

{{#include ../../../banners/hacktricks-training.md}}

## Temel Bilgiler

Google Cloud Platform (GCP) Güvenliği, Google Cloud ortamındaki kaynakların ve verilerin **güvenliğini** sağlamak için tasarlanmış **kapsamlı bir araç seti** ve uygulamaları içerir ve dört ana bölüme ayrılır: **Güvenlik Komut Merkezi, Tespitler ve Kontroller, Veri Koruma ve Sıfır Güven.**

## **Güvenlik Komut Merkezi**

Google Cloud Platform (GCP) Güvenlik Komut Merkezi (SCC), organizasyonların bulut varlıkları üzerinde görünürlük ve kontrol elde etmelerini sağlayan **GCP kaynakları için bir güvenlik ve risk yönetim aracıdır**. **Tehditleri tespit etmeye ve yanıt vermeye** yardımcı olur, kapsamlı güvenlik analitiği sunar, **yanlış yapılandırmaları** tanımlar, güvenlik standartlarıyla **uyumluluğu** sağlar ve otomatik tehdit tespiti ve yanıtı için diğer güvenlik araçlarıyla **entegrasyon** sağlar.

- **Genel Bakış**: Güvenlik Komut Merkezi'nin tüm sonuçlarının **genel bir görünümünü** görselleştiren panel.
- Tehditler: \[Premium Gerekli] Tüm **tespit edilen tehditleri** görselleştiren panel. Aşağıda Tehditler hakkında daha fazla bilgi kontrol edin.
- **Zafiyetler**: GCP hesabında **bulunan yanlış yapılandırmaları** görselleştiren panel.
- **Uyumluluk**: \[Premium gerekli] Bu bölüm, organizasyon genelinde **GCP ortamınızı çeşitli uyumluluk kontrollerine karşı test etmenizi** sağlar (örneğin PCI-DSS, NIST 800-53, CIS standartları...).
- **Varlıklar**: Bu bölüm, **kullanılan tüm varlıkları gösterir**, sysadminler (ve belki saldırganlar) için tek bir sayfada neyin çalıştığını görmek için çok faydalıdır.
- **Bulgular**: Bu, GCP Güvenliği'nin farklı bölümlerinin **bulgularını** bir **tabloda toplar** (sadece Komut Merkezi değil) ve önemli bulguları kolayca görselleştirmeyi sağlar.
- **Kaynaklar**: GCP güvenliğinin tüm farklı bölümlerinin **bulgularının** bir **özetini** gösterir.
- **Durum**: \[Premium Gerekli] Güvenlik Durumu, **GCP ortamının güvenliğini tanımlamanıza, değerlendirmenize ve izlemenize** olanak tanır. GCP'deki kaynakları kontrol eden/izleyen kısıtlamaları veya kısıtlamaları tanımlayan bir politika oluşturarak çalışır. [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy) adresinde bulunan birkaç önceden tanımlanmış durum şablonu vardır.

### **Tehditler**

Bir saldırganın perspektifinden, bu muhtemelen **saldırganı tespit edebileceği için en ilginç özellik**. Ancak, bu özelliğin **Premium** gerektirdiğini unutmayın (bu, şirketin daha fazla ödeme yapması gerektiği anlamına gelir), bu nedenle **belki de etkinleştirilmemiştir**.

Üç tür tehdit tespit mekanizması vardır:

- **Olay Tehditleri**: Google tarafından dahili olarak oluşturulan **kurallara** dayalı olarak **Cloud Logging**'den eşleşen olaylar tarafından üretilen bulgular. Ayrıca **Google Workspace günlüklerini** tarayabilir.
- Tüm [**tespit kurallarının açıklamasını belgelerde**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how_works) bulmak mümkündür.
- **Konteyner Tehditleri**: Konteynerlerin çekirdek düzeyindeki davranışını analiz ettikten sonra üretilen bulgular.
- **Özel Tehditler**: Şirket tarafından oluşturulan kurallar.

Her iki tür tespit edilen tehditler için önerilen yanıtları [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event_response) adresinde bulmak mümkündür.

### Sayım
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
### Post Exploitation

{{#ref}}
../gcp-post-exploitation/gcp-security-post-exploitation.md
{{#endref}}

## Detections and Controls

- **Chronicle SecOps**: Takımların tehdit tespiti, araştırma ve yanıt verme dahil olmak üzere güvenlik operasyonlarının hızını ve etkisini artırmalarına yardımcı olmak için tasarlanmış gelişmiş bir güvenlik operasyonları paketi.
- **reCAPTCHA Enterprise**: İnsan kullanıcılar ile botlar arasında ayrım yaparak web sitelerini scraping, kimlik bilgisi doldurma ve otomatik saldırılar gibi dolandırıcılık faaliyetlerinden koruyan bir hizmet.
- **Web Security Scanner**: Google Cloud veya başka bir web hizmetinde barındırılan web uygulamalarındaki güvenlik açıklarını ve yaygın güvenlik sorunlarını tespit eden otomatik güvenlik tarama aracı.
- **Risk Manager**: Kuruluşların Google Cloud risk duruşunu değerlendirmelerine, belgelemelerine ve anlamalarına yardımcı olan bir yönetişim, risk ve uyum (GRC) aracı.
- **Binary Authorization**: Sadece güvenilir konteyner görüntülerinin, işletmenin belirlediği politikalara göre Kubernetes Engine kümelerinde dağıtılmasını sağlayan bir güvenlik kontrolü.
- **Advisory Notifications**: Potansiyel güvenlik sorunları, güvenlik açıkları ve kaynakları güvenli tutmak için önerilen eylemler hakkında uyarılar ve tavsiyeler sağlayan bir hizmet.
- **Access Approval**: Kuruluşların Google çalışanlarının verilerine veya yapılandırmalarına erişmeden önce açık onay gerektirmesine olanak tanıyan bir özellik, ek bir kontrol ve denetlenebilirlik katmanı sağlar.
- **Managed Microsoft AD**: Kullanıcıların mevcut Microsoft AD bağımlı uygulamalarını ve iş yüklerini Google Cloud'da kullanmalarına olanak tanıyan yönetilen Microsoft Active Directory (AD) sunan bir hizmet.

## Data Protection

- **Sensitive Data Protection**: Kişisel bilgiler veya fikri mülkiyet gibi hassas verileri yetkisiz erişim veya ifşadan korumaya yönelik araçlar ve uygulamalar.
- **Data Loss Prevention (DLP)**: Kullanımda, hareket halindeyken ve dinlenirken verileri tanımlamak, izlemek ve korumak için derin içerik incelemesi ve kapsamlı veri koruma kuralları uygulayarak kullanılan bir dizi araç ve süreç.
- **Certificate Authority Service**: İç ve dış hizmetler için SSL/TLS sertifikalarının yönetimini, dağıtımını ve yenilemesini basitleştiren ve otomatikleştiren ölçeklenebilir ve güvenli bir hizmet.
- **Key Management**: Uygulamalarınız için kriptografik anahtarları yönetmenizi sağlayan bulut tabanlı bir hizmet, şifreleme anahtarlarının oluşturulması, içe aktarılması, döndürülmesi, kullanımı ve yok edilmesi dahil. Daha fazla bilgi için:

{{#ref}}
gcp-kms-enum.md
{{#endref}}

- **Certificate Manager**: SSL/TLS sertifikalarını yöneten ve dağıtan bir hizmet, web hizmetlerinize ve uygulamalarınıza güvenli ve şifreli bağlantılar sağlar.
- **Secret Manager**: API anahtarları, şifreler, sertifikalar ve diğer hassas veriler için güvenli ve kullanışlı bir depolama sistemi, bu sırların uygulamalarda kolay ve güvenli bir şekilde erişimini ve yönetimini sağlar. Daha fazla bilgi için:

{{#ref}}
gcp-secrets-manager-enum.md
{{#endref}}

## Zero Trust

- **BeyondCorp Enterprise**: Geleneksel bir VPN gerektirmeden, erişim vermeden önce kullanıcı ve cihaz güveninin doğrulanmasına dayanarak iç uygulamalara güvenli erişim sağlayan sıfır güvenlik platformu.
- **Policy Troubleshooter**: Yöneticilerin, bir kullanıcının belirli kaynaklara neden erişimi olduğunu veya neden erişimin reddedildiğini belirleyerek erişim sorunlarını anlamalarına ve çözmelerine yardımcı olmak için tasarlanmış bir araç, böylece sıfır güven politikalarının uygulanmasına yardımcı olur.
- **Identity-Aware Proxy (IAP)**: Google Cloud, yerel veya diğer bulutlarda çalışan bulut uygulamalarına ve sanal makinelerine erişimi, isteğin geldiği ağdan ziyade isteğin kimliği ve bağlamına göre kontrol eden bir hizmet.
- **VPC Service Controls**: Google Cloud'un Sanal Özel Bulut (VPC) içinde barındırılan kaynaklar ve hizmetler için ek koruma katmanları sağlayan güvenlik çevreleri, veri sızdırılmasını önler ve ayrıntılı erişim kontrolü sağlar.
- **Access Context Manager**: Google Cloud'un BeyondCorp Enterprise'ının bir parçası olan bu araç, bir kullanıcının kimliği ve isteğinin bağlamı, örneğin cihaz güvenlik durumu, IP adresi gibi faktörlere dayalı olarak ince ayrıntılı erişim kontrol politikalarını tanımlamaya ve uygulamaya yardımcı olur.

{{#include ../../../banners/hacktricks-training.md}}
