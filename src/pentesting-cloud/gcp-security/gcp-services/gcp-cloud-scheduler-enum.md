# GCP - Cloud Scheduler Enum

{{#include ../../../banners/hacktricks-training.md}}

## Basiese Inligting

Google Cloud Scheduler is 'n ten volle bestuurde **cron job diens** wat jou toelaat om arbitrêre werksgeleenthede—soos batch, groot data werksgeleenthede, wolk infrastruktuur operasies—op vasgestelde tye, datums, of intervalls uit te voer. Dit is geïntegreer met Google Cloud dienste, wat 'n manier bied om **verskeie take soos opdaterings of batch verwerking op 'n gereelde skedule te outomatiseer**.

Alhoewel dit vanuit 'n offensiewe oogpunt wonderlik klink, is dit eintlik nie so interessant nie omdat die diens net toelaat om sekere eenvoudige aksies op 'n sekere tyd te skeduleer en nie arbitrêre kode uit te voer nie.

Op die oomblik van hierdie skrywe is dit die aksies wat hierdie diens toelaat om te skeduleer:

<figure><img src="../../../images/image (347).png" alt="" width="563"><figcaption></figcaption></figure>

- **HTTP**: Stuur 'n HTTP versoek wat die koptekste en liggaam van die versoek definieer.
- **Pub/Sub**: Stuur 'n boodskap na 'n spesifieke onderwerp
- **App Engine HTTP**: Stuur 'n HTTP versoek na 'n app gebou in App Engine
- **Workflows**: Roep 'n GCP Workflow aan.

## Diens Rekeninge

'n Diensrekening is nie altyd vereis deur elke skeduleerder nie. Die **Pub/Sub** en **App Engine HTTP** tipes vereis geen diensrekening nie. Die **Workflow** vereis 'n diensrekening, maar dit sal net die workflow aanroep.\
Laastens, die gewone HTTP tipe vereis nie 'n diensrekening nie, maar dit is moontlik om aan te dui dat 'n soort van auth vereis word deur die workflow en om óf 'n **OAuth token of 'n OIDC token aan die gestuurde** HTTP versoek toe te voeg.

> [!CAUTION]
> Daarom is dit moontlik om die **OIDC** token te steel en die **OAuth** token van diensrekeninge **te misbruik deur die HTTP tipe**. Meer hieroor in die voorreg verhoging bladsy.

Let daarop dat dit moontlik is om die omvang van die OAuth token wat gestuur word te beperk, egter, standaard sal dit `cloud-platform` wees.

## Enumerasie
```bash
# Get schedulers in a location
gcloud scheduler jobs list --location us-central1

# Get information of an specific scheduler
gcloud scheduler jobs describe --location us-central1 <scheduler-name>
```
## Privilege Escalation

{{#ref}}
../gcp-privilege-escalation/gcp-cloudscheduler-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
