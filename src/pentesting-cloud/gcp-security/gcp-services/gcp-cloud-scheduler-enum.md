# GCP - Cloud Scheduler Enum

{{#include ../../../banners/hacktricks-training.md}}

## Temel Bilgiler

Google Cloud Scheduler, belirli zamanlarda, tarihlerde veya aralıklarda rastgele işler—örneğin, toplu, büyük veri işleri, bulut altyapı operasyonları—çalıştırmanıza olanak tanıyan tamamen yönetilen bir **cron job hizmetidir**. Google Cloud hizmetleriyle entegre olup, **güncellemeler veya düzenli programda toplu işleme gibi çeşitli görevleri otomatikleştirmenin bir yolunu sağlar**.

Saldırgan bir bakış açısıyla bu harika görünse de, aslında o kadar ilginç değildir çünkü hizmet yalnızca belirli bir zamanda belirli basit eylemleri planlamaya izin verir ve rastgele kod çalıştırmaz.

Bu yazının yazıldığı anda, bu hizmetin planlamaya izin verdiği eylemler şunlardır:

<figure><img src="../../../images/image (347).png" alt="" width="563"><figcaption></figcaption></figure>

- **HTTP**: İstek başlıklarını ve gövdesini tanımlayarak bir HTTP isteği gönderin.
- **Pub/Sub**: Belirli bir konuya bir mesaj gönderin.
- **App Engine HTTP**: App Engine'de oluşturulmuş bir uygulamaya bir HTTP isteği gönderin.
- **Workflows**: Bir GCP Workflow'u çağırın.

## Hizmet Hesapları

Her zaman her zamanlayıcı için bir hizmet hesabı gerekli değildir. **Pub/Sub** ve **App Engine HTTP** türleri herhangi bir hizmet hesabı gerektirmez. **Workflow** bir hizmet hesabı gerektirir, ancak yalnızca iş akışını çağırır.\
Son olarak, normal HTTP türü bir hizmet hesabı gerektirmez, ancak iş akışının bazı türde bir kimlik doğrulama gerektirdiğini belirtmek ve gönderilen HTTP isteğine ya bir **OAuth token ya da bir OIDC token eklemek** mümkündür.

> [!CAUTION]
> Bu nedenle, **HTTP türünü** kötüye kullanarak hizmet hesaplarından **OIDC** token'ını çalmak ve **OAuth** token'ını kötüye kullanmak mümkündür. Bu konuda daha fazla bilgi için ayrıcalık yükseltme sayfasına bakın.

Gönderilen OAuth token'ının kapsamını sınırlamak mümkündür, ancak varsayılan olarak `cloud-platform` olacaktır.

## Sayım
```bash
# Get schedulers in a location
gcloud scheduler jobs list --location us-central1

# Get information of an specific scheduler
gcloud scheduler jobs describe --location us-central1 <scheduler-name>
```
## Yetki Yükseltme

{{#ref}}
../gcp-privilege-escalation/gcp-cloudscheduler-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
