# GCP - Composer Enum

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

**Google Cloud Composer**는 **Apache Airflow**를 기반으로 한 완전 관리형 **워크플로 오케스트레이션 서비스**입니다. 이를 통해 클라우드와 온프레미스 데이터 센터에 걸쳐 있는 파이프라인을 작성, 예약 및 모니터링할 수 있습니다. GCP Composer를 사용하면 다른 Google Cloud 서비스와 워크플로를 쉽게 통합하여 효율적인 데이터 통합 및 분석 작업을 촉진할 수 있습니다. 이 서비스는 클라우드 기반 데이터 워크플로 관리의 복잡성을 단순화하도록 설계되어 대규모 데이터 처리 작업을 처리하는 데이터 엔지니어와 개발자에게 유용한 도구입니다.

### Enumeration
```bash
# Get envs info
gcloud composer environments list --locations <loc>
gcloud composer environments describe --location <loc> <environment>

# Get list of dags
gcloud composer environments storage dags list --environment <environment> --location <loc>
# Download dags code
mkdir /tmp/dags
gcloud composer environments storage dags export --environment <environment> --location <loc> --destination /tmp/dags

# List Data from composer
gcloud composer environments storage data list --environment <environment> --location <loc>
# Download data
mkdir /tmp/data
gcloud composer environments storage data export --environment <environment> --location <loc> --destination /tmp/data

# List Plugins from composer
gcloud composer environments storage plugins list --environment <environment> --location <loc>
# Download plugins
mkdir /tmp/plugins
gcloud composer environments storage data export --environment <environment> --location <loc> --destination /tmp/plugins
```
### Privesc

다음 페이지에서 **컴포저 권한을 악용하여 권한 상승**하는 방법을 확인할 수 있습니다:

{{#ref}}
../gcp-privilege-escalation/gcp-composer-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
