# GCP - Composer Enum

{{#include ../../../banners/hacktricks-training.md}}

## Información Básica

**Google Cloud Composer** es un servicio de **orquestación de flujos de trabajo** completamente gestionado, construido sobre **Apache Airflow**. Te permite crear, programar y monitorear pipelines que abarcan nubes y centros de datos locales. Con GCP Composer, puedes integrar fácilmente tus flujos de trabajo con otros servicios de Google Cloud, facilitando tareas eficientes de integración y análisis de datos. Este servicio está diseñado para simplificar la complejidad de gestionar flujos de trabajo de datos basados en la nube, convirtiéndolo en una herramienta valiosa para ingenieros de datos y desarrolladores que manejan tareas de procesamiento de datos a gran escala.

### Enumeración
```bash
# Get envs info
gcloud composer environments list --locations <loc>
gcloud composer environments describe --location <loc> <environment>

# Get list of dags
gcloud composer environments storage dags list --environment <environment> --location <loc>
# Download dags code
mkdir /tmp/dags
gcloud composer environments storage dags export --environment <environment> --location <loc> --destination /tmp/dags

# List Data from composer
gcloud composer environments storage data list --environment <environment> --location <loc>
# Download data
mkdir /tmp/data
gcloud composer environments storage data export --environment <environment> --location <loc> --destination /tmp/data

# List Plugins from composer
gcloud composer environments storage plugins list --environment <environment> --location <loc>
# Download plugins
mkdir /tmp/plugins
gcloud composer environments storage data export --environment <environment> --location <loc> --destination /tmp/plugins
```
### Privesc

En la siguiente página puedes verificar cómo **abusar de los permisos de composer para escalar privilegios**:

{{#ref}}
../gcp-privilege-escalation/gcp-composer-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
