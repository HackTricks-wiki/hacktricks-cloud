# GCP - Composer Enum

{{#include ../../../banners/hacktricks-training.md}}

## Informations de base

**Google Cloud Composer** est un service de **gestion des flux de travail** entièrement géré, construit sur **Apache Airflow**. Il vous permet de créer, planifier et surveiller des pipelines qui s'étendent sur des clouds et des centres de données sur site. Avec GCP Composer, vous pouvez facilement intégrer vos flux de travail avec d'autres services Google Cloud, facilitant ainsi l'intégration et l'analyse des données. Ce service est conçu pour simplifier la complexité de la gestion des flux de travail de données basés sur le cloud, en faisant un outil précieux pour les ingénieurs de données et les développeurs traitant des tâches de traitement de données à grande échelle.

### Énumération
```bash
# Get envs info
gcloud composer environments list --locations <loc>
gcloud composer environments describe --location <loc> <environment>

# Get list of dags
gcloud composer environments storage dags list --environment <environment> --location <loc>
# Download dags code
mkdir /tmp/dags
gcloud composer environments storage dags export --environment <environment> --location <loc> --destination /tmp/dags

# List Data from composer
gcloud composer environments storage data list --environment <environment> --location <loc>
# Download data
mkdir /tmp/data
gcloud composer environments storage data export --environment <environment> --location <loc> --destination /tmp/data

# List Plugins from composer
gcloud composer environments storage plugins list --environment <environment> --location <loc>
# Download plugins
mkdir /tmp/plugins
gcloud composer environments storage data export --environment <environment> --location <loc> --destination /tmp/plugins
```
### Privesc

Dans la page suivante, vous pouvez vérifier comment **abuser des permissions de composer pour escalader les privilèges** :

{{#ref}}
../gcp-privilege-escalation/gcp-composer-privesc.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
