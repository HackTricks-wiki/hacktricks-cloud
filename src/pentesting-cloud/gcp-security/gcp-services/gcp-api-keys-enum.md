# GCP - API Keys Enum

{{#include ../../../banners/hacktricks-training.md}}

## Información Básica

En Google Cloud Platform (GCP), las claves API son una cadena encriptada simple que **identifica una aplicación sin ningún principal**. Se utilizan para **acceder a las API de Google Cloud** que no requieren contexto de usuario. Esto significa que a menudo se utilizan en escenarios donde la aplicación accede a sus propios datos en lugar de datos de usuario.

### Restricciones

Puedes **aplicar restricciones a las claves API** para una mayor seguridad. Por ejemplo, puedes restringir la clave para que **sea utilizada solo por ciertas direcciones IP, sitios web, aplicaciones de android, aplicaciones de iOS**, o restringirla a **ciertas API o servicios** dentro de GCP.

### Enumeración

Es posible **ver la restricción de una clave API** (incluida la restricción de los puntos finales de la API de GCP) utilizando la lista de verbos o describir:
```bash
gcloud services api-keys list
gcloud services api-keys describe <key-uuid>
gcloud services api-keys list --show-deleted
```
> [!NOTE]
> Es posible recuperar claves eliminadas antes de que pasen 30 días, por eso puedes listar las claves eliminadas.

### Escalación de Privilegios y Post Explotación

{{#ref}}
../gcp-privilege-escalation/gcp-apikeys-privesc.md
{{#endref}}

### Enumeración No Autenticada

{{#ref}}
../gcp-unauthenticated-enum-and-access/gcp-api-keys-unauthenticated-enum.md
{{#endref}}

### Persistencia

{{#ref}}
../gcp-persistence/gcp-api-keys-persistence.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
