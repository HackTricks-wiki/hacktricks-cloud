# GCP - API Keys Enum

{{#include ../../../banners/hacktricks-training.md}}

## 基本信息

在 Google Cloud Platform (GCP) 中，API 密钥是一个简单的加密字符串，**用于识别一个没有任何主体的应用程序**。它们用于**访问不需要用户上下文的 Google Cloud APIs**。这意味着它们通常用于应用程序访问其自身数据而不是用户数据的场景。

### 限制

您可以**对 API 密钥应用限制**以增强安全性。例如，您可以限制密钥**仅由某些 IP 地址、网站、安卓应用、iOS 应用**使用，或限制它仅用于 GCP 内的**某些 APIs 或服务**。

### 枚举

可以使用动词列表或描述来**查看 API 密钥的限制**（包括 GCP API 端点限制）：
```bash
gcloud services api-keys list
gcloud services api-keys describe <key-uuid>
gcloud services api-keys list --show-deleted
```
> [!NOTE]
> 在30天内可以恢复已删除的密钥，这就是为什么您可以列出已删除的密钥。

### 权限提升与后期利用

{{#ref}}
../gcp-privilege-escalation/gcp-apikeys-privesc.md
{{#endref}}

### 未认证枚举

{{#ref}}
../gcp-unauthenticated-enum-and-access/gcp-api-keys-unauthenticated-enum.md
{{#endref}}

### 持久性

{{#ref}}
../gcp-persistence/gcp-api-keys-persistence.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
