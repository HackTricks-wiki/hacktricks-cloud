# GCP - API Keys Enum

{{#include ../../../banners/hacktricks-training.md}}

## Informações Básicas

No Google Cloud Platform (GCP), as chaves de API são uma string criptografada simples que **identifica uma aplicação sem qualquer principal**. Elas são usadas para **acessar as APIs do Google Cloud** que não requerem contexto de usuário. Isso significa que elas são frequentemente usadas em cenários onde a aplicação está acessando seus próprios dados em vez de dados de usuários.

### Restrições

Você pode **aplicar restrições às chaves de API** para aumentar a segurança. Por exemplo, você pode restringir a chave para ser **usada apenas por certos endereços IP, sites, aplicativos android, aplicativos iOS**, ou restringi-la a **certas APIs ou serviços** dentro do GCP.

### Enumeração

É possível **ver a restrição de uma chave de API** (incluindo a restrição de endpoints da API do GCP) usando a lista de verbos ou descrever:
```bash
gcloud services api-keys list
gcloud services api-keys describe <key-uuid>
gcloud services api-keys list --show-deleted
```
> [!NOTE]
> É possível recuperar chaves deletadas antes que 30 dias se passem, por isso você pode listar chaves deletadas.

### Escalação de Privilégios & Pós Exploração

{{#ref}}
../gcp-privilege-escalation/gcp-apikeys-privesc.md
{{#endref}}

### Enumeração Não Autenticada

{{#ref}}
../gcp-unauthenticated-enum-and-access/gcp-api-keys-unauthenticated-enum.md
{{#endref}}

### Persistência

{{#ref}}
../gcp-persistence/gcp-api-keys-persistence.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
