# GCP - Stackdriver Enum

{{#include ../../../banners/hacktricks-training.md}}

## [Stackdriver logging](https://cloud.google.com/sdk/gcloud/reference/logging/)

[**Stackdriver**](https://cloud.google.com/stackdriver/) Google tarafından sunulan kapsamlı bir altyapı **loglama paketi** olarak tanınmaktadır. Syslog gibi özellikler aracılığıyla hassas verileri yakalama yeteneğine sahiptir; bu özellik, Compute Instance'lar içinde yürütülen bireysel komutları raporlar. Ayrıca, yük dengeleyicilere veya App Engine uygulamalarına gönderilen HTTP isteklerini, VPC iletişimleri içindeki ağ paketleri meta verilerini ve daha fazlasını izler.

Bir Compute Instance için, ilgili hizmet hesabının yalnızca **YAZMA** izinlerine sahip olması, örnek aktivitelerinin loglanmasını sağlamak için yeterlidir. Ancak, bir yöneticinin hizmet hesabına hem **OKUMA** hem de **YAZMA** izinlerini **farkında olmadan** vermesi mümkündür. Bu tür durumlarda, loglar hassas bilgiler için incelenebilir.

Bunu başarmak için, [gcloud logging](https://cloud.google.com/sdk/gcloud/reference/logging/) aracı bir dizi araç sunar. Öncelikle, mevcut projenizde bulunan log türlerini belirlemek önerilir.
```bash
# List logs
gcloud logging logs list

# Read logs
gcloud logging read [FOLDER]

# Write logs
# An attacker writing logs may confuse the Blue Team
gcloud logging write [FOLDER] [MESSAGE]

# List Buckets
gcloud logging buckets list
```
## Referanslar

- [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/#reviewing-stackdriver-logging](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/#reviewing-stackdriver-logging)
- [https://initblog.com/2020/gcp-post-exploitation/](https://initblog.com/2020/gcp-post-exploitation/)

{{#include ../../../banners/hacktricks-training.md}}
