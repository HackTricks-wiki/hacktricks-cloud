# GCP - Serviceusage Privesc

{{#include ../../../banners/hacktricks-training.md}}

## serviceusage

AÅŸaÄŸÄ±daki izinler API key oluÅŸturmak ve Ã§almak iÃ§in kullanÄ±ÅŸlÄ±dÄ±r, belgelerde ÅŸu ÅŸekilde belirtilmiÅŸ: _API key, **herhangi bir principal olmadan bir uygulamayÄ± tanÄ±mlayan** basit ÅŸifrelenmiÅŸ bir dizgedir. **Genel verilere anonim olarak** eriÅŸmek iÃ§in faydalÄ±dÄ±rlar ve API isteklerini kota ve **faturalama** iÃ§in projenizle **iliÅŸkilendirmek** amacÄ±yla kullanÄ±lÄ±rlar._

Bu nedenle, bir API key ile o ÅŸirketin API kullanÄ±mÄ±nÄ±zÄ±n Ã¼cretini Ã¶demesini saÄŸlayabilirsiniz, ancak ayrÄ±calÄ±klarÄ± yÃ¼kseltemezsiniz.

DiÄŸer izinleri ve API key Ã¼retme yollarÄ±nÄ± Ã¶ÄŸrenmek iÃ§in ÅŸuna bakÄ±n:

{{#ref}}
gcp-apikeys-privesc.md
{{#endref}}

### `serviceusage.apiKeys.create`

BelgelenmemiÅŸ bir API bulundu; bu **API key oluÅŸturmak** iÃ§in kullanÄ±labilir:

<details><summary>Belgelendirilmeyen API'yi kullanarak API key oluÅŸtur</summary>
```bash
curl -XPOST "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
</details>

### `serviceusage.apiKeys.list`

HalihazÄ±rda oluÅŸturulmuÅŸ API keys'i listelemek iÃ§in baÅŸka bir belgelenmemiÅŸ API bulundu (API keys yanÄ±t iÃ§inde gÃ¶rÃ¼nÃ¼r):

<details><summary>BelgelenmemiÅŸ API kullanarak API keys'i listele</summary>
```bash
curl "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
</details>

### **`serviceusage.services.enable`** , **`serviceusage.services.use`**

Bu izinlerle bir attacker projede yeni servisleri etkinleÅŸtirebilir ve kullanabilir. Bu, attacker'Ä±n admin veya cloudidentity gibi servisleri etkinleÅŸtirerek Workspace bilgilerine eriÅŸmeye Ã§alÄ±ÅŸmasÄ±na veya ilginÃ§ verilere eriÅŸmek iÃ§in diÄŸer servisleri kullanmasÄ±na imkan verebilir.

## **Referanslar**

- [https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/](https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/)

<details>

<summary><strong>HackTricks'i destekleyin ve avantajlar kazanÄ±n!</strong></summary>

Bir **siber gÃ¼venlik ÅŸirketinde** mi Ã§alÄ±ÅŸÄ±yorsunuz? Åirketinizin **HackTricks'te reklamÄ±nÄ± gÃ¶rmek** ister misiniz? veya **PEASS'in en son sÃ¼rÃ¼mÃ¼ne eriÅŸmek ya da HackTricks'i PDF olarak indirmek** mi istiyorsunuz? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) sayfasÄ±na bakÄ±n!

KeÅŸfedin [**The PEASS Family**](https://opensea.io/collection/the-peass-family), Ã¶zel koleksiyonumuz [**NFTs**](https://opensea.io/collection/the-peass-family)

Edinin: [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

**KatÄ±lÄ±n** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) veya [**telegram group**](https://t.me/peass) veya **beni Twitter'da takip edin** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Hacking tricks'inizi PR gÃ¶ndererek paylaÅŸÄ±n:** [**hacktricks github repo**](https://github.com/carlospolop/hacktricks)\*\*\*\*

**.**

</details>



{{#include ../../../banners/hacktricks-training.md}}
