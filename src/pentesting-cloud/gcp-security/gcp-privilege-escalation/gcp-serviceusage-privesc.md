# GCP - Serviceusage Privesc

{{#include ../../../banners/hacktricks-training.md}}

## serviceusage

Οι παρακάτω άδειες είναι χρήσιμες για τη δημιουργία και κλοπή API keys, σημειώστε αυτό από τα έγγραφα: _Ένα API key είναι μια απλή κρυπτογραφημένη συμβολοσειρά που **ταυτοποιεί μια εφαρμογή χωρίς κανένα κύριο**. Είναι χρήσιμα για την πρόσβαση σε **δημόσια δεδομένα ανώνυμα**, και χρησιμοποιούνται για να **συσχετίσουν** τα API requests με το έργο σας για ποσοστά και **χρέωση**._

Επομένως, με ένα API key μπορείτε να κάνετε αυτή την εταιρεία να πληρώσει για τη χρήση του API, αλλά δεν θα μπορείτε να αναβαθμίσετε τα δικαιώματα.

Για να μάθετε άλλες άδειες και τρόπους δημιουργίας API keys ελέγξτε:

{{#ref}}
gcp-apikeys-privesc.md
{{#endref}}

### `serviceusage.apiKeys.create`

Βρέθηκε μια μη τεκμηριωμένη API που μπορεί να χρησιμοποιηθεί για **δημιουργία API keys:**
```bash
curl -XPOST "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
### `serviceusage.apiKeys.list`

Βρέθηκε μια άλλη μη τεκμηριωμένη API για την καταγραφή των API κλειδιών που έχουν ήδη δημιουργηθεί (τα API κλειδιά εμφανίζονται στην απάντηση):
```bash
curl "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
### **`serviceusage.services.enable`** , **`serviceusage.services.use`**

Με αυτές τις άδειες, ένας επιτιθέμενος μπορεί να ενεργοποιήσει και να χρησιμοποιήσει νέες υπηρεσίες στο έργο. Αυτό θα μπορούσε να επιτρέψει σε έναν **επιτιθέμενο να ενεργοποιήσει υπηρεσίες όπως admin ή cloudidentity** για να προσπαθήσει να αποκτήσει πρόσβαση σε πληροφορίες του Workspace, ή άλλες υπηρεσίες για να αποκτήσει πρόσβαση σε ενδιαφέροντα δεδομένα.

## **References**

- [https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/](https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/)

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

Do you work in a **cybersecurity company**? Do you want to see your **company advertised in HackTricks**? or do you want to have access the **latest version of the PEASS or download HackTricks in PDF**? Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!

Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)

Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

**Join the** [**💬**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Share your hacking tricks submitting PRs to the** [**hacktricks github repo**](https://github.com/carlospolop/hacktricks)\*\*\*\*

**.**

</details>
