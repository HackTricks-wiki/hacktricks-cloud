# GCP - Deploymentmaneger Privesc

{{#include ../../../banners/hacktricks-training.md}}

## deploymentmanager

### `deploymentmanager.deployments.create`

यह एकल अनुमति आपको **GCP में संसाधनों के नए डिप्लॉयमेंट लॉन्च करने** की अनुमति देती है, जिसमें मनचाहे सेवा खातों का उपयोग किया जा सकता है। उदाहरण के लिए, आप एक SA के साथ एक कंप्यूट इंस्टेंस लॉन्च कर सकते हैं ताकि उस पर बढ़त हासिल की जा सके।

आप वास्तव में **`gcloud deployment-manager types list`** में सूचीबद्ध किसी भी संसाधन को लॉन्च कर सकते हैं।

[**मूल शोध**](https://rhinosecuritylabs.com/gcp/privilege-escalation-google-cloud-platform-part-1/) में निम्नलिखित [**स्क्रिप्ट**](https://github.com/RhinoSecurityLabs/GCP-IAM-Privilege-Escalation/blob/master/ExploitScripts/deploymentmanager.deployments.create.py) का उपयोग एक कंप्यूट इंस्टेंस को डिप्लॉय करने के लिए किया गया है, हालाँकि वह स्क्रिप्ट काम नहीं करेगी। [**यहाँ एक स्क्रिप्ट देखें जो एक कमजोर वातावरण के निर्माण, शोषण और सफाई को स्वचालित करती है**](https://github.com/carlospolop/gcp_privesc_scripts/blob/main/tests/1-deploymentmanager.deployments.create.sh)**।**

### `deploymentmanager.deployments.update`

यह पिछले दुरुपयोग की तरह है लेकिन नए डिप्लॉयमेंट बनाने के बजाय, आप पहले से मौजूद एक को संशोधित करते हैं (इसलिए सावधान रहें)।

[**यहाँ एक स्क्रिप्ट देखें जो एक कमजोर वातावरण के निर्माण, शोषण और सफाई को स्वचालित करती है**](https://github.com/carlospolop/gcp_privesc_scripts/blob/main/tests/e-deploymentmanager.deployments.update.sh)**।**

### `deploymentmanager.deployments.setIamPolicy`

यह पिछले दुरुपयोग की तरह है लेकिन सीधे नए डिप्लॉयमेंट बनाने के बजाय, आप पहले आपको वह पहुंच देते हैं और फिर पिछले _deploymentmanager.deployments.create_ अनुभाग में समझाए गए अनुसार अनुमति का दुरुपयोग करते हैं।

## References

- [https://rhinosecuritylabs.com/gcp/privilege-escalation-google-cloud-platform-part-1/](https://rhinosecuritylabs.com/gcp/privilege-escalation-google-cloud-platform-part-1/)

{{#include ../../../banners/hacktricks-training.md}}
