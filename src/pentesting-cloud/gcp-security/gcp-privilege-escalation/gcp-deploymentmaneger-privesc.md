# GCP - Deploymentmaneger Privesc

{{#include ../../../banners/hacktricks-training.md}}

## deploymentmanager

### `deploymentmanager.deployments.create`

Hii ruhusa moja inakuwezesha **kuanzisha uanzishaji mpya** wa rasilimali ndani ya GCP kwa kutumia akaunti za huduma zisizo na mipaka. Unaweza kwa mfano kuanzisha mfano wa kompyuta na SA ili kupandisha hadhi kwake.

Kwa kweli unaweza **kuanzisha rasilimali yoyote** iliyoorodheshwa katika `gcloud deployment-manager types list`

Katika [**utafiti wa asili**](https://rhinosecuritylabs.com/gcp/privilege-escalation-google-cloud-platform-part-1/) ifuatayo [**script**](https://github.com/RhinoSecurityLabs/GCP-IAM-Privilege-Escalation/blob/master/ExploitScripts/deploymentmanager.deployments.create.py) inatumika kuanzisha mfano wa kompyuta, hata hivyo script hiyo haitafanya kazi. Angalia script ya kuendesha [**kuunda, kutumia na kusafisha mazingira yenye udhaifu hapa**](https://github.com/carlospolop/gcp_privesc_scripts/blob/main/tests/1-deploymentmanager.deployments.create.sh)**.**

### `deploymentmanager.deployments.update`

Hii ni kama matumizi ya awali lakini badala ya kuunda uanzishaji mpya, unabadilisha mmoja ulio tayari kuwepo (hivyo kuwa makini)

Angalia script ya kuendesha [**kuunda, kutumia na kusafisha mazingira yenye udhaifu hapa**](https://github.com/carlospolop/gcp_privesc_scripts/blob/main/tests/e-deploymentmanager.deployments.update.sh)**.**

### `deploymentmanager.deployments.setIamPolicy`

Hii ni kama matumizi ya awali lakini badala ya kuunda uanzishaji mpya moja kwa moja, kwanza unakupa ufikiaji huo na kisha unatumia ruhusa kama ilivyoelezwa katika sehemu ya awali _deploymentmanager.deployments.create_.

## References

- [https://rhinosecuritylabs.com/gcp/privilege-escalation-google-cloud-platform-part-1/](https://rhinosecuritylabs.com/gcp/privilege-escalation-google-cloud-platform-part-1/)

{{#include ../../../banners/hacktricks-training.md}}
