# GCP - Pubsub Privesc

{{#include ../../../banners/hacktricks-training.md}}

## PubSub

詳細情報は以下を参照してください：

{{#ref}}
../gcp-services/gcp-pub-sub.md
{{#endref}}

### `pubsub.snapshots.create`

トピックのスナップショットは**現在の未確認メッセージとその後のすべてのメッセージを含みます**。トピックのスナップショットを作成することで、**すべてのメッセージにアクセスでき、**トピックに直接アクセスすることを回避できます。

### **`pubsub.snapshots.setIamPolicy`**

以前の権限を自分に割り当てます。

### `pubsub.subscriptions.create`

受信したすべてのメッセージを指定されたURLに送信するプッシュサブスクリプションをトピックに作成できます。

### **`pubsub.subscriptions.update`**

メッセージを盗むために自分のURLをプッシュエンドポイントとして設定します。

### `pubsub.subscriptions.consume`

サブスクリプションを使用してメッセージにアクセスします。

### `pubsub.subscriptions.setIamPolicy`

以前の権限のいずれかを自分に与えます。

{{#include ../../../banners/hacktricks-training.md}}
