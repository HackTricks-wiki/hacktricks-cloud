# GCP - Secretmanager Privesc

{{#include ../../../banners/hacktricks-training.md}}

## secretmanager

secretmanager के बारे में अधिक जानकारी के लिए:

{{#ref}}
../gcp-services/gcp-secrets-manager-enum.md
{{#endref}}

### `secretmanager.versions.access`

यह आपको secret manager से secrets पढ़ने की अनुमति देता है और यह अधिकारों (privileges) बढ़ाने में मदद कर सकता है (निर्भर करता है कि secret के अंदर कौन सी जानकारी संग्रहीत है):

<details><summary>Clear-text secret version प्राप्त करें</summary>
```bash
# Get clear-text of version 1 of secret: "<secret name>"
gcloud secrets versions access 1 --secret="<secret_name>"
```
</details>

चूंकि यह भी एक post exploitation तकनीक है, इसे यहाँ पाया जा सकता है:

{{#ref}}
../gcp-post-exploitation/gcp-secretmanager-post-exploitation.md
{{#endref}}

### `secretmanager.secrets.setIamPolicy`

यह आपको secret manager से secrets पढ़ने का access देता है, जैसे:

<details><summary>Add IAM policy binding to secret</summary>
```bash
gcloud secrets add-iam-policy-binding <scret-name> \
--member="serviceAccount:<sa-name>@$PROJECT_ID.iam.gserviceaccount.com" \
--role="roles/secretmanager.secretAccessor"
```
</details>

{{#include ../../../banners/hacktricks-training.md}}
