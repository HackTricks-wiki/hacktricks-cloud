# GCP - Secretmanager Privesc

{{#include ../../../banners/hacktricks-training.md}}

## secretmanager

Για περισσότερες πληροφορίες σχετικά με το secretmanager:

{{#ref}}
../gcp-services/gcp-secrets-manager-enum.md
{{#endref}}

### `secretmanager.versions.access`

Αυτό σας δίνει πρόσβαση για να διαβάσετε τα μυστικά από τον διαχειριστή μυστικών και ίσως αυτό θα μπορούσε να βοηθήσει στην κλιμάκωση των προνομίων (ανάλογα με τις πληροφορίες που είναι αποθηκευμένες μέσα στο μυστικό):
```bash
# Get clear-text of version 1 of secret: "<secret name>"
gcloud secrets versions access 1 --secret="<secret_name>"
```
Καθώς αυτή είναι επίσης μια τεχνική μετα-εκμετάλλευσης, μπορεί να βρεθεί σε:

{{#ref}}
../gcp-post-exploitation/gcp-secretmanager-post-exploitation.md
{{#endref}}

### `secretmanager.secrets.setIamPolicy`

Αυτό σας δίνει πρόσβαση για να διαβάσετε τα μυστικά από τον διαχειριστή μυστικών, όπως χρησιμοποιώντας:
```bash
gcloud secrets add-iam-policy-binding <scret-name> \
--member="serviceAccount:<sa-name>@$PROJECT_ID.iam.gserviceaccount.com" \
--role="roles/secretmanager.secretAccessor"
```
{{#include ../../../banners/hacktricks-training.md}}
