# GCP - Γενικές Άδειες Privesc

{{#include ../../../banners/hacktricks-training.md}}

## Γενικές Ενδιαφέρουσες Άδειες

### \*.setIamPolicy

Αν κατέχεις έναν χρήστη που έχει την άδεια **`setIamPolicy`** σε έναν πόρο, μπορείς να **κλιμακώσεις τα προνόμια σε αυτόν τον πόρο** επειδή θα μπορείς να αλλάξεις την πολιτική IAM αυτού του πόρου και να σου δώσεις περισσότερα προνόμια πάνω σε αυτόν.\
Αυτή η άδεια μπορεί επίσης να επιτρέψει να **κλιμακώσεις σε άλλους φορείς** αν ο πόρος επιτρέπει την εκτέλεση κώδικα και η iam.ServiceAccounts.actAs δεν είναι απαραίτητη.

- _cloudfunctions.functions.setIamPolicy_
- Τροποποίησε την πολιτική μιας Cloud Function για να επιτρέψεις στον εαυτό σου να την καλέσει.

Υπάρχουν δεκάδες τύποι πόρων με αυτό το είδος άδειας, μπορείς να τους βρεις όλους στο [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) αναζητώντας το setIamPolicy.

### \*.create, \*.update

Αυτές οι άδειες μπορεί να είναι πολύ χρήσιμες για να προσπαθήσεις να κλιμακώσεις τα προνόμια σε πόρους δημιουργώντας **έναν νέο ή ενημερώνοντας έναν νέο**. Αυτές οι άδειες είναι ιδιαίτερα χρήσιμες αν έχεις επίσης την άδεια **iam.serviceAccounts.actAs** πάνω σε έναν Service Account και ο πόρος που έχεις .create/.update μπορεί να συνδέσει έναν service account.

### \*ServiceAccount\*

Αυτή η άδεια συνήθως θα σου επιτρέπει να **προσεγγίσεις ή να τροποποιήσεις έναν Service Account σε κάποιον πόρο** (π.χ.: compute.instances.setServiceAccount). Αυτό **θα μπορούσε να οδηγήσει σε ένα vector κλιμάκωσης προνομίων**, αλλά θα εξαρτηθεί από κάθε περίπτωση.

{{#include ../../../banners/hacktricks-training.md}}
