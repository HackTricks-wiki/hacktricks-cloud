# GCP - 일반 권한 상승

{{#include ../../../banners/hacktricks-training.md}}

## 일반 흥미로운 권한

### \*.setIamPolicy

당신이 **`setIamPolicy`** 권한을 가진 사용자를 소유하고 있는 경우, 해당 리소스의 IAM 정책을 변경하여 더 많은 권한을 부여할 수 있으므로 **해당 리소스에서 권한을 상승시킬 수 있습니다**.\
이 권한은 코드 실행을 허용하는 리소스에서 **다른 주체로 권한을 상승시킬 수** 있게 해줄 수 있으며, iam.ServiceAccounts.actAs가 필요하지 않습니다.

- _cloudfunctions.functions.setIamPolicy_
- Cloud Function의 정책을 수정하여 자신이 이를 호출할 수 있도록 허용합니다.

이러한 종류의 권한을 가진 리소스 유형이 수십 개 있으며, [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference)에서 setIamPolicy를 검색하여 모두 찾을 수 있습니다.

### \*.create, \*.update

이 권한은 **새로운 리소스를 생성하거나 기존 리소스를 업데이트**하여 권한을 상승시키는 데 매우 유용할 수 있습니다. 이러한 권한은 서비스 계정에 대해 **iam.serviceAccounts.actAs** 권한을 가지고 있고, .create/.update 권한이 있는 리소스가 서비스 계정을 연결할 수 있는 경우 특히 유용합니다.

### \*ServiceAccount\*

이 권한은 일반적으로 **일부 리소스에서 서비스 계정에 접근하거나 수정할 수 있게 해줍니다** (예: compute.instances.setServiceAccount). 이는 **권한 상승** 벡터로 이어질 수 있지만, 각 경우에 따라 다릅니다.

{{#include ../../../banners/hacktricks-training.md}}
