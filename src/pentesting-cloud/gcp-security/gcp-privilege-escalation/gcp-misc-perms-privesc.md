# GCP - Γενικές Άδειες Privesc

{{#include ../../../banners/hacktricks-training.md}}

## Γενικές Ενδιαφέρουσες Άδειες

### \*.setIamPolicy

Αν κατέχετε έναν χρήστη που έχει την άδεια **`setIamPolicy`** σε έναν πόρο, μπορείτε να **αναβαθμίσετε τα προνόμιά σας σε αυτόν τον πόρο** επειδή θα μπορείτε να αλλάξετε την πολιτική IAM αυτού του πόρου και να αποκτήσετε περισσότερα προνόμια πάνω του.\
Αυτή η άδεια μπορεί επίσης να επιτρέψει να **αναβαθμίσετε σε άλλους φορείς** αν ο πόρος επιτρέπει την εκτέλεση κώδικα και η iam.ServiceAccounts.actAs δεν είναι απαραίτητη.

- _cloudfunctions.functions.setIamPolicy_
- Τροποποιήστε την πολιτική μιας Cloud Function για να επιτρέψετε στον εαυτό σας να την καλέσει.

Υπάρχουν δεκάδες τύποι πόρων με αυτό το είδος άδειας, μπορείτε να τους βρείτε όλους στο [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) αναζητώντας το setIamPolicy.

### \*.create, \*.update

Αυτές οι άδειες μπορεί να είναι πολύ χρήσιμες για να προσπαθήσετε να αναβαθμίσετε τα προνόμιά σας σε πόρους δημιουργώντας **έναν νέο ή ενημερώνοντας έναν νέο**. Αυτές οι άδειες είναι ιδιαίτερα χρήσιμες αν έχετε επίσης την άδεια **iam.serviceAccounts.actAs** σε έναν Λογαριασμό Υπηρεσίας και ο πόρος που έχετε .create/.update μπορεί να συνδέσει έναν λογαριασμό υπηρεσίας.

### \*ServiceAccount\*

Αυτή η άδεια συνήθως θα σας επιτρέπει να **προσεγγίσετε ή να τροποποιήσετε έναν Λογαριασμό Υπηρεσίας σε κάποιον πόρο** (π.χ.: compute.instances.setServiceAccount). Αυτό **θα μπορούσε να οδηγήσει σε ένα vector αναβάθμισης προνομίων**, αλλά θα εξαρτηθεί από την κάθε περίπτωση.

{{#include ../../../banners/hacktricks-training.md}}
