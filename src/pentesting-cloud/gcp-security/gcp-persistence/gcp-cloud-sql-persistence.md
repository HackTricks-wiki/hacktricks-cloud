# GCP - Cloud SQL Persistence

{{#include ../../../banners/hacktricks-training.md}}

## Cloud SQL

Für weitere Informationen zu Cloud SQL siehe:

{{#ref}}
../gcp-services/gcp-cloud-sql-enum.md
{{#endref}}

### Datenbank exponieren und Ihre IP-Adresse auf die Whitelist setzen

Eine Datenbank, die nur von einem internen VPC zugänglich ist, kann extern exponiert werden und Ihre IP-Adresse kann auf die Whitelist gesetzt werden, damit Sie darauf zugreifen können.\
Für weitere Informationen siehe die Technik in:

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

### Neuen Benutzer erstellen / Passwort eines Benutzers aktualisieren / Passwort eines Benutzers abrufen

Um sich mit einer Datenbank zu verbinden, **benötigen Sie nur Zugriff auf den Port**, der von der Datenbank exponiert wird, sowie einen **Benutzernamen** und ein **Passwort**. Mit **genügend Berechtigungen** könnten Sie **einen neuen Benutzer erstellen** oder das **Passwort** eines bestehenden Benutzers **aktualisieren**.\
Eine andere Möglichkeit wäre, das **Passwort eines Benutzers zu brute-forcen**, indem Sie mehrere Passwörter ausprobieren oder auf das **gehashte** Passwort des Benutzers in der Datenbank (wenn möglich) zugreifen und es knacken.\
Denken Sie daran, dass **es möglich ist, die Benutzer einer Datenbank** über die GCP API aufzulisten.

> [!NOTE]
> Sie können Benutzer über die GCP API oder von innerhalb der Datenbank erstellen/aktualisieren, wenn Sie genügend Berechtigungen haben.

Für weitere Informationen siehe die Technik in:

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
