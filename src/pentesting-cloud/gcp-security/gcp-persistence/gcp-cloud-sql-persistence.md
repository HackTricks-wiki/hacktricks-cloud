# GCP - Cloud SQL Persistence

{{#include ../../../banners/hacktricks-training.md}}

## Cloud SQL

有关 Cloud SQL 的更多信息，请查看：

{{#ref}}
../gcp-services/gcp-cloud-sql-enum.md
{{#endref}}

### 暴露数据库并将您的 IP 地址列入白名单

仅可从内部 VPC 访问的数据库可以被外部暴露，并且可以将您的 IP 地址列入白名单，以便您可以访问它。\
有关更多信息，请查看以下技术：

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

### 创建新用户 / 更新用户密码 / 获取用户密码

要连接到数据库，您**只需访问数据库暴露的端口**和一个**用户名**及**密码**。拥有**足够的权限**，您可以**创建新用户**或**更新**现有用户的**密码**。\
另一种选择是通过尝试多个密码或访问数据库中用户的**哈希**密码（如果可能）并破解它来**暴力破解用户的密码**。\
请记住，**可以使用 GCP API 列出数据库的用户**。

> [!NOTE]
> 如果您拥有足够的权限，可以使用 GCP API 或从数据库内部创建/更新用户。

有关更多信息，请查看以下技术：

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
