# GCP - Cloud SQL Persistence

{{#include ../../../banners/hacktricks-training.md}}

## Cloud SQL

Aby uzyskać więcej informacji na temat Cloud SQL, sprawdź:

{{#ref}}
../gcp-services/gcp-cloud-sql-enum.md
{{#endref}}

### Ekspozycja bazy danych i dodanie swojego adresu IP do białej listy

Baza danych dostępna tylko z wewnętrznego VPC może być eksponowana na zewnątrz, a Twój adres IP może być dodany do białej listy, abyś mógł uzyskać do niej dostęp.\
Aby uzyskać więcej informacji, sprawdź technikę w:

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

### Utwórz nowego użytkownika / Zaktualizuj hasło użytkownika / Uzyskaj hasło użytkownika

Aby połączyć się z bazą danych, **potrzebujesz tylko dostępu do portu** eksponowanego przez bazę danych oraz **nazwa użytkownika** i **hasło**. Z **wystarczającymi uprawnieniami** możesz **utworzyć nowego użytkownika** lub **zaktualizować** hasło istniejącego użytkownika.\
Inną opcją byłoby **brute force hasła użytkownika** poprzez próbowanie kilku haseł lub uzyskanie dostępu do **zhardcodowanego** hasła użytkownika w bazie danych (jeśli to możliwe) i jego złamanie.\
Pamiętaj, że **możliwe jest wylistowanie użytkowników bazy danych** za pomocą GCP API.

> [!NOTE]
> Możesz tworzyć/aktualizować użytkowników za pomocą GCP API lub z poziomu bazy danych, jeśli masz wystarczające uprawnienia.

Aby uzyskać więcej informacji, sprawdź technikę w:

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
