# GCP - Cloud SQL Persistence

{{#include ../../../banners/hacktricks-training.md}}

## Cloud SQL

Per ulteriori informazioni su Cloud SQL controlla:

{{#ref}}
../gcp-services/gcp-cloud-sql-enum.md
{{#endref}}

### Esporre il database e aggiungere il tuo indirizzo IP alla whitelist

Un database accessibile solo da una VPC interna può essere esposto esternamente e il tuo indirizzo IP può essere aggiunto alla whitelist in modo da poterlo accedere.\
Per ulteriori informazioni controlla la tecnica in:

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

### Creare un nuovo utente / Aggiornare la password degli utenti / Ottenere la password di un utente

Per connettersi a un database hai **solo bisogno di accesso alla porta** esposta dal database e di un **nome utente** e **password**. Con **sufficienti privilegi** potresti **creare un nuovo utente** o **aggiornare** la **password** di un utente esistente.\
Un'altra opzione sarebbe **forzare la password di un utente** provando diverse password o accedendo alla password **hashata** dell'utente all'interno del database (se possibile) e decifrando.\
Ricorda che **è possibile elencare gli utenti di un database** utilizzando l'API GCP.

> [!NOTE]
> Puoi creare/aggiornare utenti utilizzando l'API GCP o dall'interno del database se hai sufficienti permessi.

Per ulteriori informazioni controlla la tecnica in:

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
