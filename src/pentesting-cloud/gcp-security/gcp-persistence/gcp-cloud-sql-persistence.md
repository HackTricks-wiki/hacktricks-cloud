# GCP - Cloud SQL Persistence

{{#include ../../../banners/hacktricks-training.md}}

## Cloud SQL

Pour plus d'informations sur Cloud SQL, consultez :

{{#ref}}
../gcp-services/gcp-cloud-sql-enum.md
{{#endref}}

### Exposer la base de données et ajouter votre adresse IP à la liste blanche

Une base de données accessible uniquement depuis un VPC interne peut être exposée à l'extérieur et votre adresse IP peut être ajoutée à la liste blanche afin que vous puissiez y accéder.\
Pour plus d'informations, consultez la technique dans :

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

### Créer un nouvel utilisateur / Mettre à jour le mot de passe des utilisateurs / Obtenir le mot de passe d'un utilisateur

Pour se connecter à une base de données, vous **avez juste besoin d'accéder au port** exposé par la base de données et d'un **nom d'utilisateur** et d'un **mot de passe**. Avec des **privilèges suffisants**, vous pourriez **créer un nouvel utilisateur** ou **mettre à jour** le **mot de passe** d'un utilisateur existant.\
Une autre option serait de **forcer le mot de passe d'un utilisateur** en essayant plusieurs mots de passe ou en accédant au mot de passe **haché** de l'utilisateur dans la base de données (si possible) et en le craquant.\
N'oubliez pas qu'il **est possible de lister les utilisateurs d'une base de données** en utilisant l'API GCP.

> [!NOTE]
> Vous pouvez créer/mettre à jour des utilisateurs en utilisant l'API GCP ou depuis l'intérieur de la base de données si vous avez suffisamment de permissions.

Pour plus d'informations, consultez la technique dans :

{{#ref}}
../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
