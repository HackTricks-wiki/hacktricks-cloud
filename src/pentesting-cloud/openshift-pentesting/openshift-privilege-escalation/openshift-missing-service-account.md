# OpenShift - 缺失的服务账户

## 缺失的服务账户

集群可能使用预配置模板自动设置角色、角色绑定甚至SCC到尚未创建的服务账户。这可能导致特权提升，如果您可以创建它们。在这种情况下，您将能够获取新创建的SA的令牌以及关联的角色或SCC。当缺失的SA是缺失项目的一部分时也会发生同样的情况，在这种情况下，如果您可以创建项目然后创建SA，您将获得关联的角色和SCC。

<figure><img src="../../../images/openshift-missing-service-account-image1.png" alt=""><figcaption></figcaption></figure>

在前面的图中，我们得到了多个缺失项目，意味着多个在角色绑定或SCC中出现但尚未在集群中创建的项目。同样，我们也得到了一个缺失的服务账户。

如果我们可以在其中创建一个项目和缺失的SA，SA将继承针对缺失服务账户的角色或SCC。这可能导致特权提升。

以下示例显示了一个缺失的SA，该SA被授予node-exporter SCC：

<figure><img src="../../../images/openshift-missing-service-account-image2.png" alt=""><figcaption></figcaption></figure>

## 工具

以下工具可用于枚举此问题，并更一般地绘制OpenShift集群：

{{#ref}}
https://github.com/maxDcb/OpenShiftGrapher
{{#endref}}
