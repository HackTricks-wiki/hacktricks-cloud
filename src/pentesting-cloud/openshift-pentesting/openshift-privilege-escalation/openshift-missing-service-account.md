# OpenShift - Missing Service Account

## Missing Service Account

Συμβαίνει ο κόμβος να έχει αναπτυχθεί με προρυθμισμένο πρότυπο που ρυθμίζει αυτόματα τους Ρόλους, τις Δεσμεύσεις Ρόλων και ακόμη και το SCC σε μια υπηρεσία λογαριασμού που δεν έχει δημιουργηθεί ακόμη. Αυτό μπορεί να οδηγήσει σε κλιμάκωση προνομίων στην περίπτωση που μπορείτε να τα δημιουργήσετε. Σε αυτή την περίπτωση, θα είστε σε θέση να αποκτήσετε το token της νεοδημιουργηθείσας SA και τον ρόλο ή το SCC που σχετίζεται. Η ίδια περίπτωση συμβαίνει όταν η λείπουσα SA είναι μέρος ενός λείποντος έργου, σε αυτή την περίπτωση αν μπορείτε να δημιουργήσετε το έργο και στη συνέχεια την SA, αποκτάτε τους Ρόλους και το SCC που σχετίζονται.

<figure><img src="../../../images/openshift-missing-service-account-image1.png" alt=""><figcaption></figcaption></figure>

Στο προηγούμενο γράφημα έχουμε πολλαπλά AbsentProject που σημαίνει πολλαπλά έργα που εμφανίζονται σε Δεσμεύσεις Ρόλων ή SCC αλλά δεν έχουν δημιουργηθεί ακόμη στον κόμβο. Με τον ίδιο τρόπο έχουμε επίσης μια AbsentServiceAccount.

Αν μπορούμε να δημιουργήσουμε ένα έργο και την λείπουσα SA σε αυτό, η SA θα κληρονομήσει από τον Ρόλο ή το SCC που στοχεύει την AbsentServiceAccount. Αυτό μπορεί να οδηγήσει σε κλιμάκωση προνομίων.

Το παρακάτω παράδειγμα δείχνει μια λείπουσα SA που έχει παραχωρηθεί SCC node-exporter:

<figure><img src="../../../images/openshift-missing-service-account-image2.png" alt=""><figcaption></figcaption></figure>

## Tools

Το παρακάτω εργαλείο μπορεί να χρησιμοποιηθεί για να καταγράψει αυτό το ζήτημα και πιο γενικά για να απεικονίσει έναν κόμβο OpenShift:

{{#ref}}
https://github.com/maxDcb/OpenShiftGrapher
{{#endref}}
