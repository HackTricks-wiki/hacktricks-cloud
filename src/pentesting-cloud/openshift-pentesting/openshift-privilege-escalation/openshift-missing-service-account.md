# OpenShift - 누락된 서비스 계정

## 누락된 서비스 계정

클러스터가 미리 구성된 템플릿으로 배포되어 아직 생성되지 않은 서비스 계정에 대해 Roles, RoleBindings 및 심지어 SCC를 자동으로 설정하는 경우가 발생합니다. 이 경우, 이를 생성할 수 있다면 권한 상승으로 이어질 수 있습니다. 이 경우 새로 생성된 SA의 토큰과 관련된 역할 또는 SCC를 얻을 수 있습니다. 누락된 SA가 누락된 프로젝트의 일부인 경우에도 동일한 경우가 발생하며, 이 경우 프로젝트를 생성한 다음 SA를 생성하면 관련된 Roles 및 SCC를 얻을 수 있습니다.

<figure><img src="../../../images/openshift-missing-service-account-image1.png" alt=""><figcaption></figcaption></figure>

이전 그래프에서는 Roles Bindings 또는 SCC에 나타나지만 클러스터에 아직 생성되지 않은 여러 프로젝트를 의미하는 여러 AbsentProject가 있습니다. 같은 맥락에서 AbsentServiceAccount도 있습니다.

프로젝트와 그 안에 누락된 SA를 생성할 수 있다면, SA는 AbsentServiceAccount를 대상으로 하는 Role 또는 SCC에서 상속받게 됩니다. 이는 권한 상승으로 이어질 수 있습니다.

다음 예시는 node-exporter SCC가 부여된 누락된 SA를 보여줍니다:

<figure><img src="../../../images/openshift-missing-service-account-image2.png" alt=""><figcaption></figcaption></figure>

## 도구

다음 도구는 이 문제를 열거하고 일반적으로 OpenShift 클러스터를 그래프화하는 데 사용할 수 있습니다:

{{#ref}}
https://github.com/maxDcb/OpenShiftGrapher
{{#endref}}
