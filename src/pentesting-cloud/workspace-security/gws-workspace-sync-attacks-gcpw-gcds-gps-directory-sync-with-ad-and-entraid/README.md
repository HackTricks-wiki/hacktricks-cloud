# GWS - Workspace Sync Attacks (GCPW, GCDS, GPS, Directory Sync with AD & EntraID)

{{#include ../../../banners/hacktricks-training.md}}

## GCPW - Google Credential Provider for Windows

이것은 Google Workspaces가 제공하는 단일 로그인으로, 사용자가 **자신의 Workspace 자격 증명**을 사용하여 Windows PC에 로그인할 수 있습니다. 또한, 이는 PC의 여러 위치(디스크, 메모리 및 레지스트리)에 Google Workspace에 접근하기 위한 **토큰**을 저장합니다... **평문 비밀번호**를 얻는 것도 가능합니다.

> [!TIP]
> [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe)가 **GCPW**를 감지하고, 구성에 대한 정보를 얻으며 **심지어 토큰**까지 얻을 수 있다는 점에 유의하세요.

자세한 정보는 다음에서 확인할 수 있습니다:

{{#ref}}
gcpw-google-credential-provider-for-windows.md
{{#endref}}

## GCSD - Google Cloud Directory Sync

이것은 **활성 디렉토리 사용자 및 그룹을 Workspace와 동기화하는 데 사용할 수 있는 도구**입니다(현재 이 글을 작성할 때는 그 반대는 아닙니다).

이 도구는 **Workspace 슈퍼유저 및 권한이 있는 AD 사용자**의 자격 증명이 필요하기 때문에 흥미롭습니다. 따라서, 사용자 동기화를 위해 가끔씩 동기화하는 도메인 서버 내에서 이를 찾는 것이 가능할 수 있습니다.

> [!TIP]
> [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe)가 **GCDS**를 감지하고, 구성에 대한 정보를 얻으며 **심지어 비밀번호 및 암호화된 자격 증명**까지 얻을 수 있다는 점에 유의하세요.

자세한 정보는 다음에서 확인할 수 있습니다:

{{#ref}}
gcds-google-cloud-directory-sync.md
{{#endref}}

## GPS - Google Password Sync

이것은 Google이 제공하는 바이너리 및 서비스로, **AD와 Workspace 간의 사용자 비밀번호를 동기화**하는 역할을 합니다. 사용자가 AD에서 비밀번호를 변경할 때마다 Google에 설정됩니다.

`C:\Program Files\Google\Password Sync`에 설치되며, 여기에서 구성할 수 있는 바이너리 `PasswordSync.exe`와 계속 실행되는 서비스인 `password_sync_service.exe`를 찾을 수 있습니다.

> [!TIP]
> [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe)가 **GPS**를 감지하고, 구성에 대한 정보를 얻으며 **심지어 비밀번호 및 암호화된 자격 증명**까지 얻을 수 있다는 점에 유의하세요.

자세한 정보는 다음에서 확인할 수 있습니다:

{{#ref}}
gps-google-password-sync.md
{{#endref}}

## Admin Directory Sync

GCDS와 사용자를 동기화하는 이 방법의 주요 차이점은 GCDS가 다운로드하여 실행해야 하는 일부 바이너리로 수동으로 수행되는 반면, **Admin Directory Sync는 서버리스**로 Google에 의해 관리된다는 점입니다 [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

자세한 정보는 다음에서 확인할 수 있습니다:

{{#ref}}
gws-admin-directory-sync.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
