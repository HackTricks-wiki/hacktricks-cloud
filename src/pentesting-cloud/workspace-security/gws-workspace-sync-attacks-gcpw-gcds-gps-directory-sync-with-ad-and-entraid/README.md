# GWS - Attaques de synchronisation de Workspace (GCPW, GCDS, GPS, Synchronisation de répertoire avec AD & EntraID)

{{#include ../../../banners/hacktricks-training.md}}

## GCPW - Google Credential Provider for Windows

C'est le système d'authentification unique que Google Workspaces fournit pour que les utilisateurs puissent se connecter à leurs PC Windows en utilisant **leurs identifiants Workspace**. De plus, cela stockera **des tokens** pour accéder à Google Workspace à certains endroits sur le PC : disque, mémoire et registre... il est même possible d'obtenir le **mot de passe en clair**.

> [!TIP]
> Notez que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) est capable de détecter **GCPW**, d'obtenir des informations sur la configuration et **même des tokens**.

Trouvez plus d'informations à ce sujet dans :

{{#ref}}
gcpw-google-credential-provider-for-windows.md
{{#endref}}

## GCSD - Google Cloud Directory Sync

C'est un outil qui peut être utilisé pour **synchroniser vos utilisateurs et groupes d'annuaire actif avec votre Workspace** (et non l'inverse au moment de la rédaction).

C'est intéressant car c'est un outil qui nécessitera **les identifiants d'un super utilisateur Workspace et d'un utilisateur AD privilégié**. Il pourrait donc être possible de le trouver à l'intérieur d'un serveur de domaine qui synchroniserait des utilisateurs de temps en temps.

> [!TIP]
> Notez que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) est capable de détecter **GCDS**, d'obtenir des informations sur la configuration et **même les mots de passe et les identifiants chiffrés**.

Trouvez plus d'informations à ce sujet dans :

{{#ref}}
gcds-google-cloud-directory-sync.md
{{#endref}}

## GPS - Google Password Sync

C'est le binaire et le service que Google propose pour **maintenir synchronisés les mots de passe des utilisateurs entre l'AD** et Workspace. Chaque fois qu'un utilisateur change son mot de passe dans l'AD, il est mis à jour sur Google.

Il est installé dans `C:\Program Files\Google\Password Sync` où vous pouvez trouver le binaire `PasswordSync.exe` pour le configurer et `password_sync_service.exe` (le service qui continuera à fonctionner).

> [!TIP]
> Notez que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) est capable de détecter **GPS**, d'obtenir des informations sur la configuration et **même les mots de passe et les identifiants chiffrés**.

Trouvez plus d'informations à ce sujet dans :

{{#ref}}
gps-google-password-sync.md
{{#endref}}

## Synchronisation de répertoire Admin

La principale différence entre cette méthode de synchronisation des utilisateurs avec GCDS est que GCDS se fait manuellement avec certains binaires que vous devez télécharger et exécuter tandis que **la synchronisation de répertoire Admin est sans serveur** gérée par Google à [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

Trouvez plus d'informations à ce sujet dans :

{{#ref}}
gws-admin-directory-sync.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
