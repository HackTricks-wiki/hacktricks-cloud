# GWS - Ataques de Sincronización de Workspace (GCPW, GCDS, GPS, Sincronización de Directorios con AD y EntraID)

{{#include ../../../banners/hacktricks-training.md}}

## GCPW - Proveedor de Credenciales de Google para Windows

Este es el inicio de sesión único que Google Workspaces proporciona para que los usuarios puedan iniciar sesión en sus PC con Windows usando **sus credenciales de Workspace**. Además, esto almacenará **tokens** para acceder a Google Workspace en algunos lugares de la PC: Disco, memoria y el registro... incluso es posible obtener la **contraseña en texto claro**.

> [!TIP]
> Tenga en cuenta que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) es capaz de detectar **GCPW**, obtener información sobre la configuración y **incluso tokens**.

Encuentra más información sobre esto en:

{{#ref}}
gcpw-google-credential-provider-for-windows.md
{{#endref}}

## GCSD - Sincronización de Directorios de Google Cloud

Esta es una herramienta que se puede usar para **sincronizar sus usuarios y grupos de Active Directory con su Workspace** (y no al revés en el momento de escribir esto).

Es interesante porque es una herramienta que requerirá las **credenciales de un superusuario de Workspace y un usuario privilegiado de AD**. Por lo tanto, podría ser posible encontrarla dentro de un servidor de dominio que esté sincronizando usuarios de vez en cuando.

> [!TIP]
> Tenga en cuenta que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) es capaz de detectar **GCDS**, obtener información sobre la configuración y **incluso las contraseñas y credenciales encriptadas**.

Encuentra más información sobre esto en:

{{#ref}}
gcds-google-cloud-directory-sync.md
{{#endref}}

## GPS - Sincronización de Contraseñas de Google

Este es el binario y servicio que Google ofrece para **mantener sincronizadas las contraseñas de los usuarios entre el AD** y Workspace. Cada vez que un usuario cambia su contraseña en el AD, se establece en Google.

Se instala en `C:\Program Files\Google\Password Sync` donde puedes encontrar el binario `PasswordSync.exe` para configurarlo y `password_sync_service.exe` (el servicio que seguirá ejecutándose).

> [!TIP]
> Tenga en cuenta que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) es capaz de detectar **GPS**, obtener información sobre la configuración y **incluso las contraseñas y credenciales encriptadas**.

Encuentra más información sobre esto en:

{{#ref}}
gps-google-password-sync.md
{{#endref}}

## Sincronización de Directorios de Admin

La principal diferencia entre esta forma de sincronizar usuarios con GCDS es que GCDS se realiza manualmente con algunos binarios que necesitas descargar y ejecutar, mientras que **la Sincronización de Directorios de Admin es sin servidor** gestionada por Google en [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

Encuentra más información sobre esto en:

{{#ref}}
gws-admin-directory-sync.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
