# GWS - Workspace Sync Attacks (GCPW, GCDS, GPS, Directory Sync with AD & EntraID)

{{#include ../../../banners/hacktricks-training.md}}

## GCPW - Google Credential Provider for Windows

这是Google Workspaces提供的单点登录，用户可以使用**他们的Workspace凭据**登录Windows PC。此外，它将在PC的某些地方存储**令牌**以访问Google Workspace：磁盘、内存和注册表……甚至可以获取**明文密码**。

> [!TIP]
> 请注意，[**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe)能够检测到**GCPW**，获取有关配置的信息，**甚至令牌**。

有关更多信息，请参见：

{{#ref}}
gcpw-google-credential-provider-for-windows.md
{{#endref}}

## GCSD - Google Cloud Directory Sync

这是一个可以用来**将您的活动目录用户和组同步到您的Workspace**的工具（而不是反向同步，在撰写本文时）。

这很有趣，因为这是一个需要**Workspace超级用户和特权AD用户凭据**的工具。因此，可能会在一个定期同步用户的域服务器中找到它。

> [!TIP]
> 请注意，[**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe)能够检测到**GCDS**，获取有关配置的信息，**甚至密码和加密凭据**。

有关更多信息，请参见：

{{#ref}}
gcds-google-cloud-directory-sync.md
{{#endref}}

## GPS - Google Password Sync

这是Google提供的二进制文件和服务，用于**保持AD和Workspace之间用户密码的同步**。每当用户在AD中更改密码时，它会被设置到Google。

它安装在`C:\Program Files\Google\Password Sync`，您可以在此找到二进制文件`PasswordSync.exe`以进行配置，以及`password_sync_service.exe`（将继续运行的服务）。

> [!TIP]
> 请注意，[**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe)能够检测到**GPS**，获取有关配置的信息，**甚至密码和加密凭据**。

有关更多信息，请参见：

{{#ref}}
gps-google-password-sync.md
{{#endref}}

## Admin Directory Sync

这种与GCDS同步用户的方式的主要区别在于，GCDS是手动完成的，需要下载和运行一些二进制文件，而**Admin Directory Sync是无服务器的**，由Google在[https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories)管理。

有关更多信息，请参见：

{{#ref}}
gws-admin-directory-sync.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
