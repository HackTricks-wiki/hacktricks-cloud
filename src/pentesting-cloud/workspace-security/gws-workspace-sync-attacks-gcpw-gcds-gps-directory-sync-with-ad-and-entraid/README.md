# GWS - Ataques de Sincronização do Workspace (GCPW, GCDS, GPS, Sincronização de Diretório com AD & EntraID)

{{#include ../../../banners/hacktricks-training.md}}

## GCPW - Google Credential Provider for Windows

Este é o login único que o Google Workspaces fornece para que os usuários possam fazer login em seus PCs com Windows usando **suas credenciais do Workspace**. Além disso, isso armazenará **tokens** para acessar o Google Workspace em alguns lugares no PC: Disco, memória e o registro... é até possível obter a **senha em texto claro**.

> [!TIP]
> Note que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) é capaz de detectar **GCPW**, obter informações sobre a configuração e **até mesmo tokens**.

Encontre mais informações sobre isso em:

{{#ref}}
gcpw-google-credential-provider-for-windows.md
{{#endref}}

## GCSD - Google Cloud Directory Sync

Esta é uma ferramenta que pode ser usada para **sincronizar seus usuários e grupos do Active Directory com seu Workspace** (e não o contrário até o momento da escrita).

É interessante porque é uma ferramenta que exigirá as **credenciais de um superusuário do Workspace e de um usuário privilegiado do AD**. Portanto, pode ser possível encontrá-la dentro de um servidor de domínio que estaria sincronizando usuários de tempos em tempos.

> [!TIP]
> Note que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) é capaz de detectar **GCDS**, obter informações sobre a configuração e **até mesmo as senhas e credenciais criptografadas**.

Encontre mais informações sobre isso em:

{{#ref}}
gcds-google-cloud-directory-sync.md
{{#endref}}

## GPS - Google Password Sync

Este é o binário e serviço que o Google oferece para **manter sincronizadas as senhas dos usuários entre o AD** e o Workspace. Sempre que um usuário altera sua senha no AD, ela é definida para o Google.

Ele é instalado em `C:\Program Files\Google\Password Sync`, onde você pode encontrar o binário `PasswordSync.exe` para configurá-lo e `password_sync_service.exe` (o serviço que continuará em execução).

> [!TIP]
> Note que [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) é capaz de detectar **GPS**, obter informações sobre a configuração e **até mesmo as senhas e credenciais criptografadas**.

Encontre mais informações sobre isso em:

{{#ref}}
gps-google-password-sync.md
{{#endref}}

## Sincronização de Diretório Admin

A principal diferença entre essa forma de sincronizar usuários com o GCDS é que o GCDS é feito manualmente com alguns binários que você precisa baixar e executar, enquanto **a Sincronização de Diretório Admin é sem servidor** gerenciada pelo Google em [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

Encontre mais informações sobre isso em:

{{#ref}}
gws-admin-directory-sync.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
