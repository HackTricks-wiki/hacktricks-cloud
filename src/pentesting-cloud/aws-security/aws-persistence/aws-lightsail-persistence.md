# AWS - Lightsail Persistence

{{#include ../../../banners/hacktricks-training.md}}

## Lightsail

Für weitere Informationen siehe:

{{#ref}}
../aws-services/aws-lightsail-enum.md
{{#endref}}

### Download Instance SSH keys & DB passwords

Sie werden wahrscheinlich nicht geändert, daher ist es eine gute Option, sie zu haben, um Persistenz zu gewährleisten.

### Backdoor Instances

Ein Angreifer könnte Zugriff auf die Instanzen erhalten und sie mit einer Hintertür versehen:

- Zum Beispiel mit einem traditionellen **rootkit**
- Hinzufügen eines neuen **öffentlichen SSH-Schlüssels**
- Einen Port mit Portknocking und einer Hintertür exponieren

### DNS persistence

Wenn Domains konfiguriert sind:

- Erstellen Sie eine Subdomain, die auf Ihre IP zeigt, sodass Sie eine **subdomain takeover** haben
- Erstellen Sie einen **SPF**-Eintrag, der es Ihnen ermöglicht, **E-Mails** von der Domain zu senden
- Konfigurieren Sie die **Hauptdomain-IP auf Ihre eigene** und führen Sie einen **MitM** von Ihrer IP zu den legitimen durch

{{#include ../../../banners/hacktricks-training.md}}
