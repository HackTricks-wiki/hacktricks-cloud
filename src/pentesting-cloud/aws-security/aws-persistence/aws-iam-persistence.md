# AWS - IAM Persistensie

{{#include ../../../banners/hacktricks-training.md}}

## IAM

Vir meer inligting, toegang tot:

{{#ref}}
../aws-services/aws-iam-enum.md
{{#endref}}

### Algemene IAM Persistensie

- Skep 'n gebruiker
- Voeg 'n beheerde gebruiker by 'n bevoorregte groep
- Skep toegang sleutels (van die nuwe gebruiker of van alle gebruikers)
- Gee ekstra toestemmings aan beheerde gebruikers/groepe (aangehegte beleide of inline beleide)
- Deaktiveer MFA / Voeg jou eie MFA-toestel by
- Skep 'n Rol Ketting Juggling situasie (meer hieroor hieronder in STS persistensie)

### Backdoor Rol Vertroue Beleide

Jy kan 'n backdoor in 'n vertrouensbeleid plaas om dit te kan aanvaar vir 'n eksterne hulpbron wat deur jou beheer word (of vir almal):
```json
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Principal": {
"AWS": ["*", "arn:aws:iam::123213123123:root"]
},
"Action": "sts:AssumeRole"
}
]
}
```
### Backdoor-beleid Weergawe

Gee Administrateur regte aan 'n beleid in nie sy laaste weergawe nie (die laaste weergawe moet legitiem lyk), en ken dan daardie weergawe van die beleid toe aan 'n beheerde gebruiker/groep.

### Backdoor / Skep Identiteitsverskaffer

As die rekening reeds 'n algemene identiteitsverskaffer (soos Github) vertrou, kan die voorwaardes van die vertroue verhoog word sodat die aanvaller dit kan misbruik. 

{{#include ../../../banners/hacktricks-training.md}}
