# AWS - IAM Persistence

{{#include ../../../banners/hacktricks-training.md}}

## IAM

अधिक जानकारी के लिए पहुँचें:

{{#ref}}
../aws-services/aws-iam-enum.md
{{#endref}}

### सामान्य IAM स्थिरता

- एक उपयोगकर्ता बनाएं
- एक नियंत्रित उपयोगकर्ता को एक विशेष समूह में जोड़ें
- एक्सेस कुंजी बनाएं (नए उपयोगकर्ता या सभी उपयोगकर्ताओं की)
- नियंत्रित उपयोगकर्ताओं/समूहों को अतिरिक्त अनुमतियाँ दें (संलग्न नीतियाँ या इनलाइन नीतियाँ)
- MFA को निष्क्रिय करें / अपना खुद का MFA उपकरण जोड़ें
- एक भूमिका श्रृंखला जुग्गलिंग स्थिति बनाएं (इस पर नीचे STS स्थिरता में अधिक)

### बैकडोर भूमिका ट्रस्ट नीतियाँ

आप एक ट्रस्ट नीति में बैकडोर कर सकते हैं ताकि आप इसे एक बाहरी संसाधन के लिए मान लें जो आपके द्वारा नियंत्रित है (या सभी के लिए):
```json
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Principal": {
"AWS": ["*", "arn:aws:iam::123213123123:root"]
},
"Action": "sts:AssumeRole"
}
]
}
```
### बैकडोर नीति संस्करण

एक नीति को उसके अंतिम संस्करण में नहीं, बल्कि एक संस्करण में व्यवस्थापक अनुमतियाँ दें (अंतिम संस्करण को वैध दिखना चाहिए), फिर उस नीति के संस्करण को एक नियंत्रित उपयोगकर्ता/समूह को सौंपें।

### बैकडोर / पहचान प्रदाता बनाना

यदि खाता पहले से ही एक सामान्य पहचान प्रदाता (जैसे Github) पर भरोसा कर रहा है, तो विश्वास की शर्तों को बढ़ाया जा सकता है ताकि हमलावर उनका दुरुपयोग कर सके।

{{#include ../../../banners/hacktricks-training.md}}
