# AWS - Lightsail Persistenz

{{#include ../../../../banners/hacktricks-training.md}}

## Lightsail

Für mehr Informationen siehe:

{{#ref}}
../../aws-services/aws-lightsail-enum.md
{{#endref}}

### Instanz-SSH-Keys & DB-Passwörter herunterladen

Sie werden wahrscheinlich nicht geändert, daher ist deren Besitz eine gute Option für Persistenz

### Backdoor-Instanzen

Ein Angreifer könnte Zugriff auf die Instanzen erlangen und sie backdooren:

- Zum Beispiel ein traditionelles **rootkit** verwenden
- Einen neuen **public SSH key** hinzufügen
- Einen Port mittels port knocking für eine backdoor öffnen

### DNS-Persistenz

Wenn Domains konfiguriert sind:

- Eine Subdomain anlegen, die auf deine IP zeigt, um eine **subdomain takeover** zu ermöglichen
- Einen **SPF**-Record erstellen, der es dir erlaubt, **E-Mails** von der Domain zu senden
- Setze die **Hauptdomain-IP auf deine eigene** und führe ein **MitM** von deiner IP zu den legitimen durch

{{#include ../../../../banners/hacktricks-training.md}}
