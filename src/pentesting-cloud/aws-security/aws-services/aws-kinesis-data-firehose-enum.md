# AWS - Kinesis Data Firehose Enum

{{#include ../../../banners/hacktricks-training.md}}

## Kinesis Data Firehose

Amazon Kinesis Data Firehose ni **huduma inayosimamiwa kikamilifu** inayorahisisha usambazaji wa **data za mtiririko wa wakati halisi**. Inasaidia maeneo mbalimbali, ikiwa ni pamoja na Amazon Simple Storage Service (Amazon S3), Amazon Redshift, Amazon OpenSearch Service, Splunk, na mwisho wa HTTP wa kawaida.

Huduma hii inapunguza hitaji la kuandika programu au kusimamia rasilimali kwa kuruhusu wazalishaji wa data kuwekewa mipangilio ya kupeleka data moja kwa moja kwa Kinesis Data Firehose. Huduma hii inawajibika kwa **usambazaji wa kiotomatiki wa data kwa eneo lililowekwa**. Zaidi ya hayo, Kinesis Data Firehose inatoa chaguo la **kubadilisha data kabla ya usambazaji wake**, ikiongeza kubadilika kwake na matumizi yake katika matumizi mbalimbali.

### Enumeration
```bash
# Get delivery streams
aws firehose list-delivery-streams

#Â Get stream info
aws firehose describe-delivery-stream --delivery-stream-name <name>
## Get roles
aws firehose describe-delivery-stream --delivery-stream-name <name> | grep -i RoleARN
```
## Post-exploitation / Defense Bypass

Ikiwa firehose inatumika kutuma kumbukumbu au maarifa ya ulinzi, kutumia hizi kazi mshambuliaji anaweza kuzuia kufanya kazi vizuri.

### firehose:DeleteDeliveryStream
```
aws firehose delete-delivery-stream --delivery-stream-name <value> --allow-force-delete
```
### firehose:UpdateDestination
```
aws firehose update-destination --delivery-stream-name <value> --current-delivery-stream-version-id <value> --destination-id <value>
```
### firehose:PutRecord | firehose:PutRecordBatch
```
aws firehose put-record --delivery-stream-name my-stream --record '{"Data":"SGVsbG8gd29ybGQ="}'

aws firehose put-record-batch --delivery-stream-name my-stream --records file://records.json
```
## Marejeo

- [https://docs.amazonaws.cn/en_us/firehose/latest/dev/what-is-this-service.html](https://docs.amazonaws.cn/en_us/firehose/latest/dev/what-is-this-service.html)

{{#include ../../../banners/hacktricks-training.md}}
