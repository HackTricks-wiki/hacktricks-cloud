# AWS - Kinesis Data Firehose Enum

{{#include ../../../banners/hacktricks-training.md}}

## Kinesis Data Firehose

Amazon Kinesis Data Firehose, **gerçek zamanlı akış verilerinin** teslimatını kolaylaştıran **tamamen yönetilen bir hizmettir**. Amazon Simple Storage Service (Amazon S3), Amazon Redshift, Amazon OpenSearch Service, Splunk ve özel HTTP uç noktaları dahil olmak üzere çeşitli varış noktalarını destekler.

Hizmet, veri üreticilerinin verileri doğrudan Kinesis Data Firehose'a iletmek üzere yapılandırılmasına olanak tanıyarak uygulama yazma veya kaynak yönetme ihtiyacını ortadan kaldırır. Bu hizmet, **verilerin belirtilen varış noktasına otomatik teslimatından** sorumludur. Ayrıca, Kinesis Data Firehose, **verilerin teslimatından önce dönüştürülmesi** seçeneği sunarak esnekliğini ve çeşitli kullanım durumlarına uygulanabilirliğini artırır.

### Enumeration
```bash
# Get delivery streams
aws firehose list-delivery-streams

# Get stream info
aws firehose describe-delivery-stream --delivery-stream-name <name>
## Get roles
aws firehose describe-delivery-stream --delivery-stream-name <name> | grep -i RoleARN
```
## Post-exploitation / Defense Bypass

Eğer firehose, logları veya savunma içgörülerini göndermek için kullanılıyorsa, bu işlevsellikleri kullanarak bir saldırganın düzgün çalışmasını engelleyebilir.

### firehose:DeleteDeliveryStream
```
aws firehose delete-delivery-stream --delivery-stream-name <value> --allow-force-delete
```
### firehose:UpdateDestination
```
aws firehose update-destination --delivery-stream-name <value> --current-delivery-stream-version-id <value> --destination-id <value>
```
### firehose:PutRecord | firehose:PutRecordBatch
```
aws firehose put-record --delivery-stream-name my-stream --record '{"Data":"SGVsbG8gd29ybGQ="}'

aws firehose put-record-batch --delivery-stream-name my-stream --records file://records.json
```
## Referanslar

- [https://docs.amazonaws.cn/en_us/firehose/latest/dev/what-is-this-service.html](https://docs.amazonaws.cn/en_us/firehose/latest/dev/what-is-this-service.html)

{{#include ../../../banners/hacktricks-training.md}}
