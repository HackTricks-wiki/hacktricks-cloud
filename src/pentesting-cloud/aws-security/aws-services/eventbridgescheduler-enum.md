# AWS - EventBridge Scheduler Enum

## EventBridge Scheduler

{{#include ../../../banners/hacktricks-training.md}}

## EventBridge Scheduler

**Amazon EventBridge Scheduler**, ölçekli görevler oluşturmak, çalıştırmak ve yönetmek için tasarlanmış tamamen yönetilen, **sunucusuz bir zamanlayıcıdır**. Merkezi bir hizmetten, 270'ten fazla AWS hizmeti ve 6,000'den fazla API işlemi arasında milyonlarca görevi zamanlamanıza olanak tanır. Yerleşik güvenilirlik ile altyapı yönetimi gerektirmeden, EventBridge Scheduler zamanlamayı basitleştirir, bakım maliyetlerini azaltır ve talebe göre otomatik olarak ölçeklenir. Tek seferlik çağrılar ayarlayabilir, tekrarlayan zamanlamalar için cron veya oran ifadeleri yapılandırabilir ve esnek teslim pencereleri tanımlayarak, görevlerin aşağı akış hedeflerinin kullanılabilirliğine göre güvenilir bir şekilde teslim edilmesini sağlarsınız.

Bölge başına hesap başına 1,000,000 zamanlama için başlangıçta bir limit vardır. Resmi kota sayfası bile, "Tamamlandıklarında tek seferlik zamanlamaların silinmesi önerilir." diyor.&#x20;

### Zamanlama Türleri

EventBridge Scheduler'daki Zamanlama Türleri:

1. **Tek seferlik zamanlamalar** – Belirli bir zamanda bir görevi yürütür, örneğin, 21 Aralık'ta saat 7 AM UTC.
2. **Oran tabanlı zamanlamalar** – Bir sıklığa dayalı tekrarlayan görevler ayarlar, örneğin, her 2 saatte bir.
3. **Cron tabanlı zamanlamalar** – Bir cron ifadesi kullanarak tekrarlayan görevler ayarlar, örneğin, her Cuma saat 4 PM.

Başarısız Olayları Yönetmek için İki Mekanizma:

1. **Tekrar Politikas**ı – Başarısız bir olay için tekrar deneme sayısını ve bir başarısızlık olarak değerlendirilmeden önce ne kadar süre işlenmemiş kalacağını tanımlar.
2. **Ölü Mektup Kuyruğu (DLQ)** – Tekrar denemeleri tükendiğinde başarısız olayların teslim edildiği standart bir Amazon SQS kuyruğu. DLQ'lar, zamanlamanız veya aşağı akış hedefinizle ilgili sorunları gidermeye yardımcı olur.

### Hedefler

Zamanlayıcı için 2 tür hedef vardır [**şablonlu (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-templated.html), yaygın olarak kullanılır ve AWS bunları yapılandırmayı kolaylaştırmıştır, ve [**evrensel (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-universal.html), herhangi bir AWS API'sini çağırmak için kullanılabilir.

**Şablonlu hedefler** aşağıdaki hizmetleri destekler:

- CodeBuild – StartBuild
- CodePipeline – StartPipelineExecution
- Amazon ECS – RunTask
- Parametreler: EcsParameters
- EventBridge – PutEvents
- Parametreler: EventBridgeParameters
- Amazon Inspector – StartAssessmentRun
- Kinesis – PutRecord
- Parametreler: KinesisParameters
- Firehose – PutRecord
- Lambda – Invoke
- SageMaker – StartPipelineExecution
- Parametreler: SageMakerPipelineParameters
- Amazon SNS – Publish
- Amazon SQS – SendMessage
- Parametreler: SqsParameters
- Step Functions – StartExecution

### Enumeration
```bash
# List all EventBridge Scheduler schedules
aws scheduler list-schedules

# List all EventBridge Scheduler schedule groups
aws scheduler list-schedule-groups

# Describe a specific schedule to retrieve more details
aws scheduler get-schedule --name <schedule_name>

# Describe a specific schedule group
aws scheduler get-schedule-group --name <group_name>

# List tags for a specific schedule (helpful in identifying any custom tags or permissions)
aws scheduler list-tags-for-resource --resource-arn <schedule_group_arn>
```
### Privesc

Aşağıdaki sayfada, **eventbridge scheduler izinlerini kötüye kullanarak yetki yükseltme** yöntemini kontrol edebilirsiniz:

{{#ref}}
../aws-privilege-escalation/eventbridgescheduler-privesc.md
{{#endref}}

## References

- [https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html](https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html)

{{#include ../../../banners/hacktricks-training.md}}
