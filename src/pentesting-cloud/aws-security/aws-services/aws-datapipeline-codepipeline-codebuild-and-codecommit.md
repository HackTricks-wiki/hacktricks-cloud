# AWS - DataPipeline, CodePipeline & CodeCommit Enum

{{#include ../../../banners/hacktricks-training.md}}

## DataPipeline

AWS Data Pipeline imeundwa kuwezesha **ufikiaji, mabadiliko, na uhamishaji mzuri** wa data kwa kiwango kikubwa. Inaruhusu operesheni zifuatazo kufanywa:

1. **Fikia Data Zako Mahali Ilipo**: Data inayokaa katika huduma mbalimbali za AWS inaweza kufikiwa bila shida.
2. **Badilisha na Usindikishe kwa Kiwango Kikubwa**: Kazi za usindikaji na mabadiliko ya data kwa kiwango kikubwa zinashughulikiwa kwa ufanisi.
3. **Uhamishaji wa Matokeo kwa Ufanisi**: Data iliyosindikwa inaweza kuhamishwa kwa ufanisi kwenda huduma mbalimbali za AWS ikijumuisha:
- Amazon S3
- Amazon RDS
- Amazon DynamoDB
- Amazon EMR

Kwa kifupi, AWS Data Pipeline inarahisisha uhamaji na usindikaji wa data kati ya huduma tofauti za kompyuta na uhifadhi za AWS, pamoja na vyanzo vya data vya ndani, kwa nyakati zilizotajwa.

### Enumeration
```bash
aws datapipeline list-pipelines
aws datapipeline describe-pipelines --pipeline-ids <ID>
aws datapipeline list-runs --pipeline-id <ID>
aws datapipeline get-pipeline-definition --pipeline-id <ID>
```
### Privesc

Katika ukurasa ufuatao unaweza kuangalia jinsi ya **kudhulumu ruhusa za datapipeline ili kupandisha mamlaka**:

{{#ref}}
../aws-privilege-escalation/aws-datapipeline-privesc.md
{{#endref}}

## CodePipeline

AWS CodePipeline ni huduma ya **usambazaji endelevu** inayosimamiwa kikamilifu ambayo inakusaidia **kujiandaa kwa ajili ya mchakato wa kutolewa** kwa sasisho za haraka na za kuaminika za programu na miundombinu. CodePipeline inafanya kiotomatiki **ujenzi, majaribio, na hatua za kutekeleza** za mchakato wako wa kutolewa kila wakati kuna mabadiliko ya msimbo, kulingana na mfano wa kutolewa uliofafanuliwa. 

### Enumeration
```bash
aws codepipeline list-pipelines
aws codepipeline get-pipeline --name <pipeline_name>
aws codepipeline list-action-executions --pipeline-name <pl_name>
aws codepipeline list-pipeline-executions --pipeline-name <pl_name>
aws codepipeline list-webhooks
aws codepipeline get-pipeline-state --name <pipeline_name>
```
### Privesc

Katika ukurasa ufuatao unaweza kuangalia jinsi ya **kudhulumu ruhusa za codepipeline ili kupandisha mamlaka**:

{{#ref}}
../aws-privilege-escalation/aws-codepipeline-privesc.md
{{#endref}}

## CodeCommit

Ni **huduma ya udhibiti wa toleo**, ambayo inahifadhiwa na kusimamiwa kikamilifu na Amazon, ambayo inaweza kutumika kuhifadhi data kwa faragha (nyaraka, faili za binary, msimbo wa chanzo) na kuzisimamia katika wingu.

In **ondoa** hitaji kwa mtumiaji kujua Git na **kusimamia mfumo wao wa udhibiti wa chanzo** au kuwa na wasiwasi kuhusu kupanua au kupunguza miundombinu yao. Codecommit inasaidia kazi zote za kawaida **zinazoweza kupatikana katika Git**, ambayo inamaanisha inafanya kazi bila shida na zana za sasa za Git za mtumiaji.

### Enumeration
```bash
# Repos
aws codecommit list-repositories
aws codecommit get-repository --repository-name <name>
aws codecommit get-repository-triggers --repository-name <name>
aws codecommit list-branches --repository-name <name>
aws codecommit list-pull-requests --repository-name <name>

# Approval rules
aws codecommit list-approval-rule-templates
aws codecommit get-approval-rule-template --approval-rule-template-name <name>
aws codecommit list-associated-approval-rule-templates-for-repository --repository-name <name>

# Get & Put files
## Get a file
aws codecommit get-file --repository-name backend-api --file-path app.py
## Put a file
aws codecommit get-branch --repository-name backend-api --branch-name master
aws codecommit put-file --repository-name backend-api --branch-name master --file-content fileb://./app.py --file-path app.py --parent-commit-id <commit-id>

# SSH Keys & Clone repo
## Get codecommit keys
aws iam list-ssh-public-keys #User keys for CodeCommit
aws iam get-ssh-public-key --user-name <username> --ssh-public-key-id <id> --encoding SSH #Get public key with metadata
# The previous command will give you the fingerprint of the ssh key
# With the next command you can check the fingerprint of an ssh key and compare them
ssh-keygen -f .ssh/id_rsa -l -E md5

# Clone repo
git clone ssh://<SSH-KEY-ID>@git-codecommit.<REGION>.amazonaws.com/v1/repos/<repo-name>
```
## Marejeleo

- [https://docs.aws.amazon.com/whitepapers/latest/aws-overview/analytics.html](https://docs.aws.amazon.com/whitepapers/latest/aws-overview/analytics.html)

{{#include ../../../banners/hacktricks-training.md}}
