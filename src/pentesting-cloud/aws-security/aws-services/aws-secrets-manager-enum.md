# AWS - Secrets Manager Enum

{{#include ../../../banners/hacktricks-training.md}}

## AWS Secrets Manager

AWS Secrets Manager imeundwa ili **kuondoa matumizi ya siri zilizowekwa kwa mkono katika programu kwa kuzibadilisha na wito wa API**. Huduma hii inafanya kazi kama **hifadhi ya kati ya siri zako zote**, kuhakikisha zinatumika kwa njia moja katika programu zote.

Meneja inarahisisha **mchakato wa kubadilisha siri**, ikiboresha kwa kiasi kikubwa usalama wa data nyeti kama vile akidi za database. Zaidi ya hayo, siri kama funguo za API zinaweza kubadilishwa kiotomatiki kwa kuunganishwa na kazi za lambda.

Upatikanaji wa siri unadhibitiwa kwa karibu kupitia sera za kina za IAM zinazotegemea utambulisho na sera za msingi wa rasilimali.

Ili kutoa upatikanaji wa siri kwa mtumiaji kutoka akaunti tofauti ya AWS, ni muhimu:

1. Mruhusu mtumiaji kupata siri.
2. Mpe ruhusa mtumiaji ya kufungua siri kwa kutumia KMS.
3. Badilisha sera ya Funguo ili kumruhusu mtumiaji wa nje kuitumia.

**AWS Secrets Manager inajumuisha na AWS KMS ili kuficha siri zako ndani ya AWS Secrets Manager.**

### **Enumeration**
```bash
aws secretsmanager list-secrets #Get metadata of all secrets
aws secretsmanager list-secret-version-ids --secret-id <secret_name> # Get versions
aws secretsmanager describe-secret --secret-id <secret_name> # Get metadata
aws secretsmanager get-secret-value --secret-id <secret_name> # Get value
aws secretsmanager get-secret-value --secret-id <secret_name> --version-id <version-id> # Get value of a different version
aws secretsmanager get-resource-policy --secret-id --secret-id <secret_name>
```
### Privesc

{{#ref}}
../aws-privilege-escalation/aws-secrets-manager-privesc.md
{{#endref}}

### Post Exploitation

{{#ref}}
../aws-post-exploitation/aws-secrets-manager-post-exploitation.md
{{#endref}}

### Persistence

{{#ref}}
../aws-persistence/aws-secrets-manager-persistence.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
