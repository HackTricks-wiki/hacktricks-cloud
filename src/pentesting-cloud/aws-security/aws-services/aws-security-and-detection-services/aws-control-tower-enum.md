# AWS - Control Tower Enum

{{#include ../../../../banners/hacktricks-training.md}}

## Control Tower

> [!NOTE]
> 요약하자면, Control Tower는 조직 내 모든 계정에 대한 정책을 정의할 수 있는 서비스입니다. 따라서 각 계정을 관리하는 대신 Control Tower에서 적용할 정책을 설정할 수 있습니다.

AWS Control Tower는 **Amazon Web Services (AWS)**에서 제공하는 서비스로, 조직이 AWS에서 안전하고 규정을 준수하는 다중 계정 환경을 설정하고 관리할 수 있도록 합니다.

AWS Control Tower는 특정 **조직 요구 사항**을 충족하도록 사용자 정의할 수 있는 **사전 정의된 모범 사례 청사진 세트**를 제공합니다. 이러한 청사진에는 AWS Single Sign-On (SSO), AWS Config, AWS CloudTrail 및 AWS Service Catalog와 같은 사전 구성된 AWS 서비스 및 기능이 포함됩니다.

AWS Control Tower를 사용하면 관리자는 **보안** 및 규정 준수와 같은 조직 요구 사항을 충족하는 **다중 계정 환경**을 신속하게 설정할 수 있습니다. 이 서비스는 계정 및 리소스를 보고 관리할 수 있는 중앙 대시보드를 제공하며, 계정, 서비스 및 정책의 프로비저닝을 자동화합니다.

또한, AWS Control Tower는 조직 요구 사항을 준수하는 환경을 보장하는 사전 구성된 정책 세트인 가드레일을 제공합니다. 이러한 정책은 특정 요구 사항에 맞게 사용자 정의할 수 있습니다.

전반적으로 AWS Control Tower는 AWS에서 안전하고 규정을 준수하는 다중 계정 환경을 설정하고 관리하는 과정을 간소화하여 조직이 핵심 비즈니스 목표에 집중할 수 있도록 합니다.

### Enumeration

Control Tower 제어를 열거하려면 먼저 **조직을 열거해야 합니다**:

{{#ref}}
../aws-organizations-enum.md
{{#endref}}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
> [!WARNING]
> Control Tower는 **Account factory**를 사용하여 **계정에서 CloudFormation 템플릿**을 실행하고 해당 계정에서 **서비스를 실행**할 수 있습니다 (privesc, post-exploitation...)

### Post Exploitation & Persistence

{{#ref}}
../../aws-post-exploitation/aws-control-tower-post-exploitation.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
