# AWS - Control Tower Enum

{{#include ../../../../banners/hacktricks-training.md}}

## Control Tower

> [!NOTE]
> 总之，Control Tower 是一个允许您为组织内所有账户定义策略的服务。因此，您可以从 Control Tower 设置策略，而不是管理每个账户，这些策略将应用于它们。

AWS Control Tower 是 **由亚马逊网络服务（AWS）提供的服务**，使组织能够在 AWS 中设置和管理一个安全、合规的多账户环境。

AWS Control Tower 提供了一套 **预定义的最佳实践蓝图**，可以根据特定的 **组织需求** 进行定制。这些蓝图包括预配置的 AWS 服务和功能，如 AWS 单点登录（SSO）、AWS Config、AWS CloudTrail 和 AWS 服务目录。

通过 AWS Control Tower，管理员可以快速设置一个 **满足组织需求的多账户环境**，例如 **安全性** 和合规性。该服务提供一个中央仪表板，以查看和管理账户和资源，并自动化账户、服务和政策的配置。

此外，AWS Control Tower 提供了保护措施，这是一组预配置的政策，确保环境保持符合组织要求。这些政策可以根据特定需求进行定制。

总体而言，AWS Control Tower 简化了在 AWS 中设置和管理安全、合规的多账户环境的过程，使组织更容易专注于其核心业务目标。

### Enumeration

要枚举 controltower 控制，您首先需要 **枚举组织**：

{{#ref}}
../aws-organizations-enum.md
{{#endref}}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
> [!WARNING]
> Control Tower 还可以使用 **Account factory** 在 **账户中执行** **CloudFormation 模板** 并在这些账户中运行服务（权限提升，后期利用...）

### 后期利用与持久性

{{#ref}}
../../aws-post-exploitation/aws-control-tower-post-exploitation.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
