# AWS - Control Tower Enum

{{#include ../../../../banners/hacktricks-training.md}}

## Control Tower

> [!NOTE]
> Em resumo, o Control Tower é um serviço que permite definir políticas para todas as suas contas dentro da sua organização. Assim, em vez de gerenciar cada uma delas, você pode definir políticas a partir do Control Tower que serão aplicadas a elas.

AWS Control Tower é um **serviço fornecido pela Amazon Web Services (AWS)** que permite que organizações configurem e governem um ambiente multi-conta seguro e em conformidade na AWS.

AWS Control Tower fornece um **conjunto pré-definido de modelos de melhores práticas** que podem ser personalizados para atender a **requisitos organizacionais** específicos. Esses modelos incluem serviços e recursos da AWS pré-configurados, como AWS Single Sign-On (SSO), AWS Config, AWS CloudTrail e AWS Service Catalog.

Com o AWS Control Tower, os administradores podem rapidamente configurar um **ambiente multi-conta que atende aos requisitos organizacionais**, como **segurança** e conformidade. O serviço fornece um painel central para visualizar e gerenciar contas e recursos, e também automatiza o provisionamento de contas, serviços e políticas.

Além disso, o AWS Control Tower fornece guardrails, que são um conjunto de políticas pré-configuradas que garantem que o ambiente permaneça em conformidade com os requisitos organizacionais. Essas políticas podem ser personalizadas para atender a necessidades específicas.

No geral, o AWS Control Tower simplifica o processo de configuração e gerenciamento de um ambiente multi-conta seguro e em conformidade na AWS, facilitando para as organizações se concentrarem em seus objetivos de negócios principais.

### Enumeration

Para enumerar os controles do controltower, você primeiro precisa **ter enumerado a org**:

{{#ref}}
../aws-organizations-enum.md
{{#endref}}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
> [!WARNING]
> O Control Tower também pode usar **Account factory** para executar **CloudFormation templates** em **contas e executar serviços** (privesc, pós-exploração...) nessas contas

### Pós Exploração & Persistência

{{#ref}}
../../aws-post-exploitation/aws-control-tower-post-exploitation.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
