# AWS - CloudFormation & Codestar Enum

{{#include ../../../banners/hacktricks-training.md}}

## CloudFormation

Η υπηρεσία AWS CloudFormation έχει σχεδιαστεί για να **απλοποιεί τη διαχείριση των πόρων AWS**. Επιτρέπει στους χρήστες να επικεντρώνονται περισσότερο στις εφαρμογές τους που εκτελούνται στο AWS, **ελαχιστοποιώντας τον χρόνο που δαπανάται στη διαχείριση πόρων**. Η βασική δυνατότητα αυτής της υπηρεσίας είναι το **πρότυπο**—ένα περιγραφικό μοντέλο των επιθυμητών πόρων AWS. Μόλις παρασχεθεί αυτό το πρότυπο, η CloudFormation είναι υπεύθυνη για την **παροχή και τη διαμόρφωση** των καθορισμένων πόρων. Αυτή η αυτοματοποίηση διευκολύνει μια πιο αποδοτική και χωρίς σφάλματα διαχείριση της υποδομής AWS.

### Enumeration
```bash
# Stacks
aws cloudformation list-stacks
aws cloudformation describe-stacks # You could find sensitive information here
aws cloudformation list-stack-resources --stack-name <name>
aws cloudformation get-template --stack-name cloudformationStack
aws cloudformation describe-stack-events --stack-name cloudformationStack

## Show params and outputs
aws cloudformation describe-stacks | jq ".Stacks[] | .StackId, .StackName, .Parameters, .Outputs"

# Export
aws cloudformation list-exports
aws cloudformation list-imports --export-name <x_name>

# Stack Sets
aws cloudformation list-stack-sets
aws cloudformation describe-stack-set --stack-set-name <name>
aws cloudformation list-stack-instances --stack-set-name <name>
aws cloudformation list-stack-set-operations --stack-set-name <name>
aws cloudformation list-stack-set-operation-results --stack-set-name <name> --operation-id <id>
```
### Privesc

In the following page you can check how to **abuse cloudformation permissions to escalate privileges**:

{{#ref}}
../aws-privilege-escalation/aws-cloudformation-privesc/
{{#endref}}

### Post-Exploitation

Check for **secrets** or sensitive information in the **template, parameters & output** of each CloudFormation

## Codestar

AWS CodeStar είναι μια υπηρεσία για τη δημιουργία, διαχείριση και εργασία με έργα ανάπτυξης λογισμικού στο AWS. Μπορείτε γρήγορα να αναπτύξετε, κατασκευάσετε και αναπτύξετε εφαρμογές στο AWS με ένα έργο AWS CodeStar. Ένα έργο AWS CodeStar δημιουργεί και **ενσωματώνει τις υπηρεσίες AWS** για την αλυσίδα εργαλείων ανάπτυξης του έργου σας. Ανάλογα με την επιλογή σας για το πρότυπο έργου AWS CodeStar, αυτή η αλυσίδα εργαλείων μπορεί να περιλαμβάνει έλεγχο πηγής, κατασκευή, ανάπτυξη, εικονικούς διακομιστές ή πόρους χωρίς διακομιστές, και άλλα. Το AWS CodeStar επίσης **διαχειρίζεται τις άδειες που απαιτούνται για τους χρήστες του έργου** (που ονομάζονται μέλη της ομάδας).

### Enumeration
```bash
# Get projects information
aws codestar list-projects
aws codestar describe-project --id <project_id>
aws codestar list-resources --project-id <project_id>
aws codestar list-team-members --project-id <project_id>

aws codestar list-user-profiles
aws codestar describe-user-profile --user-arn <arn>
```
### Privesc

Στην επόμενη σελίδα μπορείτε να ελέγξετε πώς να **καταχραστείτε τις άδειες του codestar για να κλιμακώσετε τα προνόμια**:

{{#ref}}
../aws-privilege-escalation/aws-codestar-privesc/
{{#endref}}

## References

- [https://docs.aws.amazon.com/cloudformation/](https://docs.aws.amazon.com/cloudformation/)

{{#include ../../../banners/hacktricks-training.md}}
