# AWS - CloudFormation & Codestar Enum

{{#include ../../../banners/hacktricks-training.md}}

## CloudFormation

AWS CloudFormation, **AWS kaynaklarının yönetimini kolaylaştırmak** için tasarlanmış bir hizmettir. Kullanıcıların, **kaynak yönetimine harcanan zamanı en aza indirerek** AWS'de çalışan uygulamalarına daha fazla odaklanmalarını sağlar. Bu hizmetin temel özelliği, istenen AWS kaynaklarının **şablonu**—açıklayıcı bir modelidir. Bu şablon sağlandığında, CloudFormation belirtilen kaynakların **sağlanması ve yapılandırılmasından** sorumludur. Bu otomasyon, AWS altyapısının daha verimli ve hatasız bir şekilde yönetilmesini kolaylaştırır.

### Enumeration
```bash
# Stacks
aws cloudformation list-stacks
aws cloudformation describe-stacks # You could find sensitive information here
aws cloudformation list-stack-resources --stack-name <name>
aws cloudformation get-template --stack-name cloudformationStack
aws cloudformation describe-stack-events --stack-name cloudformationStack

## Show params and outputs
aws cloudformation describe-stacks | jq ".Stacks[] | .StackId, .StackName, .Parameters, .Outputs"

# Export
aws cloudformation list-exports
aws cloudformation list-imports --export-name <x_name>

# Stack Sets
aws cloudformation list-stack-sets
aws cloudformation describe-stack-set --stack-set-name <name>
aws cloudformation list-stack-instances --stack-set-name <name>
aws cloudformation list-stack-set-operations --stack-set-name <name>
aws cloudformation list-stack-set-operation-results --stack-set-name <name> --operation-id <id>
```
### Privesc

Aşağıdaki sayfada **cloudformation izinlerini kötüye kullanarak ayrıcalıkları artırma** yöntemini kontrol edebilirsiniz:

{{#ref}}
../aws-privilege-escalation/aws-cloudformation-privesc/
{{#endref}}

### Persistence

{{#ref}}
../aws-persistence/aws-cloudformation-persistence.md
{{#endref}}

### Post-Exploitation

Her CloudFormation'ın **şablon, parametreler ve çıktı** kısmında **gizli bilgiler** veya hassas bilgiler arayın.

## Codestar

AWS CodeStar, AWS üzerinde yazılım geliştirme projeleri oluşturmak, yönetmek ve çalışmak için bir hizmettir. AWS CodeStar projesi ile AWS üzerinde uygulamaları hızlı bir şekilde geliştirebilir, oluşturabilir ve dağıtabilirsiniz. Bir AWS CodeStar projesi, proje geliştirme araç zinciriniz için **AWS hizmetlerini** oluşturur ve entegre eder. Seçtiğiniz AWS CodeStar proje şablonuna bağlı olarak, bu araç zinciri kaynak kontrolü, derleme, dağıtım, sanal sunucular veya sunucusuz kaynaklar ve daha fazlasını içerebilir. AWS CodeStar ayrıca proje kullanıcıları için gereken **izinleri yönetir** (takım üyeleri olarak adlandırılır).

### Enumeration
```bash
# Get projects information
aws codestar list-projects
aws codestar describe-project --id <project_id>
aws codestar list-resources --project-id <project_id>
aws codestar list-team-members --project-id <project_id>

aws codestar list-user-profiles
aws codestar describe-user-profile --user-arn <arn>
```
### Privesc

Aşağıdaki sayfada **codestar izinlerini kötüye kullanarak ayrıcalıkları artırma** yöntemini kontrol edebilirsiniz:

{{#ref}}
../aws-privilege-escalation/aws-codestar-privesc/
{{#endref}}

## References

- [https://docs.aws.amazon.com/cloudformation/](https://docs.aws.amazon.com/cloudformation/)

{{#include ../../../banners/hacktricks-training.md}}
