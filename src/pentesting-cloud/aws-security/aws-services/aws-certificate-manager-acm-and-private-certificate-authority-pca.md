# AWS - Certificate Manager (ACM) & Private Certificate Authority (PCA)

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

**AWS Certificate Manager (ACM)** παρέχεται ως υπηρεσία που στοχεύει στην απλοποίηση της **παροχής, διαχείρισης και ανάπτυξης SSL/TLS πιστοποιητικών** για υπηρεσίες AWS και εσωτερικούς πόρους. Η ανάγκη για χειροκίνητες διαδικασίες, όπως η αγορά, η μεταφόρτωση και οι ανανεώσεις πιστοποιητικών, **εξαλείφεται** από το ACM. Αυτό επιτρέπει στους χρήστες να ζητούν και να εφαρμόζουν αποτελεσματικά πιστοποιητικά σε διάφορους πόρους AWS, συμπεριλαμβανομένων των **Elastic Load Balancers, Amazon CloudFront distributions και APIs στο API Gateway**.

Μια βασική δυνατότητα του ACM είναι η **αυτόματη ανανέωση πιστοποιητικών**, μειώνοντας σημαντικά το κόστος διαχείρισης. Επιπλέον, το ACM υποστηρίζει τη δημιουργία και κεντρική διαχείριση **ιδιωτικών πιστοποιητικών για εσωτερική χρήση**. Αν και τα SSL/TLS πιστοποιητικά για ενσωματωμένες υπηρεσίες AWS όπως το Elastic Load Balancing, το Amazon CloudFront και το Amazon API Gateway παρέχονται χωρίς επιπλέον κόστος μέσω του ACM, οι χρήστες είναι υπεύθυνοι για τα κόστη που σχετίζονται με τους πόρους AWS που χρησιμοποιούνται από τις εφαρμογές τους και μια μηνιαία χρέωση για κάθε **ιδιωτική Αρχή Πιστοποίησης (CA)** και ιδιωτικά πιστοποιητικά που χρησιμοποιούνται εκτός των ενσωματωμένων υπηρεσιών ACM.

**AWS Private Certificate Authority** προσφέρεται ως **διαχειριζόμενη υπηρεσία ιδιωτικής CA**, ενισχύοντας τις δυνατότητες του ACM επεκτείνοντας τη διαχείριση πιστοποιητικών για να περιλαμβάνει ιδιωτικά πιστοποιητικά. Αυτά τα ιδιωτικά πιστοποιητικά είναι καθοριστικά για την αυθεντικοποίηση πόρων εντός ενός οργανισμού.

## Enumeration

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

{{#include ../../../banners/hacktricks-training.md}}
