# AWS - VPC & Networking Basic Information

{{#include ../../../../banners/hacktricks-training.md}}

## AWS Networking in a Nutshell

Ένα **VPC** περιέχει ένα **network CIDR** όπως 10.0.0.0/16 (με τον **routing table** και το **network ACL** του).

Αυτό το δίκτυο VPC είναι χωρισμένο σε **subnetworks**, έτσι μια **subnetwork** σχετίζεται άμεσα με το **VPC**, τον **routing** **table** και το **network ACL**.

Στη συνέχεια, οι **Network Interface**s που είναι συνδεδεμένες σε υπηρεσίες (όπως οι EC2 instances) είναι **συνδεδεμένες** με τις **subnetworks** με **security group(s)**.

Επομένως, μια **security group** θα περιορίσει τις εκτεθειμένες θύρες των δικτυακών **interfaces που τη χρησιμοποιούν**, **ανεξάρτητα από τη subnetwork**. Και ένα **network ACL** θα **περιορίσει** τις εκτεθειμένες θύρες σε ολόκληρο το **δίκτυο**.

Επιπλέον, για να **έχετε πρόσβαση στο Διαδίκτυο**, υπάρχουν κάποιες ενδιαφέρουσες ρυθμίσεις που πρέπει να ελέγξετε:

- Μια **subnetwork** μπορεί να **αυτόματα αναθέτει δημόσιες διευθύνσεις IPv4**
- Μια **instance** που δημιουργείται στο δίκτυο που **αυτόματα αναθέτει διευθύνσεις IPv4 μπορεί να αποκτήσει μία**
- Ένα **Internet gateway** πρέπει να είναι **συνδεδεμένο** με το **VPC**
- Μπορείτε επίσης να χρησιμοποιήσετε **Egress-only internet gateways**
- Μπορείτε επίσης να έχετε ένα **NAT gateway** σε μια **ιδιωτική subnetwork** ώστε να είναι δυνατή η **σύνδεση με εξωτερικές υπηρεσίες** από αυτή την ιδιωτική subnetwork, αλλά **δεν είναι δυνατή η πρόσβαση σε αυτές από το εξωτερικό**.
- Το NAT gateway μπορεί να είναι **δημόσιο** (πρόσβαση στο διαδίκτυο) ή **ιδιωτικό** (πρόσβαση σε άλλα VPCs)

![](<../../../../images/image (274).png>)

## VPC

Το Amazon **Virtual Private Cloud** (Amazon VPC) σας επιτρέπει να **εκκινείτε πόρους AWS σε ένα εικονικό δίκτυο** που έχετε ορίσει. Αυτό το εικονικό δίκτυο θα έχει αρκετές υποδίκτυα, Internet Gateways για πρόσβαση στο Διαδίκτυο, ACLs, ομάδες ασφαλείας, IPs...

### Subnets

Οι υποδίκτυα βοηθούν στην επιβολή ενός μεγαλύτερου επιπέδου ασφάλειας. Η **λογική ομαδοποίηση παρόμοιων πόρων** σας βοηθά επίσης να διατηρείτε μια **ευκολία διαχείρισης** σε όλη την υποδομή σας.

- Έγκυρα CIDR είναι από /16 netmask έως /28 netmask.
- Ένα υποδίκτυο δεν μπορεί να βρίσκεται σε διαφορετικές ζώνες διαθεσιμότητας ταυτόχρονα.
- **Η AWS διατηρεί τις πρώτες τρεις διευθύνσεις IP host** κάθε υποδικτύου **για** **εσωτερική χρήση AWS**: η πρώτη διεύθυνση host που χρησιμοποιείται είναι για τον δρομολογητή VPC. Η δεύτερη διεύθυνση είναι κρατημένη για το AWS DNS και η τρίτη διεύθυνση είναι κρατημένη για μελλοντική χρήση.
- Ονομάζονται **δημόσια υποδίκτυα** αυτά που έχουν **άμεση πρόσβαση στο Διαδίκτυο, ενώ τα ιδιωτικά υποδίκτυα δεν έχουν.**

<figure><img src="https://lh5.googleusercontent.com/N_WTrTrDAHwN61FMKJvLSHVua2EM0IazHH1fSTg8JQfTChm-dLN9mn7wkjz2MlpD-uOUqtWdMZpqKOp4VxaHy5-5X66GD1K8y1UGc27r-GbHdFty9ImpXdcjEsC7u4vjxKme_B_HwDOUnG6camxENYECTw=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh3.googleusercontent.com/MmjfVzGmV4jM7tO8lVoTKONoeqbq6E40DGeKUoo4kN-lmMDKnEiGNB-gGVx3EvjK9UV844im225CA8aAjomHf1Modt3MramHrHZdEGbeSZncWhVuT9R8f7tQZ2pXjdSJxeNfErmJ-0mmcUaV6dcU0TAd2A=s2048" alt=""><figcaption></figcaption></figure>

### Route Tables

Οι πίνακες δρομολόγησης καθορίζουν τη δρομολόγηση της κυκλοφορίας για ένα υποδίκτυο εντός ενός VPC. Καθορίζουν ποια δικτυακή κυκλοφορία προωθείται στο διαδίκτυο ή σε μια σύνδεση VPN. Συνήθως θα βρείτε πρόσβαση στο:

- Τοπικό VPC
- NAT
- Internet Gateways / Egress-only Internet gateways (απαραίτητο για να δώσετε στο VPC πρόσβαση στο Διαδίκτυο).
- Για να κάνετε ένα υποδίκτυο δημόσιο, πρέπει να **δημιουργήσετε** και να **συνδέσετε** ένα **Internet gateway** στο VPC σας.
- VPC endpoints (για πρόσβαση στο S3 από ιδιωτικά δίκτυα)

Στις παρακάτω εικόνες μπορείτε να ελέγξετε τις διαφορές σε ένα προεπιλεγμένο δημόσιο δίκτυο και σε ένα ιδιωτικό:

<figure><img src="https://lh3.googleusercontent.com/q4ASpcLAYqijdNMLhMLl8EoowDtTMU5I_7YCVfk7-5hxDyeQOik9ImHnD2SYy32XUA2qXjEbXTAxA1lP--znJASdhYOdBveDcrD42f9XBKZ3EmjJCazN3YPLC6oS0xtRMmfORuwCszmMt-KrAkH07_izwg=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh5.googleusercontent.com/30psylXAI0gRN6_LK-reP00aGIlMma64E1qafCVPunn6nS-y5jAO6Y2JiempKcf6-LFi7ScicYcOh7BbHEya2VWtksnFX_8SPXQf97tKkg2tNZzrArWbiDCCn2m2LP1QUq6MZ_KayH3yir7t8zpO7CEQOw=s2048" alt=""><figcaption></figcaption></figure>

### ACLs

**Network Access Control Lists (ACLs)**: Οι Network ACLs είναι κανόνες τείχους προστασίας που ελέγχουν την εισερχόμενη και εξερχόμενη δικτυακή κυκλοφορία σε ένα υποδίκτυο. Μπορούν να χρησιμοποιηθούν για να επιτρέπουν ή να αρνούνται την κυκλοφορία σε συγκεκριμένες διευθύνσεις IP ή περιοχές.

- Είναι πιο συχνό να επιτρέπεται/αρνείται η πρόσβαση χρησιμοποιώντας ομάδες ασφαλείας, αλλά αυτός είναι ο μόνος τρόπος για να κοπεί εντελώς η εγκαθιδρυμένη αντίστροφη σύνδεση. Ένας τροποποιημένος κανόνας σε μια ομάδα ασφαλείας δεν σταματά τις ήδη εγκαθιδρυμένες συνδέσεις.
- Ωστόσο, αυτό ισχύει για ολόκληρη τη subnetwork, να είστε προσεκτικοί όταν απαγορεύετε πράγματα γιατί η απαραίτητη λειτουργικότητα μπορεί να διαταραχθεί.

### Security Groups

Οι ομάδες ασφαλείας είναι ένα εικονικό **τείχος προστασίας** που ελέγχει την εισερχόμενη και εξερχόμενη δικτυακή **κυκλοφορία σε instances** σε ένα VPC. Σχέση 1 SG προς M instances (συνήθως 1 προς 1).\
Συνήθως αυτό χρησιμοποιείται για να ανοίξει επικίνδυνες θύρες σε instances, όπως η θύρα 22 για παράδειγμα:

<figure><img src="https://lh5.googleusercontent.com/LliB7eb3cYfkEyOpyw1-eYgWsn2kq1yF6uRn5VYndvOuTvDlURimYx9UvuK8F2impTLmx50mid4MdTXE-Ljt2i_rxaIfnKUdji_hFjCdU9tdoW-axng9-W4tSL71gbbjrPQ7IYY5lAdH_G3UoMRMGGGOxQ=s2048" alt=""><figcaption></figcaption></figure>

### Elastic IP Addresses

Μια _Elastic IP address_ είναι μια **στατική διεύθυνση IPv4** σχεδιασμένη για δυναμικό cloud computing. Μια Elastic IP address εκχωρείται στον λογαριασμό σας AWS και είναι δική σας μέχρι να την απελευθερώσετε. Χρησιμοποιώντας μια Elastic IP address, μπορείτε να καλύψετε την αποτυχία μιας instance ή λογισμικού ανακατευθύνοντας γρήγορα τη διεύθυνση σε μια άλλη instance στον λογαριασμό σας.

### Connection between subnets

Από προεπιλογή, όλα τα υποδίκτυα έχουν την **αυτόματη ανάθεση δημόσιων διευθύνσεων IP απενεργοποιημένη** αλλά μπορεί να ενεργοποιηθεί.

**Μια τοπική διαδρομή εντός ενός πίνακα δρομολόγησης επιτρέπει την επικοινωνία μεταξύ των υποδικτύων VPC.**

Εάν **συνδέετε ένα υποδίκτυο με ένα διαφορετικό υποδίκτυο, δεν μπορείτε να έχετε πρόσβαση στα υποδίκτυα που είναι συνδεδεμένα** με το άλλο υποδίκτυο, πρέπει να δημιουργήσετε σύνδεση με αυτά απευθείας. **Αυτό ισχύει επίσης για τα internet gateways**. Δεν μπορείτε να περάσετε μέσω μιας σύνδεσης υποδικτύου για να αποκτήσετε πρόσβαση στο διαδίκτυο, πρέπει να αναθέσετε το internet gateway στο υποδίκτυό σας.

### VPC Peering

Η σύνδεση VPC σας επιτρέπει να **συνδέσετε δύο ή περισσότερα VPCs μεταξύ τους**, χρησιμοποιώντας IPV4 ή IPV6, σαν να ήταν μέρος του ίδιου δικτύου.

Μόλις η σύνδεση peer καθοριστεί, **οι πόροι σε ένα VPC μπορούν να έχουν πρόσβαση σε πόρους στο άλλο**. Η συνδεσιμότητα μεταξύ των VPCs υλοποιείται μέσω της υπάρχουσας υποδομής δικτύου AWS, και έτσι είναι εξαιρετικά διαθέσιμη χωρίς περιορισμούς εύρους ζώνης. Καθώς **οι συνδέσεις peer λειτουργούν σαν να ήταν μέρος του ίδιου δικτύου**, υπάρχουν περιορισμοί όσον αφορά τις περιοχές CIDR που μπορούν να χρησιμοποιηθούν.\
Εάν έχετε **επικαλυπτόμενες ή διπλές περιοχές CIDR** για το VPC σας, τότε **δεν θα μπορείτε να συνδέσετε τα VPCs** μεταξύ τους.\
Κάθε AWS VPC θα **επικοινωνεί μόνο με το peer του**. Ως παράδειγμα, εάν έχετε μια σύνδεση peering μεταξύ του VPC 1 και του VPC 2, και μια άλλη σύνδεση μεταξύ του VPC 2 και του VPC 3 όπως φαίνεται, τότε το VPC 1 και το 2 θα μπορούσαν να επικοινωνούν απευθείας, όπως και το VPC 2 και το VPC 3, ωστόσο, το VPC 1 και το VPC 3 δεν θα μπορούσαν. **Δεν μπορείτε να δρομολογήσετε μέσω ενός VPC για να φτάσετε σε άλλο.**

### **VPC Flow Logs**

Μέσα στο VPC σας, θα μπορούσατε ενδεχομένως να έχετε εκατοντάδες ή ακόμα και χιλιάδες πόρους που επικοινωνούν μεταξύ διαφορετικών υποδικτύων τόσο δημόσιων όσο και ιδιωτικών και επίσης μεταξύ διαφορετικών VPCs μέσω συνδέσεων peering VPC. **Τα VPC Flow Logs σας επιτρέπουν να καταγράφετε πληροφορίες κυκλοφορίας IP που ρέουν μεταξύ των δικτυακών διεπαφών των πόρων σας εντός του VPC σας**.

Σε αντίθεση με τα logs πρόσβασης S3 και τα logs πρόσβασης CloudFront, τα **δεδομένα log που παράγονται από τα VPC Flow Logs δεν αποθηκεύονται στο S3. Αντίθετα, τα δεδομένα log που καταγράφονται αποστέλλονται στα logs CloudWatch**.

Περιορισμοί:

- Εάν εκτελείτε μια σύνδεση peering VPC, τότε θα μπορείτε να δείτε μόνο τα flow logs των peered VPCs που είναι εντός του ίδιου λογαριασμού.
- Εάν εξακολουθείτε να εκτελείτε πόρους στο περιβάλλον EC2-Classic, τότε δυστυχώς δεν μπορείτε να ανακτήσετε πληροφορίες από τις διεπαφές τους.
- Μόλις δημιουργηθεί ένα VPC Flow Log, δεν μπορεί να αλλάξει. Για να αλλάξετε τη ρύθμιση του VPC Flow Log, πρέπει να το διαγράψετε και στη συνέχεια να δημιουργήσετε ένα νέο.
- Η παρακάτω κυκλοφορία δεν παρακολουθείται και δεν καταγράφεται από τα logs. Κυκλοφορία DHCP εντός του VPC, κυκλοφορία από instances που προορίζονται για τον διακομιστή DNS της Amazon.
- Οποιαδήποτε κυκλοφορία προορίζεται για τη διεύθυνση IP του προεπιλεγμένου δρομολογητή VPC και κυκλοφορία προς και από τις παρακάτω διευθύνσεις, 169.254.169.254 που χρησιμοποιείται για τη συλλογή μεταδεδομένων instance, και 169.254.169.123 που χρησιμοποιείται για την Υπηρεσία Συγχρονισμού Χρόνου της Amazon.
- Κυκλοφορία που σχετίζεται με μια άδεια ενεργοποίησης Windows από μια Windows instance.
- Κυκλοφορία μεταξύ μιας διεπαφής φορτωτή δικτύου και μιας διεπαφής δικτύου τελικού σημείου.

Για κάθε διεπαφή δικτύου που δημοσιεύει δεδομένα στην ομάδα log CloudWatch, θα χρησιμοποιεί μια διαφορετική ροή log. Και μέσα σε κάθε μία από αυτές τις ροές, θα υπάρχουν τα δεδομένα γεγονότων flow log που δείχνουν το περιεχόμενο των καταχωρήσεων log. Κάθε ένα από αυτά τα **logs καταγράφει δεδομένα κατά τη διάρκεια ενός παραθύρου περίπου 10 έως 15 λεπτών**.

## VPN

### Basic AWS VPN Components

1. **Customer Gateway**:
- Ένα Customer Gateway είναι ένας πόρος που δημιουργείτε στο AWS για να αντιπροσωπεύσετε την πλευρά σας μιας σύνδεσης VPN.
- Είναι ουσιαστικά μια φυσική συσκευή ή εφαρμογή λογισμικού στην πλευρά σας της σύνδεσης Site-to-Site VPN.
- Παρέχετε πληροφορίες δρομολόγησης και τη δημόσια διεύθυνση IP της συσκευής δικτύου σας (όπως ένας δρομολογητής ή ένα τείχος προστασίας) στο AWS για να δημιουργήσετε ένα Customer Gateway.
- Λειτουργεί ως σημείο αναφοράς για τη ρύθμιση της σύνδεσης VPN και δεν επιβαρύνει με επιπλέον χρεώσεις.
2. **Virtual Private Gateway**:
- Ένα Virtual Private Gateway (VPG) είναι ο συγκεντρωτής VPN στην πλευρά της Amazon της σύνδεσης Site-to-Site VPN.
- Είναι συνδεδεμένο με το VPC σας και λειτουργεί ως στόχος για τη σύνδεση VPN σας.
- Το VPG είναι το σημείο τερματισμού της AWS για τη σύνδεση VPN.
- Διαχειρίζεται την ασφαλή επικοινωνία μεταξύ του VPC σας και του τοπικού δικτύου σας.
3. **Site-to-Site VPN Connection**:
- Μια σύνδεση Site-to-Site VPN συνδέει το τοπικό σας δίκτυο με ένα VPC μέσω ενός ασφαλούς, IPsec VPN τούνελ.
- Αυτός ο τύπος σύνδεσης απαιτεί ένα Customer Gateway και ένα Virtual Private Gateway.
- Χρησιμοποιείται για ασφαλή, σταθερή και συνεπή επικοινωνία μεταξύ του κέντρου δεδομένων ή του δικτύου σας και του περιβάλλοντος AWS.
- Συνήθως χρησιμοποιείται για κανονικές, μακροχρόνιες συνδέσεις και χρεώνεται με βάση την ποσότητα δεδομένων που μεταφέρονται μέσω της σύνδεσης.
4. **Client VPN Endpoint**:
- Ένα Client VPN endpoint είναι ένας πόρος που δημιουργείτε στο AWS για να επιτρέψετε και να διαχειριστείτε τις συνεδρίες VPN πελατών.
- Χρησιμοποιείται για να επιτρέπει σε μεμονωμένες συσκευές (όπως φορητούς υπολογιστές, smartphones κ.λπ.) να συνδέονται με ασφάλεια σε πόρους AWS ή στο τοπικό σας δίκτυο.
- Διαφέρει από το Site-to-Site VPN στο ότι είναι σχεδιασμένο για μεμονωμένους πελάτες αντί να συνδέει ολόκληρα δίκτυα.
- Με το Client VPN, κάθε συσκευή πελάτη χρησιμοποιεί ένα λογισμικό VPN client για να δημιουργήσει μια ασφαλή σύνδεση.

### Site-to-Site VPN

**Συνδέστε το τοπικό σας δίκτυο με το VPC σας.**

- **VPN connection**: Μια ασφαλής σύνδεση μεταξύ του εξοπλισμού σας και των VPC σας.
- **VPN tunnel**: Ένας κρυπτογραφημένος σύνδεσμος όπου τα δεδομένα μπορούν να περάσουν από το δίκτυο του πελάτη προς ή από το AWS.

Κάθε σύνδεση VPN περιλαμβάνει δύο τούνελ VPN που μπορείτε να χρησιμοποιήσετε ταυτόχρονα για υψηλή διαθεσιμότητα.

- **Customer gateway**: Ένας πόρος AWS που παρέχει πληροφορίες στο AWS σχετικά με τη συσκευή customer gateway σας.
- **Customer gateway device**: Μια φυσική συσκευή ή εφαρμογή λογισμικού στην πλευρά σας της σύνδεσης Site-to-Site VPN.
- **Virtual private gateway**: Ο συγκεντρωτής VPN στην πλευρά της Amazon της σύνδεσης Site-to-Site VPN. Χρησιμοποιείτε ένα virtual private gateway ή ένα transit gateway ως πύλη για την πλευρά της Amazon της σύνδεσης Site-to-Site VPN.
- **Transit gateway**: Ένας συγκεντρωτής που μπορεί να χρησιμοποιηθεί για τη διασύνδεση των VPCs σας και των τοπικών δικτύων. Χρησιμοποιείτε ένα transit gateway ή virtual private gateway ως πύλη για την πλευρά της Amazon της σύνδεσης Site-to-Site VPN.

#### Limitations

- Η κυκλοφορία IPv6 δεν υποστηρίζεται για συνδέσεις VPN σε ένα virtual private gateway.
- Μια σύνδεση AWS VPN δεν υποστηρίζει την ανακάλυψη Path MTU.

Επιπλέον, λάβετε υπόψη τα εξής όταν χρησιμοποιείτε το Site-to-Site VPN.

- Όταν συνδέετε τα VPC σας σε ένα κοινό τοπικό δίκτυο, προτείνουμε να χρησιμοποιείτε μη επικαλυπτόμενες περιοχές CIDR για τα δίκτυά σας.

### Client VPN <a href="#what-is-components" id="what-is-components"></a>

**Συνδέστε από τη μηχανή σας στο VPC σας**

#### Concepts

- **Client VPN endpoint:** Ο πόρος που δημιουργείτε και ρυθμίζετε για να επιτρέψετε και να διαχειριστείτε τις συνεδρίες VPN πελατών. Είναι ο πόρος όπου τερματίζονται όλες οι συνεδρίες VPN πελατών.
- **Target network:** Ένα target network είναι το δίκτυο που συνδέετε με ένα Client VPN endpoint. **Ένα υποδίκτυο από ένα VPC είναι ένα target network**. Η σύνδεση ενός υποδικτύου με ένα Client VPN endpoint σας επιτρέπει να δημιουργήσετε συνεδρίες VPN. Μπορείτε να συνδέσετε πολλά υποδίκτυα με ένα Client VPN endpoint για υψηλή διαθεσιμότητα. Όλα τα υποδίκτυα πρέπει να προέρχονται από το ίδιο VPC. Κάθε υποδίκτυο πρέπει να ανήκει σε διαφορετική Ζώνη Διαθεσιμότητας.
- **Route**: Κάθε Client VPN endpoint έχει έναν πίνακα δρομολόγησης που περιγράφει τις διαθέσιμες διαδρομές προορισμού δικτύου. Κάθε διαδρομή στον πίνακα δρομολόγησης καθορίζει την πορεία για την κυκλοφορία προς συγκεκριμένους πόρους ή δίκτυα.
- **Authorization rules:** Ένας κανόνας εξουσιοδότησης **περιορίζει τους χρήστες που μπορούν να έχουν πρόσβαση σε ένα δίκτυο**. Για ένα συγκεκριμένο δίκτυο, ρυθμίζετε την ομάδα Active Directory ή παρόχου ταυτότητας (IdP) που επιτρέπεται να έχει πρόσβαση. Μόνο οι χρήστες που ανήκουν σε αυτή την ομάδα μπορούν να έχουν πρόσβαση στο συγκεκριμένο δίκτυο. **Από προεπιλογή, δεν υπάρχουν κανόνες εξουσιοδότησης** και πρέπει να ρυθμίσετε κανόνες εξουσιοδότησης για να επιτρέψετε στους χρήστες να έχουν πρόσβαση σε πόρους και δίκτυα.
- **Client:** Ο τελικός χρήστης που συνδέεται με το Client VPN endpoint για να δημιουργήσει μια συνεδρία VPN. Οι τελικοί χρήστες χρειάζεται να κατεβάσουν έναν πελάτη OpenVPN και να χρησιμοποιήσουν το αρχείο ρύθμισης του Client VPN που δημιουργήσατε για να δημιουργήσουν μια συνεδρία VPN.
- **Client CIDR range:** Μια περιοχή διευθύνσεων IP από την οποία θα ανατεθούν διευθύνσεις IP πελατών. Κάθε σύνδεση με το Client VPN endpoint ανατίθεται μια μοναδική διεύθυνση IP από την περιοχή CIDR πελατών. Επιλέγετε την περιοχή CIDR πελατών, για παράδειγμα, `10.2.0.0/16`.
- **Client VPN ports:** Ο AWS Client VPN υποστηρίζει τις θύρες 443 και 1194 για TCP και UDP. Η προεπιλογή είναι η θύρα 443.
- **Client VPN network interfaces:** Όταν συνδέετε ένα υποδίκτυο με το Client VPN endpoint σας, δημιουργούμε διεπαφές δικτύου Client VPN σε αυτό το υποδίκτυο. **Η κυκλοφορία που αποστέλλεται στο VPC από το Client VPN endpoint αποστέλλεται μέσω μιας διεπαφής δικτύου Client VPN**. Στη συνέχεια εφαρμόζεται η μετάφραση διεύθυνσης προέλευσης δικτύου (SNAT), όπου η διεύθυνση IP προέλευσης από την περιοχή CIDR πελατών μεταφράζεται στη διεύθυνση IP της διεπαφής δικτύου Client VPN.
- **Connection logging:** Μπορείτε να ενεργοποιήσετε την καταγραφή συνδέσεων για το Client VPN endpoint σας για να καταγράφετε γεγονότα σύνδεσης. Μπορείτε να χρησιμοποιήσετε αυτές τις πληροφορίες για να εκτελέσετε εγκληματολογικές αναλύσεις, να αναλύσετε πώς χρησιμοποιείται το Client VPN endpoint σας ή να αποσφαλίσετε προβλήματα σύνδεσης.
- **Self-service portal:** Μπορείτε να ενεργοποιήσετε μια πύλη αυτοεξυπηρέτησης για το Client VPN endpoint σας. Οι πελάτες μπορούν να συνδεθούν στην διαδικτυακή πύλη χρησιμοποιώντας τα διαπιστευτήριά τους και να κατεβάσουν την τελευταία έκδοση του αρχείου ρύθμισης του Client VPN endpoint, ή την τελευταία έκδοση του πελάτη που παρέχεται από την AWS.

#### Limitations

- **Οι περιοχές CIDR πελατών δεν μπορούν να επικαλύπτονται με την τοπική CIDR** του VPC στο οποίο βρίσκεται το συνδεδεμένο υποδίκτυο, ή οποιεσδήποτε διαδρομές έχουν προστεθεί χειροκίνητα στον πίνακα δρομολόγησης του Client VPN endpoint.
- Οι περιοχές CIDR πελατών πρέπει να έχουν μέγεθος μπλοκ του **τουλάχιστον /22** και **να μην είναι μεγαλύτερες από /12.**
- Ένα **ποσοστό των διευθύνσεων** στην περιοχή CIDR πελατών χρησιμοποιείται για να **υποστηρίξει το μοντέλο διαθεσιμότητας** του Client VPN endpoint και δεν μπορεί να ανατεθεί σε πελάτες. Επομένως, προτείνουμε να **αναθέσετε ένα μπλοκ CIDR που περιέχει διπλάσιο αριθμό διευθύνσεων IP που απαιτούνται** για να επιτρέψετε τον μέγιστο αριθμό ταυτόχρονων συνδέσεων που σκοπεύετε να υποστηρίξετε στο Client VPN endpoint.
- Η **περιοχή CIDR πελατών δεν μπορεί να αλλάξει** μετά τη δημιουργία του Client VPN endpoint.
- Τα **υποδίκτυα** που συνδέονται με ένα Client VPN endpoint **πρέπει να βρίσκονται στο ίδιο VPC**.
- Δεν μπορείτε να **συνδέσετε πολλά υποδίκτυα από την ίδια Ζώνη Διαθεσιμότητας με ένα Client VPN endpoint**.
- Ένα Client VPN endpoint **δεν υποστηρίζει συνδέσεις υποδικτύου σε ένα VPC με αποκλειστική ενοικίαση**.
- Ο Client VPN υποστηρίζει **μόνο** κυκλοφορία IPv4.
- Ο Client VPN **δεν είναι** συμμορφωμένος με τα Ομοσπονδιακά Πρότυπα Επεξεργασίας Πληροφοριών (**FIPS**).
- Εάν η πολυπαραγοντική αυθεντικοποίηση (MFA) είναι απενεργοποιημένη για την Active Directory σας, ο κωδικός πρόσβασης ενός χρήστη δεν μπορεί να είναι στη μορφή.

```
SCRV1:<base64_encoded_string>:<base64_encoded_string>
```

- Η πύλη αυτοεξυπηρέτησης **δεν είναι διαθέσιμη για πελάτες που αυθεντικοποιούνται χρησιμοποιώντας αμοιβαία αυθεντικοποίηση**.

{{#include ../../../../banners/hacktricks-training.md}}
