# AWS - Directory Services Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## Directory Services

Per maggiori informazioni su Directory Services controlla:

{{#ref}}
../../aws-services/aws-directory-services-workdocs-enum.md
{{#endref}}

### `ds:ResetUserPassword`

Questa autorizzazione permette di **cambiare** la **password** di qualsiasi utente **esistente** in Active Directory.\
Per impostazione predefinita, l'unico utente esistente è **Admin**.
```
aws ds reset-user-password --directory-id <id> --user-name Admin --new-password Newpassword123.
```
### AWS Management Console

È possibile abilitare un **URL di accesso all'applicazione** che gli utenti di AD possono usare per accedere:

<figure><img src="../../../images/image (244).png" alt=""><figcaption></figcaption></figure>

E poi **assegnare loro un AWS IAM role** per quando effettuano il login, in questo modo un utente/gruppo AD avrà accesso alla AWS Management Console:

<figure><img src="../../../images/image (155).png" alt=""><figcaption></figcaption></figure>

Apparentemente non esiste alcun modo per abilitare l'URL di accesso all'applicazione, la AWS Management Console e concedere i permessi

{{#include ../../../../banners/hacktricks-training.md}}
