# AWS - MSK Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## MSK

Za više informacija o MSK (Kafka) pogledajte:

{{#ref}}
../../aws-services/aws-msk-enum.md
{{#endref}}

### `msk:ListClusters`, `msk:UpdateSecurity`

Sa ovim **privilegijama** i **pristupom VPC-u gde se nalaze kafka brokeri**, možete dodati **None authentication** kako biste im pristupili.
```bash
aws msk --client-authentication <value> --cluster-arn <value> --current-version <value>
```
Treba vam pristup VPC jer **ne možete omogućiti None authentication kada je Kafka javno izložena**. Ako je javno izložena, i ako se koristi **SASL/SCRAM** autentifikacija, mogli biste **pročitati tajnu** da joj pristupite (biće vam potrebne dodatne privilegije da pročitate tajnu).\
Ako se koristi **IAM role-based authentication** i **kafka je javno izložena** i dalje biste mogli zloupotrebiti te privilegije da sebi dodelite dozvole za pristup.

{{#include ../../../../banners/hacktricks-training.md}}
