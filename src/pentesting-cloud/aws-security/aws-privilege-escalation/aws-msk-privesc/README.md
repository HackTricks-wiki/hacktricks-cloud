# AWS - MSK Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## MSK

MSK (Kafka) hakkında daha fazla bilgi için bakınız:

{{#ref}}
../../aws-services/aws-msk-enum.md
{{#endref}}

### `msk:ListClusters`, `msk:UpdateSecurity`

Bu **yetkiler** ve **kafka broker'larının bulunduğu VPC'ye erişim** ile, onlara erişmek için **None authentication** ekleyebilirsiniz.
```bash
aws msk --client-authentication <value> --cluster-arn <value> --current-version <value>
```
VPC'ye erişmeniz gerekiyor çünkü Kafka halka açıkken **None authentication** etkinleştirilemez. Halka açıksa, **SASL/SCRAM** authentication kullanılıyorsa, erişim için **secret'i okuyabilirsiniz** (secret'i okumak için ek ayrıcalıklara ihtiyacınız olacak).\
Eğer **IAM role-based authentication** kullanılıyorsa ve **kafka halka açık** ise, bu ayrıcalıkları kötüye kullanarak kendinize erişim izni verebilirsiniz.

{{#include ../../../../banners/hacktricks-training.md}}
