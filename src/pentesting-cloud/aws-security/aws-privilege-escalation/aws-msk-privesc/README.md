# AWS - MSK Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## MSK

Kwa taarifa zaidi kuhusu MSK (Kafka) angalia:

{{#ref}}
../../aws-services/aws-msk-enum.md
{{#endref}}

### `msk:ListClusters`, `msk:UpdateSecurity`

Kwa **privileges** hizi na **access to the VPC where the kafka brokers are**, unaweza kuongeza **None authentication** ili kuzifikia.
```bash
aws msk --client-authentication <value> --cluster-arn <value> --current-version <value>
```
Unahitaji ufikiaji wa VPC kwa sababu **huwezi kuwezesha None authentication wakati Kafka imefunuliwa hadharani**. Ikiwa imefunuliwa hadharani, na ikiwa **SASL/SCRAM** authentication inatumika, unaweza **kusoma secret** ili kupata ufikiaji (utahitaji vibali vya ziada kusoma secret).\
Ikiwa **IAM role-based authentication** inatumika na **kafka imefunuliwa hadharani** bado unaweza kutumia vibaya vibali hivi ili kujipa ruhusa za kuifikia.

{{#include ../../../../banners/hacktricks-training.md}}
