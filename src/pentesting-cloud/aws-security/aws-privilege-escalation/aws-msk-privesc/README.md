# AWS - MSK Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## MSK

Vir meer inligting oor MSK (Kafka) sien:

{{#ref}}
../../aws-services/aws-msk-enum.md
{{#endref}}

### `msk:ListClusters`, `msk:UpdateSecurity`

Met hierdie **privileges** en **access to the VPC where the kafka brokers are**, kan jy die **None authentication** byvoeg om access tot hulle te kry.
```bash
aws msk --client-authentication <value> --cluster-arn <value> --current-version <value>
```
Jy het toegang tot die VPC nodig omdat **jy nie None authentication kan inskakel as Kafka publiekelik blootgestel is nie**. As dit publiekelik blootgestel is, en **SASL/SCRAM** authentication gebruik word, kan jy die **read the secret** uitvoer om toegang te kry (jy sal addisionele regte nodig hÃª om die read the secret uit te voer).\
As **IAM role-based authentication** gebruik word en **kafka is publicly exposed** kan jy steeds hierdie voorregte misbruik om jouself permissies te gee om toegang daartoe te kry.

{{#include ../../../../banners/hacktricks-training.md}}
