# AWS - SQS Privesc

{{#include ../../../banners/hacktricks-training.md}}

## SQS

Aby uzyskać więcej informacji, sprawdź:

{{#ref}}
../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:AddPermission`

Napastnik mógłby wykorzystać tę uprawnienie do przyznania nieautoryzowanym użytkownikom lub usługom dostępu do kolejki SQS, tworząc nowe zasady lub modyfikując istniejące zasady. Może to prowadzić do nieautoryzowanego dostępu do wiadomości w kolejce lub manipulacji kolejką przez nieautoryzowane podmioty.
```bash
cssCopy codeaws sqs add-permission --queue-url <value> --actions <value> --aws-account-ids <value> --label <value>
```
**Potencjalny wpływ**: Nieautoryzowany dostęp do kolejki, ujawnienie wiadomości lub manipulacja kolejką przez nieautoryzowanych użytkowników lub usługi.

### `sqs:SendMessage` , `sqs:SendMessageBatch`

Napastnik mógłby wysłać złośliwe lub niechciane wiadomości do kolejki SQS, co potencjalnie mogłoby prowadzić do uszkodzenia danych, wywołania niezamierzonych działań lub wyczerpania zasobów.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potencjalny wpływ**: Wykorzystanie luk, uszkodzenie danych, niezamierzone działania lub wyczerpanie zasobów.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

Napastnik mógłby odbierać, usuwać lub modyfikować widoczność wiadomości w kolejce SQS, co prowadziłoby do utraty wiadomości, uszkodzenia danych lub zakłócenia działania aplikacji polegających na tych wiadomościach.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potencjalny wpływ**: Kradzież wrażliwych informacji, utrata wiadomości, uszkodzenie danych oraz zakłócenie działania aplikacji polegających na dotkniętych wiadomościach.

{{#include ../../../banners/hacktricks-training.md}}
