# AWS - SQS Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## SQS

Vir meer inligting, sien:

{{#ref}}
../../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:AddPermission`

’ n aanvaller kan hierdie toestemming gebruik om ongemagtigde gebruikers of dienste toegang tot ’n SQS queue te verleen deur nuwe beleide te skep of bestaande beleide te wysig. Dit kan lei tot ongemagtigde toegang tot die boodskappe in die queue of tot die manipulering van die queue deur ongemagtigde entiteite.
```bash
aws sqs add-permission --queue-url <value> --actions <value> --aws-account-ids <value> --label <value>
```
**Potensiële impak**: Ongemagtigde toegang tot die waglys, blootstelling van boodskappe, of manipulering van die waglys deur ongemagtigde gebruikers of dienste.

### `sqs:SendMessage` , `sqs:SendMessageBatch`

An attacker kan kwaadwillige of ongewenste boodskappe na die SQS-waglys stuur, wat moontlik datakorrupsie veroorsaak, onbedoelde aksies aktiveer, of hulpbronne uitput.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potensiële impak**: Kwesbaarheidseksploitasie, datakorrupsie, onbedoelde aksies, of hulpbronuitputting.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

’n aanvaller kan boodskappe in ’n SQS-ry ontvang, verwyder of die sigbaarheid daarvan verander, wat boodskapverlies, datakorrupsie of diensonderbreking vir toepassings wat op daardie boodskappe staatmaak, kan veroorsaak.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potensiële impak**: Steel sensitiewe inligting, boodskapverlies, datakorrupsie, en diensonderbreking vir toepassings wat op die geraakte boodskappe staatmaak.

{{#include ../../../../banners/hacktricks-training.md}}
