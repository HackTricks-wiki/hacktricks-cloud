# AWS - SQS Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## SQS

Więcej informacji:

{{#ref}}
../../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:AddPermission`

Atakujący może użyć tego uprawnienia, aby przyznać nieautoryzowanym użytkownikom lub usługom dostęp do kolejki SQS poprzez tworzenie nowych polityk lub modyfikowanie istniejących. Może to skutkować nieautoryzowanym dostępem do wiadomości w kolejce lub manipulacją kolejką przez nieuprawnione podmioty.
```bash
aws sqs add-permission --queue-url <value> --actions <value> --aws-account-ids <value> --label <value>
```
**Potencjalny wpływ**: Nieautoryzowany dostęp do kolejki, ujawnienie wiadomości lub manipulacja kolejką przez nieautoryzowanych użytkowników lub usługi.

### `sqs:SendMessage` , `sqs:SendMessageBatch`

Atakujący może wysyłać złośliwe lub niechciane wiadomości do kolejki SQS, co może powodować uszkodzenie danych, wywoływanie niezamierzonych działań lub wyczerpanie zasobów.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potencjalny wpływ**: Wykorzystanie podatności, uszkodzenie danych, niezamierzone działania lub wyczerpanie zasobów.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

Atakujący może odebrać, usunąć lub zmienić widoczność wiadomości w kolejce SQS, co może spowodować utratę wiadomości, uszkodzenie danych lub przerwanie działania usług aplikacji polegających na tych wiadomościach.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potential Impact**: Kradzież wrażliwych informacji, utrata wiadomości, uszkodzenie danych i zakłócenie działania usług dla aplikacji zależnych od dotkniętych wiadomości.

{{#include ../../../../banners/hacktricks-training.md}}
