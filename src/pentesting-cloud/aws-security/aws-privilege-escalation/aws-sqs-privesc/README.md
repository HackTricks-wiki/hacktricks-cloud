# AWS - SQS Privesc

{{#include ../../../../banners/hacktricks-training.md}}

## SQS

Daha fazla bilgi için bakınız:

{{#ref}}
../../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:AddPermission`

Bir saldırgan bu izni, yeni politikalar oluşturarak veya mevcut politikaları değiştirerek yetkisiz kullanıcıların veya servislerin bir SQS kuyruğuna erişimini sağlaması için kullanabilir. Bu, kuyruğa ilişkin mesajlara yetkisiz erişim veya kuyruğun yetkisiz taraflarca manipüle edilmesi ile sonuçlanabilir.
```bash
aws sqs add-permission --queue-url <value> --actions <value> --aws-account-ids <value> --label <value>
```
**Potansiyel Etki**: Kuyruğa yetkisiz erişim, mesajların açığa çıkması veya yetkisiz kullanıcılar ya da servisler tarafından kuyruğun manipüle edilmesi.

### `sqs:SendMessage` , `sqs:SendMessageBatch`

Bir saldırgan SQS kuyruğuna kötü amaçlı veya istenmeyen mesajlar göndererek veri bozulmasına, istenmeyen eylemlerin tetiklenmesine veya kaynakların tükenmesine neden olabilir.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potansiyel Etki**: Güvenlik açığının istismarı, veri bozulması, istenmeyen işlemler veya kaynak tükenmesi.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

Bir saldırgan SQS kuyruğundaki mesajları alabilir, silebilir veya görünürlüklerini değiştirebilir; bu durum, bu mesajlara bağımlı uygulamalar için mesaj kaybına, veri bozulmasına veya hizmet kesintisine yol açabilir.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potansiyel Etki**: Hassas bilgilerin çalınması, mesaj kaybı, veri bozulması ve etkilenen mesajlara bağlı uygulamalar için hizmet aksaması.

{{#include ../../../../banners/hacktricks-training.md}}
