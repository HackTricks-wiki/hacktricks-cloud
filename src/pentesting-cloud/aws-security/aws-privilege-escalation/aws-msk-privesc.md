# AWS - MSK Privesc

{{#include ../../../banners/hacktricks-training.md}}

## MSK

Kwa maelezo zaidi kuhusu MSK (Kafka) angalia:

{{#ref}}
../aws-services/aws-msk-enum.md
{{#endref}}

### `msk:ListClusters`, `msk:UpdateSecurity`

Kwa hizi **haki** na **ufikiaji wa VPC ambapo wakala wa kafka wako**, unaweza kuongeza **Hakuna uthibitisho** ili kuweza kuwapata.
```bash
aws msk --client-authentication <value> --cluster-arn <value> --current-version <value>
```
Unahitaji ufikiaji wa VPC kwa sababu **huwezi kuwezesha uthibitisho wa None na Kafka iliyofichuliwa hadharani**. Ikiwa imefichuliwa hadharani, ikiwa **uthibitisho wa SASL/SCRAM** unatumika, unaweza **kusoma siri** ili kupata ufikiaji (utahitaji ruhusa za ziada kusoma siri hiyo).\
Ikiwa **uthibitisho wa msingi wa jukumu la IAM** unatumika na **kafka imefichuliwa hadharani** bado unaweza kutumia ruhusa hizi kukupa ruhusa za kuweza kufikia.

{{#include ../../../banners/hacktricks-training.md}}
