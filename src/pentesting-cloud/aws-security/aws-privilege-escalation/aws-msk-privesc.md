# AWS - MSK Privesc

{{#include ../../../banners/hacktricks-training.md}}

## MSK

MSK (Kafka) hakkında daha fazla bilgi için kontrol edin:

{{#ref}}
../aws-services/aws-msk-enum.md
{{#endref}}

### `msk:ListClusters`, `msk:UpdateSecurity`

Bu **yetkiler** ve **kafka brokerlarının bulunduğu VPC'ye erişim ile**, onlara erişmek için **None authentication** ekleyebilirsiniz.
```bash
aws msk --client-authentication <value> --cluster-arn <value> --current-version <value>
```
VPC'ye erişiminiz olmalı çünkü **Kafka'yı kamuya açık bir şekilde None kimlik doğrulaması ile etkinleştiremezsiniz**. Eğer kamuya açıksa, **SASL/SCRAM** kimlik doğrulaması kullanılıyorsa, **gizli anahtarı** okumak için erişim sağlayabilirsiniz (gizli anahtarı okumak için ek ayrıcalıklara ihtiyacınız olacak).\
Eğer **IAM rol tabanlı kimlik doğrulaması** kullanılıyorsa ve **kafka kamuya açık bir şekilde** maruz kalıyorsa, bu ayrıcalıkları kötüye kullanarak erişim izinleri alabilirsiniz.

{{#include ../../../banners/hacktricks-training.md}}
