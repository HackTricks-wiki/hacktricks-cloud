# AWS - ECR Unauthenticated Enum

{{#include ../../../banners/hacktricks-training.md}}

## ECR

Kwa maelezo zaidi angalia:

{{#ref}}
../aws-services/aws-ecr-enum.md
{{#endref}}

### Repositories za umma (picha)

Kama ilivyotajwa katika sehemu ya ECS Enum, registry ya umma ni **inapatikana kwa mtu yeyote** inatumia muundo **`public.ecr.aws/<random>/<name>`**. Ikiwa URL ya repository ya umma itapatikana na mshambuliaji anaweza **kupakua picha na kutafuta taarifa nyeti** katika metadata na maudhui ya picha.
```bash
aws ecr describe-repositories --query 'repositories[?repositoryUriPublic == `true`].repositoryName' --output text
```
> [!WARNING]
> Hii inaweza pia kutokea katika **registries za kibinafsi** ambapo sera ya registry au sera ya hifadhi inatoa **ufikiaji kwa mfano kwa `"AWS": "*"`**. Mtu yeyote mwenye akaunti ya AWS anaweza kufikia hifadhi hiyo.

### Kuorodhesha Hifadhi Binafsi

Zana [**skopeo**](https://github.com/containers/skopeo) na [**crane**](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane.md) zinaweza kutumika kuorodhesha hifadhi zinazopatikana ndani ya registry binafsi.
```bash
# Get image names
skopeo list-tags docker://<PRIVATE_REGISTRY_URL> | grep -oP '(?<=^Name: ).+'
crane ls <PRIVATE_REGISTRY_URL> | sed 's/ .*//'
```
{{#include ../../../banners/hacktricks-training.md}}
