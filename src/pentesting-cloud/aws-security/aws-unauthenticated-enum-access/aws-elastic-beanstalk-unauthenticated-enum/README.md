# AWS - Elastic Beanstalk Unauthenticated Enum

{{#include ../../../../banners/hacktricks-training.md}}

## Elastic Beanstalk

更多信息参见：

{{#ref}}
../../aws-services/aws-elastic-beanstalk-enum.md
{{#endref}}

### Web 漏洞

注意，默认情况下 Beanstalk 环境的 **Metadatav1 是禁用的**。

Beanstalk 网页的格式为 **`https://<webapp-name>-env.<region>.elasticbeanstalk.com/`**

### 不安全的 Security Group Rules

错误配置的 Security Group 规则可能会将 Elastic Beanstalk 实例暴露给公网。**过度宽松的 ingress 规则，例如允许来自任意 IP（0.0.0.0/0）对敏感端口的流量，可能使攻击者访问该实例**。

### 公开可访问的 Load Balancer

如果 Elastic Beanstalk 环境使用 load balancer 且该 load balancer 被配置为公开可访问，攻击者可以 **直接向 load balancer 发送请求**。对于本就面向公众的 web 应用这可能不是问题，但对于私有应用或环境则可能成为问题。

### 公开可访问的 S3 Buckets

Elastic Beanstalk 应用通常在部署前存储在 S3 bucket 中。如果存放应用的 S3 bucket 是公开可访问的，攻击者可能会 **下载应用代码并搜索漏洞或敏感信息**。

### 枚举公共环境
```bash
aws elasticbeanstalk describe-environments --query 'Environments[?OptionSettings[?OptionName==`aws:elbv2:listener:80:defaultProcess` && contains(OptionValue, `redirect`)]].{EnvironmentName:EnvironmentName, ApplicationName:ApplicationName, Status:Status}' --output table
```
{{#include ../../../../banners/hacktricks-training.md}}
