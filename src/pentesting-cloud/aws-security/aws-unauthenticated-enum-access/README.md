# AWS - Enumeração e Acesso Não Autenticado

{{#include ../../../banners/hacktricks-training.md}}

## Vazamentos de Credenciais AWS

Uma maneira comum de obter acesso ou informações sobre uma conta AWS é **procurando por vazamentos**. Você pode procurar por vazamentos usando **google dorks**, verificando os **repositórios públicos** da **organização** e dos **trabalhadores** da organização no **Github** ou em outras plataformas, pesquisando em **bancos de dados de vazamentos de credenciais**... ou em qualquer outra parte que você acha que pode encontrar informações sobre a empresa e sua infraestrutura em nuvem.\
Algumas **ferramentas** úteis:

- [https://github.com/carlospolop/leakos](https://github.com/carlospolop/leakos)
- [https://github.com/carlospolop/pastos](https://github.com/carlospolop/pastos)
- [https://github.com/carlospolop/gorks](https://github.com/carlospolop/gorks)

## Enumeração e Acesso Não Autenticado AWS

Existem vários serviços na AWS que podem ser configurados dando algum tipo de acesso a toda a Internet ou a mais pessoas do que o esperado. Confira aqui como:

- [**Enumeração de Contas Não Autenticadas**](aws-accounts-unauthenticated-enum.md)
- [**Enumeração Cloud9 Não Autenticada**](https://github.com/carlospolop/hacktricks-cloud/blob/master/pentesting-cloud/aws-security/aws-unauthenticated-enum-access/broken-reference/README.md)
- [**Enumeração Cloudfront Não Autenticada**](aws-cloudfront-unauthenticated-enum.md)
- [**Enumeração Cloudsearch Não Autenticada**](https://github.com/carlospolop/hacktricks-cloud/blob/master/pentesting-cloud/aws-security/aws-unauthenticated-enum-access/broken-reference/README.md)
- [**Enumeração Cognito Não Autenticada**](aws-cognito-unauthenticated-enum.md)
- [**Enumeração DocumentDB Não Autenticada**](aws-documentdb-enum.md)
- [**Enumeração EC2 Não Autenticada**](aws-ec2-unauthenticated-enum.md)
- [**Enumeração Elasticsearch Não Autenticada**](aws-elasticsearch-unauthenticated-enum.md)
- [**Enumeração IAM Não Autenticada**](aws-iam-and-sts-unauthenticated-enum.md)
- [**Acesso IoT Não Autenticado**](aws-iot-unauthenticated-enum.md)
- [**Acesso Kinesis Video Não Autenticado**](aws-kinesis-video-unauthenticated-enum.md)
- [**Acesso de Mídia Não Autenticado**](aws-media-unauthenticated-enum.md)
- [**Acesso MQ Não Autenticado**](aws-mq-unauthenticated-enum.md)
- [**Acesso MSK Não Autenticado**](aws-msk-unauthenticated-enum.md)
- [**Acesso RDS Não Autenticado**](aws-rds-unauthenticated-enum.md)
- [**Acesso Redshift Não Autenticado**](aws-redshift-unauthenticated-enum.md)
- [**Acesso SQS Não Autenticado**](aws-sqs-unauthenticated-enum.md)
- [**Acesso S3 Não Autenticado**](aws-s3-unauthenticated-enum.md)

## Ataques entre Contas

Na palestra [**Quebrando a Isolação: Vulnerabilidades entre Contas AWS**](https://www.youtube.com/watch?v=JfEFIcpJ2wk) é apresentado como alguns serviços permitiram que qualquer conta AWS acessasse-os porque **serviços AWS sem especificar IDs de contas** foram permitidos.

Durante a palestra, eles especificam vários exemplos, como buckets S3 **permitindo cloudtrail** (de **qualquer conta AWS**) **escrever neles**:

![](<../../../images/image (260).png>)

Outros serviços encontrados vulneráveis:

- AWS Config
- Repositório Serverless

## Ferramentas

- [**cloud_enum**](https://github.com/initstring/cloud_enum): Ferramenta OSINT multi-nuvem. **Encontre recursos públicos** na AWS, Azure e Google Cloud. Serviços AWS suportados: Buckets S3 Abertos / Protegidos, awsapps (WorkMail, WorkDocs, Connect, etc.)

{{#include ../../../banners/hacktricks-training.md}}
