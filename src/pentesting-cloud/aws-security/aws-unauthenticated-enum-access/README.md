# AWS - 未认证枚举与访问

{{#include ../../../banners/hacktricks-training.md}}

## AWS 凭证泄露

获取 AWS 账户访问或信息的常见方法是通过 **搜索泄露**。您可以使用 **google dorks** 搜索泄露，检查 **组织** 的 **公共仓库** 和 **员工** 在 **Github** 或其他平台上的信息，搜索 **凭证泄露数据库**... 或在您认为可能找到公司及其云基础设施信息的任何其他地方。\
一些有用的 **工具**：

- [https://github.com/carlospolop/leakos](https://github.com/carlospolop/leakos)
- [https://github.com/carlospolop/pastos](https://github.com/carlospolop/pastos)
- [https://github.com/carlospolop/gorks](https://github.com/carlospolop/gorks)

## AWS 未认证枚举与访问

AWS 中有几个服务可能被配置为向所有互联网或比预期更多的人提供某种访问权限。查看以下内容了解如何：

- [**账户未认证枚举**](aws-accounts-unauthenticated-enum.md)
- [**Cloud9 未认证枚举**](https://github.com/carlospolop/hacktricks-cloud/blob/master/pentesting-cloud/aws-security/aws-unauthenticated-enum-access/broken-reference/README.md)
- [**Cloudfront 未认证枚举**](aws-cloudfront-unauthenticated-enum.md)
- [**Cloudsearch 未认证枚举**](https://github.com/carlospolop/hacktricks-cloud/blob/master/pentesting-cloud/aws-security/aws-unauthenticated-enum-access/broken-reference/README.md)
- [**Cognito 未认证枚举**](aws-cognito-unauthenticated-enum.md)
- [**DocumentDB 未认证枚举**](aws-documentdb-enum.md)
- [**EC2 未认证枚举**](aws-ec2-unauthenticated-enum.md)
- [**Elasticsearch 未认证枚举**](aws-elasticsearch-unauthenticated-enum.md)
- [**IAM 未认证枚举**](aws-iam-and-sts-unauthenticated-enum.md)
- [**IoT 未认证访问**](aws-iot-unauthenticated-enum.md)
- [**Kinesis Video 未认证访问**](aws-kinesis-video-unauthenticated-enum.md)
- [**Media 未认证访问**](aws-media-unauthenticated-enum.md)
- [**MQ 未认证访问**](aws-mq-unauthenticated-enum.md)
- [**MSK 未认证访问**](aws-msk-unauthenticated-enum.md)
- [**RDS 未认证访问**](aws-rds-unauthenticated-enum.md)
- [**Redshift 未认证访问**](aws-redshift-unauthenticated-enum.md)
- [**SQS 未认证访问**](aws-sqs-unauthenticated-enum.md)
- [**S3 未认证访问**](aws-s3-unauthenticated-enum.md)

## 跨账户攻击

在演讲 [**打破隔离：跨账户 AWS 漏洞**](https://www.youtube.com/watch?v=JfEFIcpJ2wk) 中，展示了一些服务如何允许任何 AWS 账户访问它们，因为 **AWS 服务未指定账户 ID** 是被允许的。

在演讲中，他们列举了几个例子，例如 S3 存储桶 **允许 cloudtrail**（来自 **任何 AWS** 账户）**写入它们**：

![](<../../../images/image (260).png>)

其他发现存在漏洞的服务：

- AWS Config
- Serverless repository

## 工具

- [**cloud_enum**](https://github.com/initstring/cloud_enum)：多云 OSINT 工具。**查找公共资源** 在 AWS、Azure 和 Google Cloud。支持的 AWS 服务：开放/受保护的 S3 存储桶，awsapps（WorkMail、WorkDocs、Connect 等）

{{#include ../../../banners/hacktricks-training.md}}
