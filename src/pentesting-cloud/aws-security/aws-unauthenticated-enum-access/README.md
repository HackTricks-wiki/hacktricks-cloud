# AWS - Unauthenticated Enum & Access

{{#include ../../../banners/hacktricks-training.md}}

## AWS Credentials Leaks

AWS 계정에 접근하거나 정보를 얻는 일반적인 방법 중 하나는 **searching for leaks**입니다. **google dorks**를 사용하거나 조직과 조직 구성원들의 **public repos**(예: **Github** 등)를 확인하거나, **credentials leaks databases**를 검색하는 등 회사와 그 클라우드 인프라에 대한 정보를 찾을 수 있을 것 같은 모든 곳을 탐색할 수 있습니다.\
유용한 **도구들**:

- [https://github.com/carlospolop/leakos](https://github.com/carlospolop/leakos)
- [https://github.com/carlospolop/pastos](https://github.com/carlospolop/pastos)
- [https://github.com/carlospolop/gorks](https://github.com/carlospolop/gorks)

## AWS Unauthenticated Enum & Access

AWS에서는 몇몇 서비스가 인터넷 전체 또는 예상보다 더 많은 사용자에게 접근 권한을 허용하도록 잘못 설정될 수 있습니다. 방법은 다음을 확인하세요:

- [**Accounts Unauthenticated Enum**](aws-accounts-unauthenticated-enum/index.html)
- [**API Gateway Unauthenticated Enum**](aws-api-gateway-unauthenticated-enum/index.html)
- [**Cloudfront Unauthenticated Enum**](aws-cloudfront-unauthenticated-enum/index.html)
- [**Codebuild Unauthenticated Access**](aws-codebuild-unauthenticated-access/index.html)
- [**Cognito Unauthenticated Enum**](aws-cognito-unauthenticated-enum/index.html)
- [**DocumentDB Unauthenticated Enum**](aws-documentdb-enum/index.html)
- [**DynamoDB Unauthenticated Access**](aws-dynamodb-unauthenticated-access/index.html)
- [**EC2 Unauthenticated Enum**](aws-ec2-unauthenticated-enum/index.html)
- [**Elastic Beanstalk Unauthenticated Enum**](aws-elastic-beanstalk-unauthenticated-enum/index.html)
- [**Elasticsearch Unauthenticated Enum**](aws-elasticsearch-unauthenticated-enum/index.html)
- [**IAM Unauthenticated Enum**](aws-iam-and-sts-unauthenticated-enum/index.html)
- [**Identity Center and SSO Unauthenticated Enum**](aws-identity-center-and-sso-unauthenticated-enum/index.html)
- [**IoT Unauthenticated Enum**](aws-iot-unauthenticated-enum/index.html)
- [**Kinesis Video Unauthenticated Enum**](aws-kinesis-video-unauthenticated-enum/index.html)
- [**Lambda Unauthenticated Access**](aws-lambda-unauthenticated-access/index.html)
- [**Media Unauthenticated Enum**](aws-media-unauthenticated-enum/index.html)
- [**MQ Unauthenticated Enum**](aws-mq-unauthenticated-enum/index.html)
- [**MSK Unauthenticated Enum**](aws-msk-unauthenticated-enum/index.html)
- [**RDS Unauthenticated Enum**](aws-rds-unauthenticated-enum/index.html)
- [**Redshift Unauthenticated Enum**](aws-redshift-unauthenticated-enum/index.html)
- [**S3 Unauthenticated Enum**](aws-s3-unauthenticated-enum/index.html)
- [**Sagemaker Unauthenticated Enum**](aws-sagemaker-unauthenticated-enum/index.html)
- [**SNS Unauthenticated Enum**](aws-sns-unauthenticated-enum/index.html)
- [**SQS Unauthenticated Enum**](aws-sqs-unauthenticated-enum/index.html)

## Cross Account Attacks

In the talk [**Breaking the Isolation: Cross-Account AWS Vulnerabilities**](https://www.youtube.com/watch?v=JfEFIcpJ2wk)에서는 일부 서비스가 **AWS services without specifying accounts ID** 때문에 어떤 AWS 계정이라도 접근할 수 있도록 허용되었던 사례들을 소개합니다.

강연에서는 예로 S3 버킷이 **allowing cloudtrai**l (of **any AWS** account) to **write to them**를 허용했던 경우 등을 설명합니다:

![](<../../../images/image (260).png>)

취약한 것으로 발견된 다른 서비스:

- AWS Config
- Serverless repository

## Tools

- [**cloud_enum**](https://github.com/initstring/cloud_enum): 멀티-클라우드 OSINT 도구. **Find public resources** in AWS, Azure, and Google Cloud. Supported AWS services: Open / Protected S3 Buckets, awsapps (WorkMail, WorkDocs, Connect, etc.)

{{#include ../../../banners/hacktricks-training.md}}
