# AWS - Enumeração de Contas Não Autenticadas

{{#include ../../../banners/hacktricks-training.md}}

## IDs de Conta

Se você tem um alvo, existem maneiras de tentar identificar os IDs de conta relacionados ao alvo.

### Força Bruta

Você cria uma lista de IDs de conta e aliases potenciais e os verifica.
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
Você pode [automatizar esse processo com esta ferramenta](https://github.com/dagrz/aws_pwn/blob/master/reconnaissance/validate_accounts.py).

### OSINT

Procure por URLs que contenham `<alias>.signin.aws.amazon.com` com um **alias relacionado à organização**.

### Marketplace

Se um fornecedor tiver **instâncias no marketplace,** você pode obter o id do proprietário (id da conta) da conta AWS que ele usou.

### Snapshots

- Snapshots EBS públicos (EC2 -> Snapshots -> Public Snapshots)
- Snapshots públicos do RDS (RDS -> Snapshots -> All Public Snapshots)
- AMIs públicas (EC2 -> AMIs -> Public images)

### Erros

Muitas mensagens de erro da AWS (mesmo acesso negado) fornecerão essas informações.

## Referências

- [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

{{#include ../../../banners/hacktricks-training.md}}
