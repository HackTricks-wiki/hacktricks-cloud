# AWS - Accounts Unauthenticated Enum

{{#include ../../../banners/hacktricks-training.md}}

## アカウントID

ターゲットがある場合、ターゲットに関連するアカウントのアカウントIDを特定する方法があります。

### ブルートフォース

潜在的なアカウントIDとエイリアスのリストを作成し、それらをチェックします。
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
You can [自動化するこのプロセスはこのツールで](https://github.com/dagrz/aws_pwn/blob/master/reconnaissance/validate_accounts.py).

### OSINT

`<alias>.signin.aws.amazon.com` を含むURLを探してください。**組織に関連するエイリアス**を使用してください。

### Marketplace

ベンダーが**マーケットプレイスにインスタンスを持っている場合、**彼が使用したAWSアカウントのオーナーID（アカウントID）を取得できます。

### Snapshots

- 公開EBSスナップショット (EC2 -> Snapshots -> Public Snapshots)
- RDS公開スナップショット (RDS -> Snapshots -> All Public Snapshots)
- 公開AMI (EC2 -> AMIs -> Public images)

### Errors

多くのAWSエラーメッセージ（アクセス拒否を含む）は、その情報を提供します。

## References

- [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

{{#include ../../../banners/hacktricks-training.md}}
