# AWS - 账户未认证枚举

{{#include ../../../banners/hacktricks-training.md}}

## 账户 ID

如果你有一个目标，有一些方法可以尝试识别与该目标相关的账户 ID。

### 暴力破解

你创建一个潜在账户 ID 和别名的列表并进行检查。
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
您可以 [使用此工具自动化此过程](https://github.com/dagrz/aws_pwn/blob/master/reconnaissance/validate_accounts.py)。

### OSINT

查找包含 `<alias>.signin.aws.amazon.com` 的网址，**与组织相关的别名**。

### Marketplace

如果供应商在 **市场中有实例，** 您可以获取他使用的 AWS 账户的所有者 ID（账户 ID）。

### Snapshots

- 公共 EBS 快照 (EC2 -> Snapshots -> Public Snapshots)
- RDS 公共快照 (RDS -> Snapshots -> All Public Snapshots)
- 公共 AMI (EC2 -> AMIs -> Public images)

### Errors

许多 AWS 错误消息（甚至访问被拒绝）将提供该信息。

## References

- [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

{{#include ../../../banners/hacktricks-training.md}}
