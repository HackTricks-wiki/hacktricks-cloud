# AWS - Accounts Unauthenticated Enum

{{#include ../../../banners/hacktricks-training.md}}

## Identifiants de compte

Si vous avez une cible, il existe des moyens d'essayer d'identifier les identifiants de compte des comptes liés à la cible.

### Force brute

Vous créez une liste d'identifiants de compte et d'alias potentiels et les vérifiez.
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
Vous pouvez [automatiser ce processus avec cet outil](https://github.com/dagrz/aws_pwn/blob/master/reconnaissance/validate_accounts.py).

### OSINT

Recherchez des URLs contenant `<alias>.signin.aws.amazon.com` avec un **alias lié à l'organisation**.

### Marketplace

Si un vendeur a des **instances sur le marketplace,** vous pouvez obtenir l'identifiant du propriétaire (identifiant de compte) du compte AWS qu'il a utilisé.

### Snapshots

- Snapshots EBS publics (EC2 -> Snapshots -> Snapshots publics)
- Snapshots RDS publics (RDS -> Snapshots -> Tous les snapshots publics)
- AMIs publics (EC2 -> AMIs -> Images publiques)

### Erreurs

De nombreux messages d'erreur AWS (même accès refusé) fourniront cette information.

## Références

- [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

{{#include ../../../banners/hacktricks-training.md}}
