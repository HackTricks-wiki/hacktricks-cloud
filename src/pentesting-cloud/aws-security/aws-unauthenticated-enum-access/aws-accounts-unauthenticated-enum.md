# AWS - Enumeración No Autenticada de Cuentas

{{#include ../../../banners/hacktricks-training.md}}

## IDs de Cuenta

Si tienes un objetivo, hay formas de intentar identificar los IDs de cuenta de cuentas relacionadas con el objetivo.

### Fuerza Bruta

Creas una lista de posibles IDs de cuenta y alias y los verificas.
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
Puedes [automatizar este proceso con esta herramienta](https://github.com/dagrz/aws_pwn/blob/master/reconnaissance/validate_accounts.py).

### OSINT

Busca urls que contengan `<alias>.signin.aws.amazon.com` con un **alias relacionado con la organización**.

### Marketplace

Si un vendedor tiene **instancias en el marketplace,** puedes obtener el id del propietario (id de cuenta) de la cuenta de AWS que utilizó.

### Snapshots

- Snapshots públicos de EBS (EC2 -> Snapshots -> Public Snapshots)
- Snapshots públicos de RDS (RDS -> Snapshots -> All Public Snapshots)
- AMIs públicas (EC2 -> AMIs -> Public images)

### Errors

Muchos mensajes de error de AWS (incluso acceso denegado) proporcionarán esa información.

## References

- [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

{{#include ../../../banners/hacktricks-training.md}}
