# AWS - Lambda 未認証アクセス

{{#include ../../../../banners/hacktricks-training.md}}

## 公開関数のURL

誰でもアクセスできる**Lambda**を**公開関数のURL**に関連付けることができます。これにはWebの脆弱性が含まれている可能性があります。

### 公開URLテンプレート
```
https://{random_id}.lambda-url.{region}.on.aws/
```
### 公開 Lambda URL からアカウントIDを取得

S3 buckets、Data Exchange、API gateways と同様に、公開 Lambda URL から **`aws:ResourceAccount`** **Policy Condition Key** を悪用してアカウントのアカウント ID を特定することが可能です。これは、ポリシーの **`aws:ResourceAccount`** セクションでワイルドカードを悪用し、アカウント ID を1文字ずつ見つけることで行います。\
この手法は、タグキーが分かっている場合に**タグの値**を取得することも可能です（デフォルトで興味深いものがいくつかあります）。

詳細は [**original research**](https://blog.plerion.com/conditional-love-for-aws-metadata-enumeration/) と、このエクスプロイトを自動化するためのツール [**conditional-love**](https://github.com/plerionhq/conditional-love/) を参照してください。

{{#include ../../../../banners/hacktricks-training.md}}
