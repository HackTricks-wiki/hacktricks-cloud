# AWS - CodeBuild Unauthenticated Access

{{#include ../../../banners/hacktricks-training.md}}

## CodeBuild

Kwa maelezo zaidi angalia ukurasa huu:

{{#ref}}
../aws-services/aws-codebuild-enum.md
{{#endref}}

### buildspec.yml

Ikiwa unapata ufikiaji wa kuandika juu ya hifadhi inayoshikilia faili inayoitwa **`buildspec.yml`**, unaweza **kufanya backdoor** faili hii, ambayo inaelezea **amri ambazo zitatekelezwa** ndani ya mradi wa CodeBuild na kutoa siri, kuathiri kile kinachofanywa na pia kuathiri **akili za CodeBuild IAM**.

Kumbuka kwamba hata kama hakuna faili yoyote ya **`buildspec.yml`** lakini unajua Codebuild inatumika (au CI/CD tofauti) **kubadilisha baadhi ya msimbo halali** ambao utafanikishwa pia kunaweza kukuletea shell ya kurudi kwa mfano.

Kwa maelezo yanayohusiana unaweza kuangalia ukurasa kuhusu jinsi ya kushambulia Github Actions (sawa na hii):

{{#ref}}
../../../pentesting-ci-cd/github-security/abusing-github-actions/
{{#endref}}

## Self-hosted GitHub Actions runners in AWS CodeBuild <a href="#action-runner" id="action-runner"></a>

Kama [**ilivyosemwa katika nyaraka**](https://docs.aws.amazon.com/codebuild/latest/userguide/action-runner.html), Inawezekana kuunda **CodeBuild** ili kuendesha **actions za Github zinazojihifadhi** wakati mchakato unapoanzishwa ndani ya hifadhi ya Github iliyowekwa. Hii inaweza kugundulika kwa kuangalia usanidi wa mradi wa CodeBuild kwa sababu **`Aina ya Tukio`** inahitaji kuwa na: **`WORKFLOW_JOB_QUEUED`** na katika Mchakato wa Github kwa sababu itachagua **mchezaji aliyejihifadhi** kama hii:
```bash
runs-on: codebuild-<project-name>-${{ github.run_id }}-${{ github.run_attempt }}
```
Uhusiano huu mpya kati ya Github Actions na AWS unaunda njia nyingine ya kuhatarisha AWS kutoka Github kwani msimbo katika Github utaendesha katika mradi wa CodeBuild wenye jukumu la IAM lililounganishwa. 

{{#include ../../../banners/hacktricks-training.md}}
