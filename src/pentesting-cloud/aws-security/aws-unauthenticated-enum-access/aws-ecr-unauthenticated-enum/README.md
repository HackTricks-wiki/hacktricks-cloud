# AWS - ECR Unauthenticated Enum

{{#include ../../../../banners/hacktricks-training.md}}

## ECR

Vir meer inligting, sien:

{{#ref}}
../../aws-services/aws-ecr-enum.md
{{#endref}}

### Publieke registry repositories (images)

Soos genoem in die ECS Enum-afdeling, is 'n publieke registry **toeganklik vir enigiemand** en gebruik dit die formaat **`public.ecr.aws/<random>/<name>`**. Indien 'n publieke repository-URL deur 'n aanvaller gevind word, kan hy die beeld **aflaai en soek na sensitiewe inligting** in die metadata en inhoud van die beeld.
```bash
aws ecr describe-repositories --query 'repositories[?repositoryUriPublic == `true`].repositoryName' --output text
```
> [!WARNING]
> Dit kan ook in **privaat registrasies** gebeur waar 'n registry policy of 'n repository policy byvoorbeeld toegang verleen aan **`"AWS": "*"`**. Enigiemand met 'n AWS-rekening kan toegang tot daardie repo kry.

### Enumereer Privaat Repo

Die gereedskap [**skopeo**](https://github.com/containers/skopeo) en [**crane**](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane.md) kan gebruik word om toeganklike repositories binne 'n privaat registrasie te lys.
```bash
# Get image names
skopeo list-tags docker://<PRIVATE_REGISTRY_URL> | grep -oP '(?<=^Name: ).+'
crane ls <PRIVATE_REGISTRY_URL> | sed 's/ .*//'
```
{{#include ../../../../banners/hacktricks-training.md}}
