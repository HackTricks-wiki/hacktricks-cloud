# AWS - ECR Kimlik Doğrulaması Olmayan Enum

{{#include ../../../../banners/hacktricks-training.md}}

## ECR

Daha fazla bilgi için bakınız:

{{#ref}}
../../aws-services/aws-ecr-enum.md
{{#endref}}

### Halka açık registry depoları (imajlar)

ECS Enum bölümünde bahsedildiği gibi, bir public registry **herkes tarafından erişilebilir** ve **`public.ecr.aws/<random>/<name>`** formatını kullanır. Eğer bir saldırgan bir public repository URL'si keşfederse, imajı **indirebilir ve imajın metadata'sında veya içeriğinde hassas bilgileri arayabilir**.
```bash
aws ecr describe-repositories --query 'repositories[?repositoryUriPublic == `true`].repositoryName' --output text
```
> [!WARNING]
> Bu durum **private registries** içinde de olabilir; bir registry policy veya repository policy **örneğin `"AWS": "*"` için erişim veriyorsa**. AWS hesabı olan herhangi biri o repo'ya erişebilir.

### Özel Repo'yu Listeleme

The tools [**skopeo**](https://github.com/containers/skopeo) and [**crane**](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane.md) can be used to list accessible repositories inside a private registry.
```bash
# Get image names
skopeo list-tags docker://<PRIVATE_REGISTRY_URL> | grep -oP '(?<=^Name: ).+'
crane ls <PRIVATE_REGISTRY_URL> | sed 's/ .*//'
```
{{#include ../../../../banners/hacktricks-training.md}}
