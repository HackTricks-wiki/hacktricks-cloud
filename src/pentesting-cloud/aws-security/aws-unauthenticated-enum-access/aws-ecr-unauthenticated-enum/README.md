# AWS - ECR Unauthenticated Enum

{{#include ../../../../banners/hacktricks-training.md}}

## ECR

Kwa maelezo zaidi angalia:

{{#ref}}
../../aws-services/aws-ecr-enum.md
{{#endref}}

### Repositories za rejista za umma (images)

Kama ilivyotajwa katika sehemu ya ECS Enum, rejista ya umma ni **inayopatikana kwa yeyote** na hutumia muundo **`public.ecr.aws/<random>/<name>`**. Ikiwa URL ya repository ya umma itapatikana na mshambuliaji, anaweza **kupakua image na kutafuta taarifa nyeti** katika metadata na yaliyomo ya image.
```bash
aws ecr describe-repositories --query 'repositories[?repositoryUriPublic == `true`].repositoryName' --output text
```
> [!WARNING]
> Hii pia inaweza kutokea katika **private registries** ambapo registry policy au repository policy inampa ruhusa, kwa mfano **`"AWS": "*"`**. Mtu yeyote mwenye akaunti ya AWS anaweza kupata repo hiyo.

### Orodhesha Repo Binafsi

Zana [**skopeo**](https://github.com/containers/skopeo) na [**crane**](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane.md) zinaweza kutumika kuorodhesha repositories zinazopatikana ndani ya private registry.
```bash
# Get image names
skopeo list-tags docker://<PRIVATE_REGISTRY_URL> | grep -oP '(?<=^Name: ).+'
crane ls <PRIVATE_REGISTRY_URL> | sed 's/ .*//'
```
{{#include ../../../../banners/hacktricks-training.md}}
