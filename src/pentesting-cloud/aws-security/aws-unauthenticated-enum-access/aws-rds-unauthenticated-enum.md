# AWS - RDS 인증되지 않은 열거

{{#include ../../../banners/hacktricks-training.md}}

## RDS

자세한 정보는 다음을 확인하세요:

{{#ref}}
../aws-services/aws-relational-database-rds-enum.md
{{#endref}}

## 공개 포트

**인터넷에서 데이터베이스에 대한 공개 액세스**를 제공하는 것이 가능합니다. 공격자는 여전히 **사용자 이름과 비밀번호,** IAM 액세스 또는 **익스플로잇**을 알아야 데이터베이스에 접근할 수 있습니다.

## 공개 RDS 스냅샷

AWS는 **누구나 RDS 스냅샷을 다운로드할 수 있는 액세스**를 제공하는 것을 허용합니다. 자신의 계정에서 이러한 공개 RDS 스냅샷을 매우 쉽게 나열할 수 있습니다:
```bash
# Public RDS snapshots
aws rds describe-db-snapshots --include-public

## Search by account ID
aws rds describe-db-snapshots --include-public --query 'DBSnapshots[?contains(DBSnapshotIdentifier, `284546856933:`) == `true`]'
## To share a RDS snapshot with everybody the RDS DB cannot be encrypted (so the snapshot won't be encryted)
## To share a RDS encrypted snapshot you need to share the KMS key also with the account


# From the own account you can check if there is any public snapshot with:
aws rds describe-db-snapshots --snapshot-type public [--region us-west-2]
## Even if in the console appear as there are public snapshot it might be public
## snapshots from other accounts used by the current account
```
### 공개 URL 템플릿
```
mysql://{user_provided}.{random_id}.{region}.rds.amazonaws.com:3306
postgres://{user_provided}.{random_id}.{region}.rds.amazonaws.com:5432
```
{{#include ../../../banners/hacktricks-training.md}}
