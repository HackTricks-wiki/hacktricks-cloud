# AWS - Accounts Unauthenticated Enum

{{#include ../../../../banners/hacktricks-training.md}}

## ID degli account

Se hai un target, ci sono modi per provare a identificare gli ID degli account correlati al target.

### Brute-Force

Crei una lista di potenziali ID account e alias e li verifichi
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
Puoi [automatizzare questo processo con questo strumento](https://github.com/dagrz/aws_pwn/blob/master/reconnaissance/validate_accounts.py).

### OSINT

Cerca URL che contengono `<alias>.signin.aws.amazon.com` con un **alias relativo all'organizzazione**.

### Marketplace

Se un fornitore ha **instances in the marketplace,** puoi ottenere l'owner id (account id) dell'account AWS che ha usato.

### Snapshots

- Public EBS snapshots (EC2 -> Snapshots -> Public Snapshots)
- RDS public snapshots (RDS -> Snapshots -> All Public Snapshots)
- Public AMIs (EC2 -> AMIs -> Public images)

### Errori

Molti messaggi di errore di AWS (anche 'access denied') forniscono queste informazioni.

## Riferimenti

- [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

{{#include ../../../../banners/hacktricks-training.md}}
