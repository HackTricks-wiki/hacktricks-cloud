# AWS - SNS Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## SNS

Kwa maelezo zaidi:

{{#ref}}
../aws-services/aws-sns-enum.md
{{#endref}}

### Disrupt Messages

Katika kesi kadhaa, mada za SNS zinatumika kutuma ujumbe kwa majukwaa yanayofuatiliwa (barua pepe, ujumbe wa slack...). Ikiwa mshambuliaji atazuia kutumwa kwa ujumbe wanaoashiria uwepo wake katika wingu, anaweza kubaki bila kugundulika.

### `sns:DeleteTopic`

Mshambuliaji anaweza kufuta mada nzima ya SNS, na kusababisha kupotea kwa ujumbe na kuathiri programu zinazotegemea mada hiyo.
```bash
aws sns delete-topic --topic-arn <value>
```
**Madhara Yanayoweza Kutokea**: Kupotea kwa ujumbe na usumbufu wa huduma kwa programu zinazotumia mada iliyofutwa.

### `sns:Publish`

Mshambuliaji anaweza kutuma ujumbe mbaya au usiotakikana kwa mada ya SNS, ambayo inaweza kusababisha uharibifu wa data, kuanzisha vitendo visivyokusudiwa, au kutumia rasilimali.
```bash
aws sns publish --topic-arn <value> --message <value>
```
**Madhara Yanayoweza Kutokea**: Uharibifu wa data, vitendo visivyokusudiwa, au matumizi mabaya ya rasilimali.

### `sns:SetTopicAttributes`

Mshambuliaji anaweza kubadilisha sifa za mada ya SNS, ambayo inaweza kuathiri utendaji wake, usalama, au upatikanaji.
```bash
aws sns set-topic-attributes --topic-arn <value> --attribute-name <value> --attribute-value <value>
```
**Madhara Yanayoweza Kutokea**: Makosa ya usanidi yanayosababisha kupungua kwa utendaji, matatizo ya usalama, au kupungua kwa upatikanaji.

### `sns:Subscribe` , `sns:Unsubscribe`

Mshambuliaji anaweza kujiandikisha au kujiondoa kwenye mada ya SNS, na hivyo kupata ufikiaji usioidhinishwa wa ujumbe au kuharibu utendaji wa kawaida wa programu zinazotegemea mada hiyo.
```bash
aws sns subscribe --topic-arn <value> --protocol <value> --endpoint <value>
aws sns unsubscribe --subscription-arn <value>
```
**Madhara Yanayoweza Kutokea**: Ufikiaji usioidhinishwa wa ujumbe, usumbufu wa huduma kwa programu zinazotegemea mada iliyoathiriwa.

### `sns:AddPermission` , `sns:RemovePermission`

Mshambuliaji anaweza kuwapa watumiaji au huduma zisizoidhinishwa ufikiaji wa mada ya SNS, au kubatilisha ruhusa za watumiaji halali, na kusababisha usumbufu katika utendaji wa kawaida wa programu zinazotegemea mada hiyo.
```css
aws sns add-permission --topic-arn <value> --label <value> --aws-account-id <value> --action-name <value>
aws sns remove-permission --topic-arn <value> --label <value>
```
**Madhara Yanayoweza Kutokea**: Ufikiaji usioidhinishwa wa mada, kufichuliwa kwa ujumbe, au upotoshaji wa mada na watumiaji au huduma zisizoidhinishwa, kuingilia kati kwa utendaji wa kawaida wa programu zinazotegemea mada hiyo.

### `sns:TagResource`, `sns:UntagResource`

Mshambuliaji anaweza kuongeza, kubadilisha, au kuondoa lebo kutoka kwa rasilimali za SNS, kuingilia kati mgawanyo wa gharama wa shirika lako, ufuatiliaji wa rasilimali, na sera za udhibiti wa ufikiaji kulingana na lebo.
```bash
aws sns tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws sns untag-resource --resource-arn <value> --tag-keys <key>
```
**Madhara Yanayoweza Kutokea**: Kuingiliwa kwa ugawaji wa gharama, ufuatiliaji wa rasilimali, na sera za udhibiti wa ufikiaji kulingana na lebo. 

{{#include ../../../banners/hacktricks-training.md}}
