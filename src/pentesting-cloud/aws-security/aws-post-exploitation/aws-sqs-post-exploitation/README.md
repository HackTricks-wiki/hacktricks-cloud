# AWS - SQS Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## SQS

अधिक जानकारी के लिए देखें:

{{#ref}}
../../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:SendMessage` , `sqs:SendMessageBatch`

एक attacker SQS queue में दुष्ट या अनचाहे संदेश भेज सकता है, जो संभवतः डेटा भ्रष्टाचार, अनवांछित क्रियाएँ ट्रिगर करने, या संसाधनों के समाप्त हो जाने का कारण बन सकता है।
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**संभावित प्रभाव**: कमजोरियों का शोषण, डेटा भ्रष्टाचार, अनपेक्षित क्रियाएँ, या संसाधन-समाप्ति।

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

एक हमलावर SQS queue में संदेशों को प्राप्त कर सकता है, हटाकर सकता है, या उनकी दृश्यता को बदल सकता है, जिससे उन संदेशों पर निर्भर एप्लिकेशनों के लिए संदेशों का नुकसान, डेटा भ्रष्टाचार, या सेवा में व्यवधान हो सकता है।
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**संभावित प्रभाव**: संवेदनशील जानकारी की चोरी, संदेशों का नुकसान, डेटा भ्रष्टाचार, और प्रभावित संदेशों पर निर्भर करने वाले एप्लिकेशनों के लिए सेवा में व्यवधान।

### `sqs:DeleteQueue`

एक attacker पूरे SQS queue को हटा सकता है, जिससे संदेशों का नुकसान होगा और उन एप्लिकेशनों पर प्रभाव पड़ेगा जो इस queue पर निर्भर हैं।
```bash
aws sqs delete-queue --queue-url <value>
```
**संभावित प्रभाव**: हटाए गए queue का उपयोग करने वाले अनुप्रयोगों के लिए संदेशों का नुकसान और सेवा में व्यवधान।

### `sqs:PurgeQueue`

एक हमलावर SQS queue से सभी संदेशों को हटा सकता है, जिससे संदेशों का नुकसान और उन संदेशों पर निर्भर अनुप्रयोगों में संभावित व्यवधान हो सकता है।
```bash
aws sqs purge-queue --queue-url <value>
```
**संभावित प्रभाव**: हटाए गए संदेशों पर निर्भर एप्लिकेशनों के लिए संदेश हानि और सेवा में व्यवधान।

### `sqs:SetQueueAttributes`

एक हमलावर SQS queue की विशेषताओं को बदल सकता है, जिससे इसका प्रदर्शन, सुरक्षा, या उपलब्धता प्रभावित हो सकती है।
```bash
aws sqs set-queue-attributes --queue-url <value> --attributes <value>
```
**संभावित प्रभाव**: गलत कॉन्फ़िगरेशन जिसके कारण प्रदर्शन में गिरावट, सुरक्षा समस्याएँ, या उपलब्धता में कमी हो सकती है।

### `sqs:TagQueue` , `sqs:UntagQueue`

एक हमलावर SQS संसाधनों से टैग जोड़, संशोधित, या हटाकर आपके संगठन के लागत आवंटन, संसाधन ट्रैकिंग, और टैग्स के आधार पर लागू प्रवेश नियंत्रण नीतियों को बाधित कर सकता है।
```bash
aws sqs tag-queue --queue-url <value> --tags Key=<key>,Value=<value>
aws sqs untag-queue --queue-url <value> --tag-keys <key>
```
**संभावित प्रभाव**: लागत आवंटन, संसाधन ट्रैकिंग, और टैग-आधारित एक्सेस नियंत्रण नीतियों में व्यवधान।

### `sqs:RemovePermission`

एक हमलावर SQS queue से जुड़ी नीतियाँ हटाकर वैध उपयोगकर्ताओं या सेवाओं की अनुमतियाँ रद्द कर सकता है। यह उन अनुप्रयोगों के सामान्य कार्य में व्यवधान पैदा कर सकता है जो इस queue पर निर्भर करते हैं।
```bash
aws sqs remove-permission --queue-url <value> --label <value>
```
**Potential Impact**: अनधिकृत रूप से अनुमतियाँ हटाए जाने के कारण queue पर निर्भर अनुप्रयोगों के सामान्य कार्य में बाधा।

### More SQS Post-Exploitation Techniques

{{#ref}}
aws-sqs-dlq-redrive-exfiltration.md
{{#endref}}

{{#ref}}
aws-sqs-sns-injection.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
