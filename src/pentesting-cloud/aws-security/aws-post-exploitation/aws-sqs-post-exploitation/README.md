# AWS - SQS Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## SQS

Vir meer inligting, sien:

{{#ref}}
../../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:SendMessage` , `sqs:SendMessageBatch`

’n aanvaller kan kwaadwillige of ongewenste boodskappe na die SQS-ry stuur, wat moontlik datakorrupsie veroorsaak, onbedoelde optrede aktiveer, of hulpbronne uitput.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potensiële impak**: Uitbuiting van kwesbaarhede, datakorrupsie, onbedoelde aksies, of hulpbronuitputting.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

'n aanvaller kan boodskappe in 'n SQS-waglys ontvang, uitvee of die sigbaarheid daarvan wysig, wat kan lei tot boodskapverlies, datakorrupsie of diensonderbreking vir toepassings wat op daardie boodskappe staatmaak.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potensiële impak**: Steel sensitiewe inligting, boodskapverlies, datakorrupsie, en diensonderbreking vir toepassings wat op die geraakte boodskappe staatmaak.

### `sqs:DeleteQueue`

'n Aanvaller kan 'n hele SQS-waglys verwyder, wat boodskapverlies veroorsaak en toepassings wat op die waglys staatmaak benadeel.
```bash
aws sqs delete-queue --queue-url <value>
```
**Potensiële impak**: Boodskapverlies en diensonderbreking vir toepassings wat die verwyderde queue gebruik.

### `sqs:PurgeQueue`

'n aanvaller kan alle boodskappe uit 'n SQS queue verwyder, wat lei tot boodskapverlies en moontlike ontwrigting van toepassings wat op daardie boodskappe staatmaak.
```bash
aws sqs purge-queue --queue-url <value>
```
**Potensiële impak**: Boodskapverlies en diensonderbreking vir toepassings wat staatmaak op die verwyderde boodskappe.

### `sqs:SetQueueAttributes`

'n Aanvaller kan die eienskappe van 'n SQS-waglyn wysig, wat moontlik sy werkverrigting, sekuriteit of beskikbaarheid beïnvloed.
```bash
aws sqs set-queue-attributes --queue-url <value> --attributes <value>
```
**Potential Impact**: Miskonfigurasies wat lei tot verminderde prestasie, sekuriteitsprobleme of verminderde beskikbaarheid.

### `sqs:TagQueue` , `sqs:UntagQueue`

'n Aanvaller kan etikette by SQS-hulpbronne voeg, wysig of verwyder, wat jou organisasie se kostetoewysing, hulpbronopsporing en op etikette gebaseerde toegangbeheerbeleid kan ontwrig.
```bash
aws sqs tag-queue --queue-url <value> --tags Key=<key>,Value=<value>
aws sqs untag-queue --queue-url <value> --tag-keys <key>
```
**Potensiële impak**: Versteuring van koste-toewysing, hulpbronopsporing en etiketgebaseerde toegangsbeheerbeleide.

### `sqs:RemovePermission`

'n Aanvaller kan toestemmings vir wettige gebruikers of dienste intrek deur beleide wat met die SQS-queue geassosieer is te verwyder. Dit kan lei tot versteurings in die normale werking van toepassings wat op die SQS-queue staatmaak.
```bash
aws sqs remove-permission --queue-url <value> --label <value>
```
**Potensiële Impak**: Versteuring van normale werking van toepassings wat op die queue staatmaak as gevolg van ongemagtigde verwydering van toestemmings.

### Meer SQS Post-Exploitation Techniques

{{#ref}}
aws-sqs-dlq-redrive-exfiltration.md
{{#endref}}

{{#ref}}
aws-sqs-sns-injection.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
