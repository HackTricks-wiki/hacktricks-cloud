# AWS - SQS Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## SQS

Daha fazla bilgi için bakınız:

{{#ref}}
../../aws-services/aws-sqs-and-sns-enum.md
{{#endref}}

### `sqs:SendMessage` , `sqs:SendMessageBatch`

Bir saldırgan SQS kuyruğuna kötü amaçlı veya istenmeyen mesajlar gönderebilir; bu, potansiyel olarak veri bozulmasına, istenmeyen işlemlerin tetiklenmesine veya kaynakların tükenmesine neden olabilir.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potansiyel Etki**: Zafiyet istismarı, veri bozulması, istenmeyen eylemler veya kaynak tükenmesi.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`, `sqs:ChangeMessageVisibility`

Bir saldırgan SQS kuyruğundaki mesajları alabilir, silebilir veya görünürlüklerini değiştirebilir; bu durum bu mesajlara bağımlı uygulamalarda mesaj kaybına, veri bozulmasına veya hizmet aksamasına neden olabilir.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potansiyel Etki**: Hassas bilgilerin çalınması, mesaj kaybı, veri bozulması ve etkilenen mesajlara bağlı uygulamalar için hizmet kesintisi.

### `sqs:DeleteQueue`

Bir saldırgan tüm bir SQS kuyruğunu silebilir; bu, mesaj kaybına neden olur ve kuyruğa bağlı uygulamaları etkiler.
```bash
aws sqs delete-queue --queue-url <value>
```
**Olası Etki**: Silinen kuyruğu kullanan uygulamalar için mesaj kaybı ve hizmet aksaması.

### `sqs:PurgeQueue`

Bir saldırgan, bir SQS kuyruğundaki tüm mesajları silebilir; bu, mesaj kaybına ve bu mesajlara güvenen uygulamalarda potansiyel hizmet aksamasına yol açar.
```bash
aws sqs purge-queue --queue-url <value>
```
**Potansiyel Etki**: Temizlenen mesajlara bağlı uygulamalar için mesaj kaybı ve hizmet kesintisi.

### `sqs:SetQueueAttributes`

Bir saldırgan, bir SQS kuyruğunun özelliklerini değiştirebilir; bu da kuyruğun performansını, güvenliğini veya kullanılabilirliğini etkileyebilir.
```bash
aws sqs set-queue-attributes --queue-url <value> --attributes <value>
```
**Olası Etki**: Yanlış yapılandırmalar performans düşüşüne, güvenlik sorunlarına veya kullanılabilirliğin azalmasına yol açabilir.

### `sqs:TagQueue` , `sqs:UntagQueue`

Bir saldırgan SQS kaynaklarına etiket ekleyebilir, değiştirebilir veya kaldırabilir; bu da kuruluşunuzun maliyet dağılımını, kaynak takibini ve etiketlere dayalı erişim kontrol politikalarını bozabilir.
```bash
aws sqs tag-queue --queue-url <value> --tags Key=<key>,Value=<value>
aws sqs untag-queue --queue-url <value> --tag-keys <key>
```
**Olası Etki**: Maliyet dağılımı, kaynak takibi ve etiket tabanlı erişim kontrolü politikalarında aksama.

### `sqs:RemovePermission`

Bir saldırgan, SQS kuyruğuyla ilişkili politikaları kaldırarak meşru kullanıcıların veya servislerin izinlerini iptal edebilir. Bu, kuyruğa bağlı uygulamaların normal işleyişinde aksamalara yol açabilir.
```bash
aws sqs remove-permission --queue-url <value> --label <value>
```
**Potansiyel Etki**: İzinlerin yetkisiz kaldırılması nedeniyle kuyruğa bağlı uygulamaların normal işleyişinin bozulması.

### Daha fazla SQS Post-Exploitation Techniques

{{#ref}}
aws-sqs-dlq-redrive-exfiltration.md
{{#endref}}

{{#ref}}
aws-sqs-sns-injection.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
