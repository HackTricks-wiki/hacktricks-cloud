# AWS - CloudFront Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## CloudFront

Vir meer inligting, kyk:

{{#ref}}
../aws-services/aws-cloudfront-enum.md
{{#endref}}

### Man-in-the-Middle

Hierdie [**blogpos**](https://medium.com/@adan.alvarez/how-attackers-can-misuse-aws-cloudfront-access-to-make-it-rain-cookies-acf9ce87541c) stel 'n paar verskillende scenario's voor waar 'n **Lambda** bygevoeg (of gewysig indien dit reeds gebruik word) kan word in 'n **kommunikasie deur CloudFront** met die doel om **gebruikersinligting** (soos die sessie **cookie**) te **steel** en die **antwoord** te **wysig** (deur 'n kwaadwillige JS-skrip in te voeg).

#### scenario 1: MitM waar CloudFront geconfigureer is om toegang te verkry tot 'n HTML van 'n emmer

- **Skep** die kwaadwillige **funksie**.
- **Koppel** dit aan die CloudFront verspreiding.
- Stel die **gebeurtenistipe op "Viewer Response"**.

Deur die antwoord te benader, kan jy die gebruikers se cookie steel en 'n kwaadwillige JS in voeg.

#### scenario 2: MitM waar CloudFront reeds 'n lambda-funksie gebruik

- **Wysig die kode** van die lambda-funksie om sensitiewe inligting te steel

Jy kan die [**tf kode om hierdie scenario's hier te hercreÃ«er**](https://github.com/adanalvarez/AWS-Attack-Scenarios/tree/main) kyk.

{{#include ../../../banners/hacktricks-training.md}}
