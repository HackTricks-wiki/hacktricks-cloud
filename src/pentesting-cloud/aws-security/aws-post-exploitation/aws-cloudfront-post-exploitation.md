# AWS - CloudFront Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## CloudFront

Kwa maelezo zaidi angalia:

{{#ref}}
../aws-services/aws-cloudfront-enum.md
{{#endref}}

### Man-in-the-Middle

Hii [**blog post**](https://medium.com/@adan.alvarez/how-attackers-can-misuse-aws-cloudfront-access-to-make-it-rain-cookies-acf9ce87541c) inapendekeza hali kadhaa tofauti ambapo **Lambda** inaweza kuongezwa (au kubadilishwa ikiwa tayari inatumika) katika **mawasiliano kupitia CloudFront** kwa lengo la **kuiba** taarifa za mtumiaji (kama **cookie** ya kikao) na **kubadilisha** **jibu** (kuingiza script mbaya ya JS).

#### scenario 1: MitM ambapo CloudFront imewekwa kufikia HTML fulani ya bucket

- **Unda** **function** mbaya.
- **Unganisha** na usambazaji wa CloudFront.
- Weka **aina ya tukio kuwa "Viewer Response"**.

Kwa kufikia jibu unaweza kuiba cookie za watumiaji na kuingiza JS mbaya.

#### scenario 2: MitM ambapo CloudFront tayari inatumia kazi ya lambda

- **Badilisha msimbo** wa kazi ya lambda ili kuiba taarifa nyeti

Unaweza kuangalia [**msimbo wa tf ili kuunda hali hizi hapa**](https://github.com/adanalvarez/AWS-Attack-Scenarios/tree/main).

{{#include ../../../banners/hacktricks-training.md}}
