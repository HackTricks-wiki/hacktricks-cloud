# AWS Lambda – Прив'язування/відкат Runtime для зловживань через PutRuntimeManagementConfig

Зловживання `lambda:PutRuntimeManagementConfig` для прив'язки функції до конкретної версії runtime (Manual) або заморожування оновлень (FunctionUpdate). Це зберігає сумісність зі шкідливими layers/wrappers і може утримувати функцію на застарілій, вразливій версії runtime, що полегшує експлуатацію й довготривалу персистентність.

Вимоги: `lambda:InvokeFunction`, `logs:FilterLogEvents`, `lambda:PutRuntimeManagementConfig`, `lambda:GetRuntimeManagementConfig`.

Приклад (us-east-1):
- Виклик: `aws lambda invoke --function-name  /tmp/ping.json --payload {} --region us-east-1 > /dev/null; sleep 5`
- Заморозити оновлення: `aws lambda put-runtime-management-config --function-name  --update-runtime-on FunctionUpdate --region us-east-1`
- Перевірити: `aws lambda get-runtime-management-config --function-name  --region us-east-1`

За бажанням можна прив'язати до конкретної версії runtime, витягнувши Runtime Version ARN з логів INIT_START і використавши `--update-runtime-on Manual --runtime-version-arn <arn>`.
