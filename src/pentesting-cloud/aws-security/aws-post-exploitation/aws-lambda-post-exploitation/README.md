# AWS - Lambda Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## Lambda

Daha fazla bilgi için kontrol edin:

{{#ref}}
../../aws-services/aws-lambda-enum.md
{{#endref}}

### Lambda Kimlik Bilgilerini Sızdırma

Lambda, çalışma zamanında kimlik bilgilerini enjekte etmek için ortam değişkenlerini kullanır. Eğer onlara erişim sağlayabilirseniz (örneğin `/proc/self/environ` dosyasını okuyarak veya savunmasız fonksiyonu kullanarak), onları kendiniz kullanabilirsiniz. Bu değişkenler varsayılan isimlerde `AWS_SESSION_TOKEN`, `AWS_SECRET_ACCESS_KEY` ve `AWS_ACCESS_KEY_ID` olarak bulunur.

Varsayılan olarak, bunlar bir cloudwatch log grubuna yazma erişimine sahip olacaktır (grubun adı `AWS_LAMBDA_LOG_GROUP_NAME` içinde saklanır) ve ayrıca keyfi log grupları oluşturma yetkisine de sahiptir, ancak lambda fonksiyonları genellikle amaçlarına göre daha fazla izinle atanır.

### Diğerlerinin Lambda URL İsteklerini Çalma

Eğer bir saldırgan bir şekilde bir Lambda içinde RCE elde ederse, diğer kullanıcıların lambda'ya yaptığı HTTP isteklerini çalma yeteneğine sahip olacaktır. Eğer istekler hassas bilgiler (çerezler, kimlik bilgileri...) içeriyorsa, onları çalabilir.

{{#ref}}
aws-warm-lambda-persistence.md
{{#endref}}

### Diğerlerinin Lambda URL İsteklerini ve Uzantı İsteklerini Çalma

Lambda Katmanlarını kötüye kullanarak, uzantıları kötüye kullanmak ve lambda içinde kalıcı olmak mümkün olduğu gibi, istekleri çalmak ve değiştirmek de mümkündür.

{{#ref}}
../../aws-persistence/aws-lambda-persistence/aws-abusing-lambda-extensions.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
