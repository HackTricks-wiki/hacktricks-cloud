# AWS - Lambda Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## Lambda

Za više informacija proverite:

{{#ref}}
../../aws-services/aws-lambda-enum.md
{{#endref}}

### Ekstraktovanje Lambda kredencijala

Lambda koristi promenljive okruženja za injektovanje kredencijala u vreme izvođenja. Ako možete da dobijete pristup njima (čitanjem `/proc/self/environ` ili korišćenjem same ranjive funkcije), možete ih koristiti. One se nalaze u podrazumevanju imenima promenljivih `AWS_SESSION_TOKEN`, `AWS_SECRET_ACCESS_KEY`, i `AWS_ACCESS_KEY_ID`.

Podrazumevano, ove će imati pristup za pisanje u cloudwatch log grupu (čije ime se čuva u `AWS_LAMBDA_LOG_GROUP_NAME`), kao i za kreiranje proizvoljnih log grupa, međutim lambda funkcije često imaju više dozvola dodeljenih na osnovu njihove namene.

### Ukrasti HTTP zahteve drugih korisnika Lambda

Ako napadač nekako uspe da dobije RCE unutar Lambda, moći će da ukrade HTTP zahteve drugih korisnika ka lambdi. Ako zahtevi sadrže osetljive informacije (kolačiće, kredencijale...), moći će da ih ukrade.

{{#ref}}
aws-warm-lambda-persistence.md
{{#endref}}

### Ukrasti HTTP zahteve drugih korisnika Lambda i zahteve ekstenzija

Zloupotrebom Lambda Layers takođe je moguće zloupotrebiti ekstenzije i persistirati u lambdi, ali i ukrasti i modifikovati zahteve.

{{#ref}}
../../aws-persistence/aws-lambda-persistence/aws-abusing-lambda-extensions.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
