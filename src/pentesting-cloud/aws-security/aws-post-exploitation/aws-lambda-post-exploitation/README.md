# AWS - Lambda Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## Lambda

Для отримання додаткової інформації перегляньте:

{{#ref}}
../../aws-services/aws-lambda-enum.md
{{#endref}}

### Екстракція облікових даних Lambda

Lambda використовує змінні середовища для впровадження облікових даних під час виконання. Якщо ви зможете отримати до них доступ (зчитуючи `/proc/self/environ` або використовуючи вразливу функцію), ви зможете використовувати їх самостійно. Вони зберігаються в стандартних іменах змінних `AWS_SESSION_TOKEN`, `AWS_SECRET_ACCESS_KEY` та `AWS_ACCESS_KEY_ID`.

За замовчуванням, ці змінні матимуть доступ до запису в групу журналів cloudwatch (ім'я якої зберігається в `AWS_LAMBDA_LOG_GROUP_NAME`), а також до створення довільних груп журналів, однак функції lambda часто мають більше дозволів, призначених залежно від їх призначення.

### Викрадення запитів URL інших Lambda

Якщо зловмисник якимось чином зможе отримати RCE всередині Lambda, він зможе викрасти HTTP запити інших користувачів до lambda. Якщо запити містять чутливу інформацію (куки, облікові дані...), він зможе їх викрасти.

{{#ref}}
aws-warm-lambda-persistence.md
{{#endref}}

### Викрадення запитів URL інших Lambda та запитів розширень

Зловживаючи Lambda Layers, також можливо зловживати розширеннями та зберігатися в lambda, а також викрадати та модифікувати запити.

{{#ref}}
../../aws-persistence/aws-lambda-persistence/aws-abusing-lambda-extensions.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
