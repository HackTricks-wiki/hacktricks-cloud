# AWS - Lambda Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## Lambda

Aby uzyskać więcej informacji, sprawdź:

{{#ref}}
../../aws-services/aws-lambda-enum.md
{{#endref}}

### Ekstrahowanie poświadczeń Lambda

Lambda używa zmiennych środowiskowych do wstrzykiwania poświadczeń w czasie wykonywania. Jeśli możesz uzyskać do nich dostęp (czytając `/proc/self/environ` lub używając samej podatnej funkcji), możesz je wykorzystać. Znajdują się w domyślnych nazwach zmiennych `AWS_SESSION_TOKEN`, `AWS_SECRET_ACCESS_KEY` i `AWS_ACCESS_KEY_ID`.

Domyślnie będą miały dostęp do zapisu w grupie logów cloudwatch (nazwa, która jest przechowywana w `AWS_LAMBDA_LOG_GROUP_NAME`), a także do tworzenia dowolnych grup logów, jednak funkcje lambda często mają przypisane więcej uprawnień w zależności od ich zamierzonego użycia.

### Kradzież żądań URL innych Lambda

Jeśli atakujący w jakiś sposób uzyska RCE wewnątrz Lambda, będzie mógł ukraść inne żądania HTTP użytkowników do lambda. Jeśli żądania zawierają wrażliwe informacje (ciasteczka, poświadczenia...), będzie mógł je ukraść.

{{#ref}}
aws-warm-lambda-persistence.md
{{#endref}}

### Kradzież żądań URL innych Lambda i żądań rozszerzeń

Wykorzystując Lambda Layers, możliwe jest również nadużywanie rozszerzeń i utrzymywanie się w lambda, ale także kradzież i modyfikowanie żądań.

{{#ref}}
../../aws-persistence/aws-lambda-persistence/aws-abusing-lambda-extensions.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
