# AWS - CloudFront Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## CloudFront

Vir meer inligting, kyk:

{{#ref}}
../../aws-services/aws-cloudfront-enum.md
{{#endref}}

### Man-in-the-Middle

This [**blog post**](https://medium.com/@adan.alvarez/how-attackers-can-misuse-aws-cloudfront-access-to-make-it-rain-cookies-acf9ce87541c) stel 'n paar verskillende scenario's voor waar 'n **Lambda** bygevoeg kan word (of gewysig as dit reeds gebruik word) in 'n **kommunikasie deur CloudFront** met die doel om gebruikersinligting te **steel** (soos die session **cookie**) en die **response** te **wysig** (deur 'n kwaadwillige JS-skrip in te spuit).

#### scenario 1: MitM waar CloudFront gekonfigureer is om HTML van 'n bucket te benader

- **Skep** die kwaadwillige **function**.
- **Koppel** dit aan die CloudFront distribution.
- Stel die **event type op "Viewer Response"**.

Deur toegang tot die **response** te kry, kan jy die gebruiker se **cookie** steel en 'n kwaadwillige JS inspuit.

#### scenario 2: MitM waar CloudFront reeds 'n lambda function gebruik

- **Wysig die kode** van die lambda function om sensitiewe inligting te steel

Jy kan die [**tf code om hierdie scenario's hier te herproduseer**](https://github.com/adanalvarez/AWS-Attack-Scenarios/tree/main) nagaan.

{{#include ../../../../banners/hacktricks-training.md}}
