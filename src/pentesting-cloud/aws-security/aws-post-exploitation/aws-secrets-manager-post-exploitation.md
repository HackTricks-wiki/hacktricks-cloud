# AWS - Secrets Manager Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## Secrets Manager

자세한 정보는 다음을 확인하세요:

{{#ref}}
../aws-services/aws-secrets-manager-enum.md
{{#endref}}

### Read Secrets

**비밀 자체는 민감한 정보입니다**, [권한 상승 페이지를 확인하세요](../aws-privilege-escalation/aws-secrets-manager-privesc.md) 비밀을 읽는 방법을 배우기 위해.

### DoS Change Secret Value

비밀의 값을 변경하면 **해당 값에 의존하는 모든 시스템에 DoS를 발생시킬 수 있습니다.**

> [!WARNING]
> 이전 값도 저장되므로, 이전 값으로 쉽게 돌아갈 수 있습니다.
```bash
# Requires permission secretsmanager:PutSecretValue
aws secretsmanager put-secret-value \
--secret-id MyTestSecret \
--secret-string "{\"user\":\"diegor\",\"password\":\"EXAMPLE-PASSWORD\"}"
```
### DoS KMS 키 변경
```bash
aws secretsmanager update-secret \
--secret-id MyTestSecret \
--kms-key-id arn:aws:kms:us-west-2:123456789012:key/EXAMPLE1-90ab-cdef-fedc-ba987EXAMPLE
```
### DoS 비밀 삭제

비밀을 삭제하는 최소 일수는 7일입니다.
```bash
aws secretsmanager delete-secret \
--secret-id MyTestSecret \
--recovery-window-in-days 7
```
{{#include ../../../banners/hacktricks-training.md}}
