# AWS - SNS Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## SNS

Daha fazla bilgi için:

{{#ref}}
../../aws-services/aws-sns-enum.md
{{#endref}}

### Mesajları Engelleme

Bazı durumlarda, SNS topics, izlenen platformlara mesaj göndermek için kullanılır (e-postalar, slack mesajları...). Bir saldırgan, buluttaki varlığı hakkında uyarı veren mesajların gönderilmesini engellerse, tespit edilmeden kalabilir.

### `sns:DeleteTopic`

Bir saldırgan bir SNS topic'ini tamamen silebilir; bu, mesaj kaybına yol açar ve topic'e bağlı uygulamaları etkiler.
```bash
aws sns delete-topic --topic-arn <value>
```
**Olası Etki**: Silinmiş topic'i kullanan uygulamalar için mesaj kaybı ve hizmet kesintisi.

### `sns:Publish`

Bir saldırgan, SNS topic'e kötü niyetli veya istenmeyen mesajlar gönderebilir; bu, veri bozulmasına, istem dışı eylemlerin tetiklenmesine veya kaynakların tükenmesine yol açabilir.
```bash
aws sns publish --topic-arn <value> --message <value>
```
**Potansiyel Etki**: Veri bozulması, istenmeyen işlemler veya kaynak tükenmesi.

### `sns:SetTopicAttributes`

Bir saldırgan, bir SNS konusunun özelliklerini değiştirebilir; bu da potansiyel olarak performansını, güvenliğini veya kullanılabilirliğini etkileyebilir.
```bash
aws sns set-topic-attributes --topic-arn <value> --attribute-name <value> --attribute-value <value>
```
**Potential Impact**: Yanlış yapılandırmaların performans düşüşüne, güvenlik sorunlarına veya erişilebilirlik azalmasına yol açması.

### `sns:Subscribe` , `sns:Unsubscribe`

Bir saldırgan bir SNS topic'e abone olabilir veya aboneliği iptal edebilir; bu, mesajlara yetkisiz erişim sağlanmasına veya topic'e bağlı uygulamaların normal işleyişinin bozulmasına yol açabilir.
```bash
aws sns subscribe --topic-arn <value> --protocol <value> --endpoint <value>
aws sns unsubscribe --subscription-arn <value>
```
**Olası Etki**: Mesajlara yetkisiz erişim, etkilenen SNS konusuna bağlı uygulamalar için hizmet kesintisi.

### `sns:AddPermission` , `sns:RemovePermission`

Bir saldırgan, yetkisiz kullanıcılar veya servisler için bir SNS konusuna erişim verebilir veya meşru kullanıcıların izinlerini kaldırabilir; bu da konuya bağlı uygulamaların normal işleyişinde kesintilere neden olabilir.
```bash
aws sns add-permission --topic-arn <value> --label <value> --aws-account-id <value> --action-name <value>
aws sns remove-permission --topic-arn <value> --label <value>
```
**Potansiyel Etki**: topic'e yetkisiz erişim, mesajların ifşa olması veya yetkisiz kullanıcılar/servisler tarafından topic'in manipüle edilmesi; topic'e bağımlı uygulamaların normal işleyişinin bozulması.

### `sns:TagResource` , `sns:UntagResource`

Bir saldırgan SNS kaynaklarına etiket ekleyebilir, değiştirebilir veya kaldırabilir; bu durum kuruluşunuzun maliyet tahsisini, kaynak takibini ve etiketlere dayalı erişim kontrol politikalarını bozabilir.
```bash
aws sns tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws sns untag-resource --resource-arn <value> --tag-keys <key>
```
**Olası Etki**: Maliyet tahsisi, kaynak takibi ve etiket tabanlı erişim kontrol politikalarının bozulması.

### Daha fazla SNS Post-Exploitation Teknikleri

{{#ref}}
aws-sns-data-protection-bypass.md
{{#endref}}

{{#ref}}
aws-sns-fifo-replay-exfil.md
{{#endref}}

{{#ref}}
aws-sns-firehose-exfil.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
