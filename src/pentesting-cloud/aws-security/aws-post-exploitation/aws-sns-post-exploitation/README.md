# AWS - SNS Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## SNS

Kwa taarifa zaidi:

{{#ref}}
../../aws-services/aws-sns-enum.md
{{#endref}}

### Kuvuruga Ujumbe

Katika kesi nyingi, SNS topics hutumiwa kutuma ujumbe kwa majukwaa yanayosimamiwa (barua pepe, slack messages...). Ikiwa mshambuliaji atazuia kutumwa kwa ujumbe unaotoa tahadhari kuhusu uwepo wake kwenye wingu, anaweza kubaki bila kugunduliwa.

### `sns:DeleteTopic`

Mshambuliaji anaweza kufuta topic nzima ya SNS, kusababisha kupoteza ujumbe na kuathiri maombi yanayotegemea topic hiyo.
```bash
aws sns delete-topic --topic-arn <value>
```
**Athari Inayowezekana**: Kupoteza ujumbe na kuvurugika kwa huduma kwa programu zinazotumia topic iliyofutwa.

### `sns:Publish`

Mshambuliaji anaweza kutuma jumbe zenye madhara au zisizohitajika kwenye SNS topic, ambazo zinaweza kusababisha uharibifu wa data, kuanzisha vitendo visivyokusudiwa, au kuchosha rasilimali.
```bash
aws sns publish --topic-arn <value> --message <value>
```
**Athari Inayoweza Kutokea**: Uharibifu wa data, vitendo visivyokusudiwa, au matumizi kupita kiasi ya rasilimali.

### `sns:SetTopicAttributes`

Mshambuliaji anaweza kubadilisha sifa za SNS topic, jambo ambalo linaweza kuathiri utendaji wake, usalama, au upatikanaji wake.
```bash
aws sns set-topic-attributes --topic-arn <value> --attribute-name <value> --attribute-value <value>
```
**Athari Inayoweza Kutokea**: Mipangilio isiyofaa inaweza kusababisha utendaji uliopungua, matatizo ya usalama, au upatikanaji uliopunguzwa.

### `sns:Subscribe` , `sns:Unsubscribe`

Mshambuliaji anaweza kujiandikisha au kuondoa usajili kwenye mada ya SNS, kwa uwezekano kupata ufikiaji usioidhinishwa wa ujumbe au kuharibu utendaji wa kawaida wa programu zinazotegemea mada hiyo.
```bash
aws sns subscribe --topic-arn <value> --protocol <value> --endpoint <value>
aws sns unsubscribe --subscription-arn <value>
```
**Athari Inayoweza Kutokea**: Ufikiaji usioidhinishwa wa ujumbe, kuvurugika kwa huduma kwa programu zinazotegemea topic iliyohusika.

### `sns:AddPermission` , `sns:RemovePermission`

Mshambuliaji anaweza kuwapa watumiaji au huduma zisizoidhinishwa ufikiaji wa SNS topic, au kuondoa ruhusa kwa watumiaji halali, kusababisha kuvurugika kwa utendaji wa kawaida wa programu zinazotegemea topic hiyo.
```bash
aws sns add-permission --topic-arn <value> --label <value> --aws-account-id <value> --action-name <value>
aws sns remove-permission --topic-arn <value> --label <value>
```
**Athari Inayoweza Kutokea**: Ufikiaji usioidhinishwa wa topic, kufichuliwa kwa ujumbe, au uendeshaji/mabadiliko ya topic na watumiaji au huduma zisizoidhinishwa, na kuingiliwa kwa utendakazi wa kawaida kwa programu zinazotegemea topic.

### `sns:TagResource` , `sns:UntagResource`

Mshambuliaji anaweza kuongeza, kubadilisha, au kuondoa tags kutoka kwa rasilimali za SNS, na hivyo kuathiri ugawaji wa gharama wa shirika lako, ufuatiliaji wa rasilimali, na sera za udhibiti wa upatikanaji zinazoegemea tags.
```bash
aws sns tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws sns untag-resource --resource-arn <value> --tag-keys <key>
```
**Athari Inayoweza Kutokea**: Kusababisha kuvurugika kwa ugawaji wa gharama, ufuatiliaji wa rasilimali, na tag-based access control policies.

### Zaidi ya SNS Post-Exploitation Techniques

{{#ref}}
aws-sns-data-protection-bypass.md
{{#endref}}

{{#ref}}
aws-sns-fifo-replay-exfil.md
{{#endref}}

{{#ref}}
aws-sns-firehose-exfil.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
