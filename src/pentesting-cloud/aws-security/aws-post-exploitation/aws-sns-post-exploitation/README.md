# AWS - SNS Post Exploitation

{{#include ../../../../banners/hacktricks-training.md}}

## SNS

Vir meer inligting:

{{#ref}}
../../aws-services/aws-sns-enum.md
{{#endref}}

### Ontwrig boodskappe

In verskeie gevalle word SNS-onderwerpe gebruik om boodskappe na platforms te stuur wat gemonitor word (e-posse, Slack-boodskappe...). As 'n aanvaller verhinder dat die boodskappe wat oor sy teenwoordigheid in die cloud waarsku, gestuur word, kan hy ongemerk bly.

### `sns:DeleteTopic`

'n Aanvaller kan 'n hele SNS topic verwyder, wat tot boodskapverlies lei en toepassings wat op die topic staatmaak, benadeel.
```bash
aws sns delete-topic --topic-arn <value>
```
**Potensiële impak**: Boodskapverlies en diensonderbreking vir toepassings wat die verwyderde topic gebruik.

### `sns:Publish`

'n Aanvaller kan kwaadwillige of ongewenste boodskappe na die SNS topic stuur, wat moontlik datakorrupsie veroorsaak, onbedoelde aksies aktiveer, of hulpbronne uitput.
```bash
aws sns publish --topic-arn <value> --message <value>
```
**Potensiële impak**: Datakorrupsie, onbedoelde optrede, of uitputting van hulpbronne.

### `sns:SetTopicAttributes`

'n aanvaller kan die eienskappe van 'n SNS topic wysig, wat moontlik die prestasie, sekuriteit of beskikbaarheid daarvan beïnvloed.
```bash
aws sns set-topic-attributes --topic-arn <value> --attribute-name <value> --attribute-value <value>
```
**Potensiële impak**: Konfigurasiefoute wat kan lei tot verminderde prestasie, sekuriteitsprobleme of verminderde beskikbaarheid.

### `sns:Subscribe` , `sns:Unsubscribe`

'n aanvaller kan op 'n SNS topic inteken of intekening kanselleer, wat moontlik onbevoegde toegang tot boodskappe verleen of die normale werking van toepassings wat op die topic staatmaak ontwrig.
```bash
aws sns subscribe --topic-arn <value> --protocol <value> --endpoint <value>
aws sns unsubscribe --subscription-arn <value>
```
**Potensiële impak**: Ongeoorloofde toegang tot boodskappe, diensonderbreking vir toepassings wat op die betrokke onderwerp staatmaak.

### `sns:AddPermission` , `sns:RemovePermission`

'n Aanvaller kan ongeoorloofde gebruikers of dienste toegang tot 'n SNS-onderwerp verleen, of toestemmings vir legitieme gebruikers intrek, wat ontwrigting veroorsaak in die normale werking van toepassings wat op die onderwerp staatmaak.
```bash
aws sns add-permission --topic-arn <value> --label <value> --aws-account-id <value> --action-name <value>
aws sns remove-permission --topic-arn <value> --label <value>
```
**Potensiële impak**: Ongeoorloofde toegang tot die topic, blootstelling van boodskappe, of manipulering van die topic deur onbevoegde gebruikers of dienste, ontwrigting van die normale werking vir toepassings wat op die topic staatmaak.

### `sns:TagResource` , `sns:UntagResource`

'n aanvaller kan tags by SNS-hulpbronne voeg, wysig of verwyder, wat jou organisasie se koste-toewysing, hulpbronopsporing en toegangskontrolebeleide wat op tags gebaseer is, kan ontwrig.
```bash
aws sns tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws sns untag-resource --resource-arn <value> --tag-keys <key>
```
**Potensiële impak**: Versteuring van koste-toewysing, hulpbronopsporing en tag-gebaseerde toegangsbeheerbeleide.

### Meer SNS Post-Exploitation Techniques

{{#ref}}
aws-sns-data-protection-bypass.md
{{#endref}}

{{#ref}}
aws-sns-fifo-replay-exfil.md
{{#endref}}

{{#ref}}
aws-sns-firehose-exfil.md
{{#endref}}

{{#include ../../../../banners/hacktricks-training.md}}
