# DO - Droplets

{{#include ../../../banners/hacktricks-training.md}}

## Temel Bilgiler

DigitalOcean'da, "droplet", web siteleri ve uygulamaları barındırmak için kullanılabilen bir **sanaldır özel sunucu (VPS)**'dir. Bir droplet, DigitalOcean'ın bulut altyapısında hızlı ve kolay bir şekilde dağıtılabilen belirli bir miktar CPU, bellek ve depolama içeren **önceden yapılandırılmış bir hesaplama kaynakları paketidir**.

**Yaygın işletim sistemleri** veya **zaten çalışan uygulamalar** (örneğin WordPress, cPanel, Laravel...) arasından seçim yapabilir veya **kendi görüntülerinizi** yükleyip kullanabilirsiniz.

Droplet'ler **Kullanıcı veri betikleri**'ni destekler.

<details>

<summary>Snapshot ve yedekleme arasındaki fark</summary>

DigitalOcean'da, bir snapshot, bir Droplet'in diskine ait zaman noktası kopyasıdır. Snapshot alındığı anda Droplet'in diskindeki durumu, işletim sistemi, kurulu uygulamalar ve disk üzerindeki tüm dosyalar ve veriler dahil olmak üzere yakalar.

Snapshot'lar, orijinal Droplet ile aynı yapılandırmaya sahip yeni Droplet'ler oluşturmak veya bir Droplet'i snapshot alındığı zamandaki duruma geri yüklemek için kullanılabilir. Snapshot'lar, DigitalOcean'ın nesne depolama hizmetinde saklanır ve artımlıdır, yani yalnızca son snapshot'tan bu yana yapılan değişiklikler saklanır. Bu, kullanım açısından verimli ve depolama açısından maliyet etkin hale getirir.

Diğer yandan, bir yedekleme, bir Droplet'in işletim sistemi, kurulu uygulamalar, dosyalar ve veriler ile birlikte, ayrıca Droplet'in ayarları ve meta verilerini içeren tam bir kopyasıdır. Yedeklemeler genellikle düzenli bir program dahilinde gerçekleştirilir ve belirli bir zaman noktasında bir Droplet'in tüm durumunu yakalar.

Snapshot'ların aksine, yedeklemeler sıkıştırılmış ve şifrelenmiş bir formatta saklanır ve DigitalOcean'ın altyapısından uzak bir konuma güvenli bir şekilde aktarılır. Bu, yedeklemeleri felaket kurtarma için ideal hale getirir, çünkü veri kaybı veya diğer felaket olayları durumunda geri yüklenebilecek bir Droplet'in tam bir kopyasını sağlar.

Özetle, snapshot'lar bir Droplet'in diskine ait zaman noktası kopyalarıdır, yedeklemeler ise bir Droplet'in, ayarları ve meta verileri dahil olmak üzere tam kopyalarıdır. Snapshot'lar DigitalOcean'ın nesne depolama hizmetinde saklanırken, yedeklemeler DigitalOcean'ın altyapısından uzak bir konuma aktarılır. Hem snapshot'lar hem de yedeklemeler bir Droplet'i geri yüklemek için kullanılabilir, ancak snapshot'lar kullanımı ve depolamayı daha verimli hale getirirken, yedeklemeler felaket kurtarma için daha kapsamlı bir yedekleme çözümü sunar.

</details>

### Kimlik Doğrulama

Kimlik doğrulama için, kullanıcı adı ve **şifre** (droplet oluşturulduğunda tanımlanan şifre) aracılığıyla **SSH'yi etkinleştirmek** mümkündür. Veya **yüklenen SSH anahtarlarından bir veya daha fazlasını seçebilirsiniz**.

### Güvenlik Duvarı

> [!DİKKAT]
> Varsayılan olarak **droplet'ler GÜVENLİK DUVARI OLMADAN oluşturulur** (AWS veya GCP gibi diğer bulutlarda olduğu gibi değil). Bu nedenle, DO'nun droplet'in (VM) portlarını korumasını istiyorsanız, **oluşturmanız ve eklemeniz** gerekir.

Daha fazla bilgi için:

{{#ref}}
do-networking.md
{{#endref}}

### Sayım
```bash
# VMs
doctl compute droplet list # IPs will appear here
doctl compute droplet backups <droplet-id>
doctl compute droplet snapshots <droplet-id>
doctl compute droplet neighbors <droplet-id> # Get network neighbors
doctl compute droplet actions <droplet-id> # Get droplet actions

# VM interesting actions
doctl compute droplet-action password-reset <droplet-id> # New password is emailed to the user
doctl compute droplet-action enable-ipv6 <droplet-id>
doctl compute droplet-action power-on <droplet-id>
doctl compute droplet-action disable-backups <droplet-id>

# SSH
doctl compute ssh <droplet-id> # This will just run SSH
doctl compute ssh-key list
doctl compute ssh-key import <key-name> --public-key-file /path/to/key.pub

# Certificates
doctl compute certificate list

# Snapshots
doctl compute snapshot list
```
> [!CAUTION]
> **Droplets, metadata uç noktalarına** sahiptir, ancak DO'da **IAM** veya AWS'deki rol ya da GCP'deki hizmet hesapları gibi şeyler **yoktur**.

### RCE

Konsola erişim ile **droplet içinde bir shell almak** mümkündür, URL'ye erişerek: **`https://cloud.digitalocean.com/droplets/<droplet-id>/terminal/ui/`**

Ayrıca, **`https://cloud.digitalocean.com/droplets/<droplet-id>/console`** adresinde bir kurtarma konsolu başlatarak host içinde komutlar çalıştırmak da mümkündür (ancak bu durumda root şifresini bilmeniz gerekecektir).

{{#include ../../../banners/hacktricks-training.md}}
