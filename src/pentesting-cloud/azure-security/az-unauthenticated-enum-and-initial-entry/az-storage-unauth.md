# Az - Storage Unauth

{{#include ../../../banners/hacktricks-training.md}}

## Storage Unauth

Vir meer inligting oor stoor, kyk:

{{#ref}}
../az-services/az-storage.md
{{#endref}}

### Open Storage

Jy kan oop stoor ontdek met 'n hulpmiddel soos [**InvokeEnumerateAzureBlobs.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Invoke-EnumerateAzureBlobs.ps1) wat die lêer **`Microburst/Misc/permutations.txt`** sal gebruik om permutasies (baie eenvoudig) te genereer om te probeer **oop stoor rekeninge te vind**.
```bash
Import-Module .\MicroBurst\MicroBurst.psm1
Invoke-EnumerateAzureBlobs -Base corp
[...]
https://corpcommon.blob.core.windows.net/secrets?restype=container&comp=list
[...]

# Access https://corpcommon.blob.core.windows.net/secrets?restype=container&comp=list
# Check: <Name>ssh_info.json</Name>
# Access then https://corpcommon.blob.core.windows.net/secrets/ssh_info.json
```
Jy kan ook 'n metode van [**MicroBust**](https://github.com/NetSPI/MicroBurst) vir so 'n doel gebruik. Hierdie funksie sal die basiese domeinnaam (en 'n paar permutasies) in verskeie **azure domeine** (insluitend stoor domeine) soek:
```bash
Import-Module .\MicroBurst\MicroBurst.psm1 -Verbose
Invoke-EnumerateAzureSubDomains -Base corp -Verbose
```
### SAS URL's

'n _**gedeelde toegang handtekening**_ (SAS) URL is 'n URL wat **toegang bied** tot 'n sekere deel van 'n Stoor rekening (kan 'n volle houer wees, 'n lêer...) met spesifieke toestemmings (lees, skryf...) oor die hulpbronne. As jy een vind wat gelek het, kan jy in staat wees om sensitiewe inligting te bekom, hulle lyk soos volg (dit is om toegang tot 'n houer te verkry, as dit net toegang tot 'n lêer gegee het, sal die pad van die URL ook daardie lêer bevat):

`https://<storage_account_name>.blob.core.windows.net/newcontainer?sp=r&st=2021-09-26T18:15:21Z&se=2021-10-27T02:14:21Z&spr=https&sv=2021-07-08&sr=c&sig=7S%2BZySOgy4aA3Dk0V1cJyTSIf1cW%2Fu3WFkhHV32%2B4PE%3D`

Gebruik [**Storage Explorer**](https://azure.microsoft.com/en-us/features/storage-explorer/) om toegang tot die data te verkry


{{#include ../../../banners/hacktricks-training.md}}
