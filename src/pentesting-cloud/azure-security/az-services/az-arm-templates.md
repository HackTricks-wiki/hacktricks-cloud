# Az - ARM Templates / Deployments

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

[From the docs:](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/overview) **Azure 솔루션을 위한 코드로서의 인프라를 구현하기 위해**, Azure Resource Manager 템플릿(ARM 템플릿)을 사용합니다. 템플릿은 **프로젝트**의 **인프라**와 구성을 **정의하는** JavaScript Object Notation(**JSON**) 파일입니다. 템플릿은 선언적 구문을 사용하여, 생성하기 위한 프로그래밍 명령의 순서를 작성하지 않고도 배포할 내용을 명시할 수 있습니다. 템플릿에서 배포할 리소스와 해당 리소스의 속성을 지정합니다.

### History

접근할 수 있다면, **미래에 배포될 수 있는 리소스**에 대한 **정보**를 가질 수 있습니다. 또한, **민감한 정보**를 포함하는 **매개변수**가 "**SecureString**" 대신 "**String**"으로 표시된 경우, **명확한 텍스트**로 존재하게 됩니다.

## Search Sensitive Info

`Microsoft.Resources/deployments/read` 및 `Microsoft.Resources/subscriptions/resourceGroups/read` 권한이 있는 사용자는 **배포 기록을 읽을 수 있습니다**.
```powershell
Get-AzResourceGroup
Get-AzResourceGroupDeployment -ResourceGroupName <name>

# Export
Save-AzResourceGroupDeploymentTemplate -ResourceGroupName <RESOURCE GROUP> -DeploymentName <DEPLOYMENT NAME>
cat <DEPLOYMENT NAME>.json # search for hardcoded password
cat <PATH TO .json FILE> | Select-String password
```
## References

- [https://app.gitbook.com/s/5uvPQhxNCPYYTqpRwsuS/\~/changes/argKsv1NUBY9l4Pd28TU/pentesting-cloud/azure-security/az-services/az-arm-templates#references](az-arm-templates.md#references)

{{#include ../../../banners/hacktricks-training.md}}
