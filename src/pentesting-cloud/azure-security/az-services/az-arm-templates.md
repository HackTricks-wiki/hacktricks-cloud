# Az - ARM Templates / Deployments

{{#include ../../../banners/hacktricks-training.md}}

## Informations de base

[Selon la documentation :](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/overview) Pour mettre en œuvre **l'infrastructure en tant que code pour vos solutions Azure**, utilisez les modèles Azure Resource Manager (modèles ARM). Le modèle est un fichier JavaScript Object Notation (**JSON**) qui **définit** l'**infrastructure** et la configuration de votre projet. Le modèle utilise une syntaxe déclarative, ce qui vous permet d'indiquer ce que vous souhaitez déployer sans avoir à écrire la séquence de commandes de programmation pour le créer. Dans le modèle, vous spécifiez les ressources à déployer et les propriétés de ces ressources.

### Historique

Si vous pouvez y accéder, vous pouvez avoir **des informations sur les ressources** qui ne sont pas présentes mais qui pourraient être déployées à l'avenir. De plus, si un **paramètre** contenant des **informations sensibles** a été marqué comme "**String**" **au lieu de** "**SecureString**", il sera présent en **texte clair**.

## Recherche d'informations sensibles

Les utilisateurs ayant les autorisations `Microsoft.Resources/deployments/read` et `Microsoft.Resources/subscriptions/resourceGroups/read` peuvent **lire l'historique des déploiements**.
```powershell
Get-AzResourceGroup
Get-AzResourceGroupDeployment -ResourceGroupName <name>

# Export
Save-AzResourceGroupDeploymentTemplate -ResourceGroupName <RESOURCE GROUP> -DeploymentName <DEPLOYMENT NAME>
cat <DEPLOYMENT NAME>.json # search for hardcoded password
cat <PATH TO .json FILE> | Select-String password
```
## Références

- [https://app.gitbook.com/s/5uvPQhxNCPYYTqpRwsuS/\~/changes/argKsv1NUBY9l4Pd28TU/pentesting-cloud/azure-security/az-services/az-arm-templates#references](az-arm-templates.md#references)

{{#include ../../../banners/hacktricks-training.md}}
