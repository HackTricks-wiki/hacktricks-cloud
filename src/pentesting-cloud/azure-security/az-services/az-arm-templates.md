# Az - ARM Templates / Deployments

{{#include ../../../banners/hacktricks-training.md}}

## Основна інформація

[З документації:](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/overview) Щоб реалізувати **інфраструктуру як код для ваших рішень Azure**, використовуйте шаблони Azure Resource Manager (ARM шаблони). Шаблон - це файл JavaScript Object Notation (**JSON**), який **визначає** **інфраструктуру** та конфігурацію для вашого проєкту. Шаблон використовує декларативний синтаксис, що дозволяє вам вказати, що ви маєте намір розгорнути, не пишучи послідовність команд програмування для його створення. У шаблоні ви вказуєте ресурси для розгортання та властивості для цих ресурсів.

### Історія

Якщо ви можете отримати доступ, ви можете мати **інформацію про ресурси**, які не присутні, але можуть бути розгорнуті в майбутньому. Більше того, якщо **параметр**, що містить **чутливу інформацію**, був позначений як "**String**" **замість** "**SecureString**", він буде присутній у **відкритому тексті**.

## Пошук чутливої інформації

Користувачі з правами `Microsoft.Resources/deployments/read` та `Microsoft.Resources/subscriptions/resourceGroups/read` можуть **читати історію розгортання**.
```powershell
Get-AzResourceGroup
Get-AzResourceGroupDeployment -ResourceGroupName <name>

# Export
Save-AzResourceGroupDeploymentTemplate -ResourceGroupName <RESOURCE GROUP> -DeploymentName <DEPLOYMENT NAME>
cat <DEPLOYMENT NAME>.json # search for hardcoded password
cat <PATH TO .json FILE> | Select-String password
```
## Посилання

- [https://app.gitbook.com/s/5uvPQhxNCPYYTqpRwsuS/\~/changes/argKsv1NUBY9l4Pd28TU/pentesting-cloud/azure-security/az-services/az-arm-templates#references](az-arm-templates.md#references)

{{#include ../../../banners/hacktricks-training.md}}
