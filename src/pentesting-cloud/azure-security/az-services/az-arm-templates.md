# Az - Szablony ARM / Wdrożenia

{{#include ../../../banners/hacktricks-training.md}}

## Podstawowe informacje

[Z dokumentacji:](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/overview) Aby wdrożyć **infrastrukturę jako kod dla swoich rozwiązań Azure**, użyj szablonów Azure Resource Manager (szablony ARM). Szablon to plik JavaScript Object Notation (**JSON**), który **definiuje** **infrastrukturę** i konfigurację dla Twojego projektu. Szablon używa składni deklaratywnej, co pozwala Ci określić, co zamierzasz wdrożyć, bez konieczności pisania sekwencji poleceń programistycznych do jego utworzenia. W szablonie określasz zasoby do wdrożenia oraz właściwości tych zasobów.

### Historia

Jeśli masz do niego dostęp, możesz uzyskać **informacje o zasobach**, które nie są obecne, ale mogą być wdrożone w przyszłości. Ponadto, jeśli **parametr** zawierający **wrażliwe informacje** został oznaczony jako "**String**" **zamiast** "**SecureString**", będzie obecny w **czystym tekście**.

## Wyszukiwanie wrażliwych informacji

Użytkownicy z uprawnieniami `Microsoft.Resources/deployments/read` i `Microsoft.Resources/subscriptions/resourceGroups/read` mogą **czytać historię wdrożeń**.
```powershell
Get-AzResourceGroup
Get-AzResourceGroupDeployment -ResourceGroupName <name>

# Export
Save-AzResourceGroupDeploymentTemplate -ResourceGroupName <RESOURCE GROUP> -DeploymentName <DEPLOYMENT NAME>
cat <DEPLOYMENT NAME>.json # search for hardcoded password
cat <PATH TO .json FILE> | Select-String password
```
## Odniesienia

- [https://app.gitbook.com/s/5uvPQhxNCPYYTqpRwsuS/\~/changes/argKsv1NUBY9l4Pd28TU/pentesting-cloud/azure-security/az-services/az-arm-templates#references](az-arm-templates.md#references)

{{#include ../../../banners/hacktricks-training.md}}
