# Az - Container Instances

{{#include ../../../../banners/hacktricks-training.md}}

## Temel Bilgiler

Azure Container Instances (ACI), Azure bulutunda **kapsayıcıları** çalıştırmak için **sunucusuz, talep üzerine bir yol** sunar. **Tekil veya bir grup içinde birden fazla kapsayıcıyı** **dağıtabilirsiniz** ve **ölçeklenebilir hesaplama**, **ağ seçenekleri** ve **diğer Azure hizmetleri** (Depolama, Sanal Ağlar veya Kapsayıcı Kayıtları gibi) ile bağlantı kurma esnekliğine sahip olursunuz.

**Geçici** iş yükleri oldukları için, temel VM altyapısını yönetmenize gerek yoktur — Azure bunu sizin için halleder. Ancak, **saldırgan güvenlik perspektifi** açısından, **izinler**, **kimlikler**, **ağ yapılandırmaları** ve **loglar** gibi unsurların saldırı yüzeylerini ve potansiyel yanlış yapılandırmaları nasıl ortaya çıkarabileceğini anlamak kritik öneme sahiptir.

### Yapılandırmalar

- Bir kapsayıcı oluşturmak için bir genel görüntü, bir Azure Container Registry'den bir kapsayıcı görüntüsü veya bir dış havuz kullanmak mümkündür; bu, erişim için **şifre yapılandırması** gerektirebilir.
- Ağ ile ilgili olarak, **genel IP** veya **özel uç noktalar** olabilir.
- Ayrıca, aşağıdaki gibi yaygın docker ayarlarını yapılandırmak da mümkündür:
- **Ortam değişkenleri**
- **Hacimler** (Azure Files'dan bile)
- **Portlar**
- **CPU ve bellek sınırları**
- **Yeniden başlatma politikası**
- **Yetkili olarak çalıştır**
- **Çalıştırılacak komut satırı**
- ...

## Sayım

> [!WARNING]
> ACI'yi sayarken, **ortam değişkenleri**, **ağ detayları** veya **yönetilen kimlikler** gibi hassas yapılandırmaları ortaya çıkarabilirsiniz. Bunları kaydetme veya görüntüleme konusunda dikkatli olun.
```bash
# List all container instances in the subscription
az container list

# Show detailed information about a specific container instance
az container show --name <container-name> --resource-group <res-group>

# Fetch logs from a container
az container logs --name <container-name> --resource-group <res-group>

# Execute a command in a running container and get the output
az container exec --name <container-name> --resource-group <res-group> --exec-command "ls"

# Get yaml configuration of the container group
az container export  --name <container-name> --resource-group <res-group>
```

