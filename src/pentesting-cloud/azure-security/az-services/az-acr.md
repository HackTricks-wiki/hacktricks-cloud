# Az - ACR

{{#include ../../../banners/hacktricks-training.md}}

## Основна інформація

Azure Container Registry (ACR) - це керована служба, що надається Microsoft Azure для **зберігання та управління зображеннями контейнерів Docker та іншими артефактами**. Вона пропонує такі функції, як інтегровані інструменти для розробників, геореплікація, заходи безпеки, такі як контроль доступу на основі ролей та сканування зображень, автоматизовані збірки, вебхуки та тригери, а також ізоляція мережі. Вона працює з популярними інструментами, такими як Docker CLI та Kubernetes, і добре інтегрується з іншими службами Azure.

### Перерахування

Щоб перерахувати службу, ви можете використовувати скрипт [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1):
```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```
{{#tabs }}
{{#tab name="az cli" }}
```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```
{{#endtab }}

{{#tab name="Az Powershell" }}
```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```
{{#endtab }}
{{#endtabs }}

Увійти та витягнути з реєстру
```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```
{{#include ../../../banners/hacktricks-training.md}}
