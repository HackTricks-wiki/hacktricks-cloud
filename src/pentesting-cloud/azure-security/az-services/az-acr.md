# Az - ACR

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

Το Azure Container Registry (ACR) είναι μια διαχειριζόμενη υπηρεσία που παρέχεται από το Microsoft Azure για **την αποθήκευση και διαχείριση εικόνων κοντέινερ Docker και άλλων αντικειμένων**. Προσφέρει δυνατότητες όπως ενσωματωμένα εργαλεία προγραμματιστών, γεωγραφική αναπαραγωγή, μέτρα ασφαλείας όπως έλεγχος πρόσβασης βάσει ρόλων και σάρωση εικόνων, αυτοματοποιημένες κατασκευές, webhooks και triggers, και απομόνωση δικτύου. Λειτουργεί με δημοφιλή εργαλεία όπως το Docker CLI και το Kubernetes, και ενσωματώνεται καλά με άλλες υπηρεσίες Azure.

### Enumerate

Για να καταγράψετε την υπηρεσία μπορείτε να χρησιμοποιήσετε το σενάριο [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1):
```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```
{{#tabs }}
{{#tab name="az cli" }}
```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```
{{#endtab }}

{{#tab name="Az Powershell" }}
```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```
{{#endtab }}
{{#endtabs }}

Σύνδεση & Λήψη από το μητρώο
```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```
{{#include ../../../banners/hacktricks-training.md}}
