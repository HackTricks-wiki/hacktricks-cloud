# Az - ACR

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

Azure Container Registry (ACR)는 **Docker 컨테이너 이미지 및 기타 아티팩트를 저장하고 관리하기 위해 Microsoft Azure에서 제공하는 관리형 서비스**입니다. 통합 개발 도구, 지리적 복제, 역할 기반 액세스 제어 및 이미지 스캔과 같은 보안 조치, 자동 빌드, 웹훅 및 트리거, 네트워크 격리와 같은 기능을 제공합니다. Docker CLI 및 Kubernetes와 같은 인기 있는 도구와 함께 작동하며, 다른 Azure 서비스와 잘 통합됩니다.

### Enumerate

서비스를 열거하려면 [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1) 스크립트를 사용할 수 있습니다:
```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```
{{#tabs }}
{{#tab name="az cli" }}
```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```
{{#endtab }}

{{#tab name="Az Powershell" }}
```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```
{{#endtab }}
{{#endtabs }}

레지스트리에서 로그인 및 풀하기
```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```
{{#include ../../../banners/hacktricks-training.md}}
