# Az - Logic Apps

{{#include ../../../banners/hacktricks-training.md}}

## Basic Information

Azure Logic Apps ÎµÎ¯Î½Î±Î¹ Î¼Î¹Î± Ï…Ï€Î·ÏÎµÏƒÎ¯Î± cloud Ï€Î¿Ï… Ï€Î±ÏÎ­Ï‡ÎµÏ„Î±Î¹ Î±Ï€ÏŒ Ï„Î¿ Microsoft Azure ÎºÎ±Î¹ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ ÏƒÏ„Î¿Ï…Ï‚ Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÏ„Î­Ï‚ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½ ÎºÎ±Î¹ Î½Î± ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½ ÏÎ¿Î­Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Ï€Î¿Ï… ÎµÎ½ÏƒÏ‰Î¼Î±Ï„ÏÎ½Î¿Ï…Î½ Î´Î¹Î¬Ï†Î¿ÏÎµÏ‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚**, Ï€Î·Î³Î­Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÎºÎ±Î¹ ÎµÏ†Î±ÏÎ¼Î¿Î³Î­Ï‚. Î‘Ï…Ï„Î­Ï‚ Î¿Î¹ ÏÎ¿Î­Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î­Ï‡Î¿Ï…Î½ ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÏ„ÎµÎ¯ Î³Î¹Î± Î½Î± **Î±Ï…Ï„Î¿Î¼Î±Ï„Î¿Ï€Î¿Î¹Î¿ÏÎ½ ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î±Ï„Î¹ÎºÎ­Ï‚ Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯ÎµÏ‚**, Î½Î± Î¿ÏÎ³Î±Î½ÏÎ½Î¿Ï…Î½ ÎµÏÎ³Î±ÏƒÎ¯ÎµÏ‚ ÎºÎ±Î¹ Î½Î± ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½ ÎµÎ½ÏƒÏ‰Î¼Î±Ï„ÏÏƒÎµÎ¹Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÏƒÎµ Î´Î¹Î¬Ï†Î¿ÏÎµÏ‚ Ï€Î»Î±Ï„Ï†ÏŒÏÎ¼ÎµÏ‚.

Logic Apps Ï€Î±ÏÎ­Ï‡ÎµÎ¹ Î­Î½Î±Î½ Î¿Ï€Ï„Î¹ÎºÏŒ ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÏ„Î® Î³Î¹Î± Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÏÎ¿ÏÎ½ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î¼Îµ Î¼Î¹Î± **ÎµÏ…ÏÎµÎ¯Î± Î³ÎºÎ¬Î¼Î± Ï€ÏÎ¿-ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î±ÏƒÎ¼Î­Î½Ï‰Î½ ÏƒÏ…Î½Î´Î­ÏƒÎ¼Ï‰Î½**, Ï€Î¿Ï… Î´Î¹ÎµÏ…ÎºÎ¿Î»ÏÎ½ÎµÎ¹ Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ· ÎºÎ±Î¹ Ï„Î·Î½ Î±Î»Î»Î·Î»ÎµÏ€Î¯Î´ÏÎ±ÏƒÎ· Î¼Îµ Î´Î¹Î¬Ï†Î¿ÏÎµÏ‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚, ÏŒÏ€Ï‰Ï‚ Ï„Î¿ Office 365, Ï„Î¿ Dynamics CRM, Ï„Î¿ Salesforce ÎºÎ±Î¹ Ï€Î¿Î»Î»Î­Ï‚ Î¬Î»Î»ÎµÏ‚. ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÎ¼Î­Î½Î¿Ï…Ï‚ ÏƒÏ…Î½Î´Î­ÏƒÎ¼Î¿Ï…Ï‚ Î³Î¹Î± Ï„Î¹Ï‚ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½ÎµÏ‚ Î±Î½Î¬Î³ÎºÎµÏ‚ ÏƒÎ±Ï‚.

### Examples

- **Automating Data Pipelines**: Logic Apps Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Ï…Ï„Î¿Î¼Î±Ï„Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹ **Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯ÎµÏ‚ Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬Ï‚ ÎºÎ±Î¹ Î¼ÎµÏ„Î±ÏƒÏ‡Î·Î¼Î±Ï„Î¹ÏƒÎ¼Î¿Ï Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½** ÏƒÎµ ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼ÏŒ Î¼Îµ Ï„Î¿ Azure Data Factory. Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Ï‡ÏÎ®ÏƒÎ¹Î¼Î¿ Î³Î¹Î± Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎºÎ»Î¹Î¼Î±ÎºÎ¿ÏÎ¼ÎµÎ½Ï‰Î½ ÎºÎ±Î¹ Î±Î¾Î¹ÏŒÏ€Î¹ÏƒÏ„Ï‰Î½ ÏÎ¿ÏÎ½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï€Î¿Ï… Î¼ÎµÏ„Î±Ï†Î­ÏÎ¿Ï…Î½ ÎºÎ±Î¹ Î¼ÎµÏ„Î±ÏƒÏ‡Î·Î¼Î±Ï„Î¯Î¶Î¿Ï…Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î¼ÎµÏ„Î±Î¾Ï Î´Î¹Î±Ï†ÏŒÏÏ‰Î½ Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„Î¹ÎºÏÎ½ Ï‡ÏÏÏ‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½, ÏŒÏ€Ï‰Ï‚ Ï„Î¿ Azure SQL Database ÎºÎ±Î¹ Ï„Î¿ Azure Blob Storage, Î²Î¿Î·Î¸ÏÎ½Ï„Î±Ï‚ ÏƒÎµ Î±Î½Î±Î»ÏÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î±Ï„Î¹ÎºÎ® ÎµÏ…Ï†Ï…ÎÎ±.
- **Integrating with Azure Functions**: Logic Apps Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹ Ï€Î±ÏÎ¬Î»Î»Î·Î»Î± Î¼Îµ Ï„Î¿ Azure Functions Î³Î¹Î± Ï„Î·Î½ Î±Î½Î¬Ï€Ï„Ï…Î¾Î· **Ï€Î¿Î»ÏÏ€Î»Î¿ÎºÏ‰Î½, ÎµÎºÎ´Î·Î»Ï‰Ï„Î¹ÎºÏÎ½ ÎµÏ†Î±ÏÎ¼Î¿Î³ÏÎ½ Ï€Î¿Ï… ÎºÎ»Î¹Î¼Î±ÎºÏÎ½Î¿Î½Ï„Î±Î¹ ÎºÎ±Ï„Î¬ Î±Î½Î¬Î³ÎºÎ·** ÎºÎ±Î¹ ÎµÎ½ÏƒÏ‰Î¼Î±Ï„ÏÎ½Î¿Î½Ï„Î±Î¹ Î±Ï€ÏÏŒÏƒÎºÎ¿Ï€Ï„Î± Î¼Îµ Î¬Î»Î»ÎµÏ‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ Azure. ÎˆÎ½Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Ï‡ÏÎ®ÏƒÎ·Ï‚ ÎµÎ¯Î½Î±Î¹ Î· Ï‡ÏÎ®ÏƒÎ· Î¼Î¹Î±Ï‚ Logic App Î³Î¹Î± Ï„Î·Î½ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¼Î¹Î±Ï‚ Azure Function Ï‰Ï‚ Î±Ï€Î¬Î½Ï„Î·ÏƒÎ· ÏƒÎµ Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î± Î³ÎµÎ³Î¿Î½ÏŒÏ„Î±, ÏŒÏ€Ï‰Ï‚ Î¿Î¹ Î±Î»Î»Î±Î³Î­Ï‚ ÏƒÎµ Î­Î½Î±Î½ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒ Azure Storage, ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Ï‚ Ï„Î· Î´Ï…Î½Î±Î¼Î¹ÎºÎ® ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½.

### Visualize a LogicAPP

Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„Î® Î· Ï€ÏÎ¿Î²Î¿Î»Î® Î¼Î¹Î±Ï‚ LogicApp Î¼Îµ Î³ÏÎ±Ï†Î¹ÎºÎ¬:

<figure><img src="../../../images/image (197).png" alt=""><figcaption></figcaption></figure>

Î® Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± ÏƒÏ„Î·Î½ ÎµÎ½ÏŒÏ„Î·Ï„Î± "**Logic app code view**".

### SSRF Protection

Î‘ÎºÏŒÎ¼Î± ÎºÎ±Î¹ Î±Î½ Î²ÏÎµÎ¯Ï„Îµ Ï„Î·Î½ **Logic App ÎµÏ…Î¬Î»Ï‰Ï„Î· ÏƒÎµ SSRF**, Î´ÎµÎ½ Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î± Î´Î¹Î±Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î®ÏÎ¹Î± Î±Ï€ÏŒ Ï„Î± Î¼ÎµÏ„Î±Î´ÎµÎ´Î¿Î¼Î­Î½Î± ÎºÎ±Î¸ÏÏ‚ Î¿Î¹ Logic Apps Î´ÎµÎ½ Ï„Î¿ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Ï…Î½.

Î“Î¹Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±, ÎºÎ¬Ï„Î¹ Ï„Î­Ï„Î¿Î¹Î¿ Î´ÎµÎ½ Î¸Î± ÎµÏ€Î¹ÏƒÏ„ÏÎ­ÏˆÎµÎ¹ Ï„Î¿ token:
```bash
# The URL belongs to a Logic App vulenrable to SSRF
curl -XPOST 'https://prod-44.westus.logic.azure.com:443/workflows/2d8de4be6e974123adf0b98159966644/triggers/manual/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=_8_oqqsCXc0u2c7hNjtSZmT0uM4Xi3hktw6Uze0O34s' -d '{"url": "http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=https://management.azure.com/"}' -H "Content-type: application/json" -v
```
### Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ Ï†Î¹Î»Î¿Î¾ÎµÎ½Î¯Î±Ï‚

Î¥Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±ÏÎºÎµÏ„Î­Ï‚ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Ï†Î¹Î»Î¿Î¾ÎµÎ½Î¯Î±Ï‚:

* **ÎšÎ±Ï„Î±Î½Î¬Î»Ï‰ÏƒÎ·**
- **Î Î¿Î»Ï…-ÎµÎ½Î¿Î¹ÎºÎ¹Î±ÏƒÏ„Î®Ï‚**: Ï€Î±ÏÎ­Ï‡ÎµÎ¹ ÎºÎ¿Î¹Î½ÏŒÏ‡ÏÎ·ÏƒÏ„Î¿Ï…Ï‚ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ¿ÏÏ‚ Ï€ÏŒÏÎ¿Ï…Ï‚, Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ ÏƒÏ„Î¿ Î´Î·Î¼ÏŒÏƒÎ¹Î¿ ÏƒÏÎ½Î½ÎµÏ†Î¿ ÎºÎ±Î¹ Î±ÎºÎ¿Î»Î¿Ï…Î¸ÎµÎ¯ Î­Î½Î± Î¼Î¿Î½Ï„Î­Î»Î¿ Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚ Î±Î½Î¬ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±. Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Î¹Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± ÎµÎ»Î±Ï†ÏÎ¹Î¬ ÎºÎ±Î¹ Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ¬ Ï†Î¿ÏÏ„Î¯Î± ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚.
* **ÎšÎ±Î½Î¿Î½Î¹ÎºÏŒ**
- **Î£Ï‡Î­Î´Î¹Î¿ Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚ Î¡Î¿Î®Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚**: Î±Ï†Î¹ÎµÏÏ‰Î¼Î­Î½Î¿Î¹ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ¿Î¯ Ï€ÏŒÏÎ¿Î¹ Î¼Îµ ÎµÎ½ÏƒÏ‰Î¼Î¬Ï„Ï‰ÏƒÎ· VNET Î³Î¹Î± Î´Î¹ÎºÏ„ÏÏ‰ÏƒÎ· ÎºÎ±Î¹ Ï‡ÏÎµÏÏƒÎµÎ¹Ï‚ Î±Î½Î¬ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· ÏƒÏ‡ÎµÎ´Î¯Î¿Ï… Ï…Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚ ÏÎ¿Î®Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚. Î•Î¯Î½Î±Î¹ ÎºÎ±Ï„Î¬Î»Î»Î·Î»Î¿ Î³Î¹Î± Ï€Î¹Î¿ Î±Ï€Î±Î¹Ï„Î·Ï„Î¹ÎºÎ¬ Ï†Î¿ÏÏ„Î¯Î± ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Ï€Î¿Ï… Î±Ï€Î±Î¹Ï„Î¿ÏÎ½ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ Î­Î»ÎµÎ³Ï‡Î¿.
- **Î ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½ Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚ Î•Ï†Î±ÏÎ¼Î¿Î³ÏÎ½ V3** Î±Ï†Î¹ÎµÏÏ‰Î¼Î­Î½Î¿Î¹ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ¿Î¯ Ï€ÏŒÏÎ¿Î¹ Î¼Îµ Ï€Î»Î®ÏÎ· Î±Ï€Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ· ÎºÎ±Î¹ ÎºÎ»Î¹Î¼Î¬ÎºÏ‰ÏƒÎ·. Î•Ï€Î¯ÏƒÎ·Ï‚, ÎµÎ½ÏƒÏ‰Î¼Î±Ï„ÏÎ½ÎµÏ„Î±Î¹ Î¼Îµ VNET Î³Î¹Î± Î´Î¹ÎºÏ„ÏÏ‰ÏƒÎ· ÎºÎ±Î¹ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Î­Î½Î± Î¼Î¿Î½Ï„Î­Î»Î¿ Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚ Î²Î±ÏƒÎ¹ÏƒÎ¼Î­Î½Î¿ ÏƒÎµ Ï€ÎµÏÎ¹Ï€Ï„ÏÏƒÎµÎ¹Ï‚ Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚ Î•Ï†Î±ÏÎ¼Î¿Î³ÏÎ½ ÎµÎ½Ï„ÏŒÏ‚ Ï„Î¿Ï… Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚. Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Î¹Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± ÎµÏ†Î±ÏÎ¼Î¿Î³Î­Ï‚ ÎµÏ€Î¹Ï€Î­Î´Î¿Ï… ÎµÏ€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·Ï‚ Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹ Ï…ÏˆÎ·Î»Î® Î±Ï€Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ·.
- **Î¥Î²ÏÎ¹Î´Î¹ÎºÏŒ** ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÎ¼Î­Î½Î¿ Î³Î¹Î± Ï„Î¿Ï€Î¹ÎºÎ® ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± ÎºÎ±Î¹ Ï…Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· Ï€Î¿Î»Î»ÏÎ½ ÏƒÏÎ½Î½ÎµÏ†Ï‰Î½. Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î· Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÏÎ½ Ï€ÏŒÏÏ‰Î½ Î±Ï€ÏŒ Ï„Î¿Î½ Ï€ÎµÎ»Î¬Ï„Î· Î¼Îµ Ï„Î¿Ï€Î¹ÎºÎ® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¿ Î´Î¯ÎºÏ„Ï…Î¿ ÎºÎ±Î¹ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Ï„Î¿ Kubernetes Event-Driven Autoscaling (KEDA).

### Î‘ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÎ®

{% tabs %}
{% tab title="az cli" %}
{% code overflow="wrap" %}
```bash
# List
az logic workflow list --resource-group <ResourceGroupName>
# Get info
az logic workflow show --name <LogicAppName> --resource-group <ResourceGroupName>

# Get details of a specific Logic App workflow, including its connections and parameters
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}?api-version=2016-10-01&$expand=connections.json,parameters.json" \
--headers "Content-Type=application/json"

# Get details about triggers for a specific Logic App
az rest --method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{logicAppName}/triggers?api-version=2016-06-01"

# Get the callback URL for a specific trigger in a Logic App
az rest --method POST \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{logicAppName}/triggers/{triggerName}/listCallbackUrl?api-version=2016-06-01"

# Get the history of a specific trigger in a Logic App
az rest --method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{logicAppName}/triggers/{triggerName}/histories?api-version=2016-06-01"

# List all runs of a specific Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/runs?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# Get all actions within a specific run of a Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/runs/{runName}/actions?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# List all versions of a specific Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/versions?api-version=2016-06-01" \
--headers "Content-Type=application/json"

# Get details of a specific version of a Logic App workflow
az rest \
--method GET \
--uri "https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Logic/workflows/{workflowName}/versions/{versionName}?api-version=2016-06-01" \
--headers "Content-Type=application/json"

az rest \
--method GET \
--uri "https://examplelogicapp1994.scm.azurewebsites.net/api/functions/admin/download?includeCsproj=true&includeAppSettings=true" \
--headers "Content-Type=application/json"

# List all Logic Apps in the specified resource group
az logicapp list --resource-group <ResourceGroupName>

# Show detailed information about a specific Logic App
az logicapp show --name <LogicAppName> --resource-group <ResourceGroupName>

# List all application settings for a specific Logic App
az logicapp config appsettings list --name <LogicAppName> --resource-group <ResourceGroupName>
```
{% endcode %}
{% endtab %}

{% tab title="Az PowerShell" %}
{% code overflow="wrap" %}
```bash
Get-Command -Module Az.LogicApp

# List
Get-AzLogicApp -ResourceGroupName <ResourceGroupName>
# Get info
Get-AzLogicApp -ResourceGroupName <ResourceGroupName> -Name <LogicAppName>

# Get details of a specific Logic App workflow run action
Get-AzLogicAppRunAction -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>" -RunName "<RunName>"

# Get the run history for a specific Logic App
Get-AzLogicAppRunHistory -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>"

# Get details about triggers for a specific Logic App
Get-AzLogicAppTrigger -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>"

# Get the callback URL for a specific trigger in a Logic App
Get-AzLogicAppTriggerCallbackUrl -ResourceGroupName "<ResourceGroupName>" -LName "<LogicAppName>" -TriggerName "<TriggerName>"

# Get the history of a specific trigger in a Logic App
Get-AzLogicAppTriggerHistory -ResourceGroupName "<ResourceGroupName>" -Name "<LogicAppName>" -TriggerName "<TriggerName>"

```
{% endcode %}
{% endtab %}
{% endtabs %}



### Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ Î•Î½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚
**Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ Î•Î½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚**, ÎµÎ¯Î½Î±Î¹ Î¼Î¹Î± Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± Ï„Ï‰Î½ Azure Logic Apps. ÎŸÎ¹ Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ Î•Î½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ Î³Î¹Î± Î½Î± Î´Î¹ÎµÏ…ÎºÎ¿Î»ÏÎ½Î¿Ï…Î½ Ï„Î¹Ï‚ ÎµÎ½Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ ÏƒÎµ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ ÎµÏ€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·Ï‚, ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Ï‚ Ï€ÏÎ¿Î·Î³Î¼Î­Î½ÎµÏ‚ Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„ÎµÏ‚ B2B, ÏŒÏ€Ï‰Ï‚ EDI, AS2 ÎºÎ±Î¹ Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· XML schema. ÎŸÎ¹ Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ Î•Î½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ ÎµÎ¯Î½Î±Î¹ Î­Î½Î± Î´Î¿Ï‡ÎµÎ¯Î¿ ÏƒÏ„Î¿ Azure Ï€Î¿Ï… Î±Ï€Î¿Î¸Î·ÎºÎµÏÎµÎ¹ Ï„Î± Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Î±Î½Ï„Î¹ÎºÎµÎ¯Î¼ÎµÎ½Î± Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ Î³Î¹Î± Ï„Î± Logic Apps:

* Î£Ï‡Î®Î¼Î±Ï„Î±: Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· XML ÏƒÏ‡Î·Î¼Î¬Ï„Ï‰Î½ Î³Î¹Î± Ï„Î·Î½ ÎµÏ€Î¹ÎºÏÏÏ‰ÏƒÎ· ÎºÎ±Î¹ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î¼Î·Î½Ï…Î¼Î¬Ï„Ï‰Î½ ÏƒÏ„Î¿Î½ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒ ÎµÎ½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ ÏƒÎ±Ï‚.
* Î§Î¬ÏÏ„ÎµÏ‚: Î¡ÏÎ¸Î¼Î¹ÏƒÎ· Î¼ÎµÏ„Î±ÏƒÏ‡Î·Î¼Î±Ï„Î¹ÏƒÎ¼ÏÎ½ Î²Î±ÏƒÎ¹ÏƒÎ¼Î­Î½Ï‰Î½ ÏƒÎµ XSLT Î³Î¹Î± Ï„Î· Î¼ÎµÏ„Î±Ï„ÏÎ¿Ï€Î® Î¼Î¿ÏÏ†ÏÎ½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î¼Î­ÏƒÎ± ÏƒÏ„Î¹Ï‚ ÏÎ¿Î­Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ ÎµÎ½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ ÏƒÎ±Ï‚.
* Î£Ï…Î³ÎºÏÎ¿Ï„Î®Î¼Î±Ï„Î±: Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÏƒÏ…Î³ÎºÏÎ¿Ï„Î·Î¼Î¬Ï„Ï‰Î½ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Ï ÎµÎ½Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ Î³Î¹Î± Ï„Î·Î½ Î±Ï€Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î·Ï‚ Î»Î¿Î³Î¹ÎºÎ®Ï‚ ÎºÎ±Î¹ Ï„Î·Ï‚ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½.
* Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Ï„Î¹ÎºÎ¬: Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Ï„Î¹ÎºÏÎ½ Î³Î¹Î± Ï„Î·Î½ ÎºÏÏ…Ï€Ï„Î¿Î³ÏÎ¬Ï†Î·ÏƒÎ· ÎºÎ±Î¹ Ï„Î·Î½ Ï…Ï€Î¿Î³ÏÎ±Ï†Î® Î¼Î·Î½Ï…Î¼Î¬Ï„Ï‰Î½, ÎµÎ¾Î±ÏƒÏ†Î±Î»Î¯Î¶Î¿Î½Ï„Î±Ï‚ Î±ÏƒÏ†Î±Î»Î® ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±.
* Î•Ï„Î±Î¯ÏÎ¿Î¹: Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½ ÎµÎ¼Ï€Î¿ÏÎ¹ÎºÏÎ½ ÎµÏ„Î±Î¯ÏÏ‰Î½ Î³Î¹Î± B2B ÏƒÏ…Î½Î±Î»Î»Î±Î³Î­Ï‚, ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Ï‚ Î±Ï€ÏÏŒÏƒÎºÎ¿Ï€Ï„ÎµÏ‚ ÎµÎ½Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚.
* Î£Ï…Î¼Ï†Ï‰Î½Î¯ÎµÏ‚: Î¡ÏÎ¸Î¼Î¹ÏƒÎ· ÎºÎ±Î½ÏŒÎ½Ï‰Î½ ÎºÎ±Î¹ ÏÏ…Î¸Î¼Î¯ÏƒÎµÏ‰Î½ Î³Î¹Î± Ï„Î·Î½ Î±Î½Ï„Î±Î»Î»Î±Î³Î® Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î¼Îµ ÎµÎ¼Ï€Î¿ÏÎ¹ÎºÎ¿ÏÏ‚ ÎµÏ„Î±Î¯ÏÎ¿Ï…Ï‚ (Ï€.Ï‡., EDI, AS2).
* Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î Î±ÏÏ„Î¯Î´Î±Ï‚: Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÏÏ…Î¸Î¼Î¯ÏƒÎµÏ‰Î½ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Ï€Î±ÏÏ„Î¯Î´Ï‰Î½ Î³Î¹Î± Ï„Î·Î½ Î¿Î¼Î±Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÎºÎ±Î¹ Ï„Î·Î½ Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î±Ï„Î¹ÎºÎ® ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î¼Î·Î½Ï…Î¼Î¬Ï„Ï‰Î½.
* RosettaNet PIP: Î¡ÏÎ¸Î¼Î¹ÏƒÎ· Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¹ÏÎ½ Î´Î¹ÎµÏ€Î±Ï†Î®Ï‚ ÎµÏ„Î±Î¯ÏÏ‰Î½ RosettaNet (PIPs) Î³Î¹Î± Ï„Î¿Î½ ÎµÎºÏƒÏ…Î³Ï‡ÏÎ¿Î½Î¹ÏƒÎ¼ÏŒ Ï„Î·Ï‚ B2B ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±Ï‚.

#### Î‘ÏÎ¯Î¸Î¼Î·ÏƒÎ·

{% tabs %}
{% tab title="az cli" %}
{% code overflow="wrap" %}
```bash
# Integration account
az logic integration-account list --resource-group <resource-group-name>
az logic integration-account show --resource-group <resource-group-name> --name <integration-account-name>
az logic integration-account list-callback-url --resource-group <resource-group-name> --integration-account-name <integration-account-name>

# Batch-configuration
az logic integration-account batch-configuration list \
--resource-group <resource-group-name> \
--integration-account-name <integration-account-name>

az logic integration-account batch-configuration show \
--resource-group <resource-group-name> \
--integration-account-name <integration-account-name> \
--batch-configuration-name <batch-configuration-name>

# Map
az logic integration-account map list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account map show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--map-name <map-name>

# Partner
az logic integration-account partner list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account partner show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--name <partner-name>

# Session
az logic integration-account session list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account session show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--name <session-name>

# Assembly
# Session
az logic integration-account assembly list \
--resource-group <resource-group-name> \
--integration-account <integration-account-name>

az logic integration-account assembly show \
--resource-group <resource-group-name> \
--integration-account <integration-account-name> \
--assembly-artifact-name <assembly-name>


```
{% endcode %}
{% endtab %}

{% tab title="Az PowerShell" %}
{% code overflow="wrap" %}
```powershell
Get-Command -Module Az.LogicApp

# Retrieve details of an integration account
Get-AzIntegrationAccount -ResourceGroupName <resource-group-name> -Name <integration-account-name>

# Retrieve the callback URL of an integration account
Get-AzIntegrationAccountCallbackUrl -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name>

# Retrieve details of a specific agreement in an integration account
Get-AzIntegrationAccountAgreement -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <agreement-name>

# Retrieve details of a specific assembly in an integration account
Get-AzIntegrationAccountAssembly -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <assembly-name>

# Retrieve details of a specific batch configuration in an integration account
Get-AzIntegrationAccountBatchConfiguration -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <batch-configuration-name>

# Retrieve details of a specific certificate in an integration account
Get-AzIntegrationAccountCertificate -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <certificate-name>

# Retrieve details of a specific map in an integration account
Get-AzIntegrationAccountMap -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <map-name>

# Retrieve details of a specific partner in an integration account
Get-AzIntegrationAccountPartner -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <partner-name>

# Retrieve details of a specific schema in an integration account
Get-AzIntegrationAccountSchema -ResourceGroupName <resource-group-name> -IntegrationAccountName <integration-account-name> -Name <schema-name>
```
{% endcode %}
{% endtab %}
{% endtabs %}


## Î‘Î½ÏÏˆÏ‰ÏƒÎ· Î ÏÎ¿Î½Î¿Î¼Î¯Ï‰Î½

ÎŠÎ´Î¹Î¿ Î¼Îµ Ï„Î·Î½ Î±Î½ÏÏˆÏ‰ÏƒÎ· Ï€ÏÎ¿Î½Î¿Î¼Î¯Ï‰Î½ Ï„Ï‰Î½ Î»Î¿Î³Î¹ÎºÏÎ½ ÎµÏ†Î±ÏÎ¼Î¿Î³ÏÎ½:

{% content-ref url="../az-privilege-escalation/az-logic-apps-privesc.md" %}
[az-logic-apps-privesc.md](../az-privilege-escalation/az-logic-apps-privesc.md)
{% endcontent-ref %}

## ÎœÎµÏ„Î¬ Ï„Î·Î½ Î•ÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ·

{% content-ref url="../az-post-exploitation/az-logic-apps-post-exploitation.md" %}
[az-logic-apps-post-exploitation.md](../az-post-exploitation/az-logic-apps-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î·Î½ [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ ÎºÏŒÎ»Ï€Î± hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
