# Az - Cloud Shell

{% hint style="success" %}
U캜ite i ve쬭ajte AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
U캜ite i ve쬭ajte GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podr쬴te HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Azure Cloud Shell

**Azure Cloud Shell** je interaktivni, autentifikovani, terminal dostupan preko pregleda캜a, dizajniran za upravljanje Azure resursima, nude캖i fleksibilnost rada sa Bash-om ili PowerShell-om. Radi na privremenom, po sesiji hostu koji se isklju캜uje nakon 20 minuta neaktivnosti, dok 캜uva datoteke na $HOME lokaciji koriste캖i 5-GB deljenje datoteka. Cloud Shell se mo쬰 pristupiti kroz vi코e ta캜aka, uklju캜uju캖i Azure portal, shell.azure.com, Azure CLI i PowerShell dokumentaciju, Azure mobilnu aplikaciju i Visual Studio Code Azure Account ekstenziju.

Nema dozvola dodeljenih ovoj usluzi, stoga nema tehnika eskalacije privilegija. Tako캠e, ne postoji nikakva vrsta enumeracije.

### Klju캜ne karakteristike

**Okru쬰nje**: Azure Cloud Shell pru쬬 sigurno okru쬰nje pokretanjem na Azure Linux-u, Microsoft-ovoj vlastitoj Linux distribuciji dizajniranoj za cloud infrastrukturu. Svi paketi uklju캜eni u Azure Linux repozitorij su interno kompajlirani od strane Microsoft-a kako bi se za코titili od napada na lanac snabdevanja.  
**Preinstalirani alati**: Cloud Shell uklju캜uje sveobuhvatan set preinstaliranih alata kao 코to su Azure CLI, Azure PowerShell, Terraform, Docker CLI, Ansible, Git i tekstualni editori poput vim, nano i emacs. Ovi alati su spremni za kori코캖enje. Da biste naveli instalirane pakete i module, mo쬰te koristiti "Get-Module -ListAvailable", "tdnf list" i "pip3 list".  
**$HOME postojanost**: Kada prvi put pokrenete Azure Cloud Shell, mo쬰te ga koristiti sa ili bez povezanog naloga za skladi코tenje. Odabirom da ne pove쬰te skladi코te stvara se ephemerna sesija gde se datoteke bri코u kada sesija zavr코i. Da biste sa캜uvali datoteke izme캠u sesija, montirajte nalog za skladi코tenje, koji se automatski povezuje kao **$HOME\clouddrive**, sa va코im **$HOME** direktorijumom sa캜uvanim kao **.img** datoteka u Azure File Share. Me캠utim, datoteke van $HOME i stanja ma코ine se ne 캜uvaju. Za sigurno 캜uvanje tajni poput SSH klju캜eva, koristite Azure Key Vault.  
**Azure disk (Azure:)**: PowerShell u Azure Cloud Shell uklju캜uje Azure disk (Azure:), koji omogu캖ava lako navigiranje Azure resursima poput Ra캜unanja, Mre쬰 i Skladi코ta koriste캖i komande sli캜ne datote캜nom sistemu. Prebacite se na Azure disk sa cd Azure: i vratite se u svoj po캜etni direktorijum sa cd ~. I dalje mo쬰te koristiti Azure PowerShell cmdlets za upravljanje resursima sa bilo kog diska.  
**Instalacija prilago캠enih alata**: Korisnici koji konfiguri코u Cloud Shell sa nalogom za skladi코tenje mogu instalirati dodatne alate koji ne zahtevaju root dozvole. Ova funkcija omogu캖ava dalju prilagodbu okru쬰nja Cloud Shell, omogu캖avaju캖i korisnicima da prilagode svoj setup svojim specifi캜nim potrebama.

## Reference

* [https://learn.microsoft.com/en-us/azure/cloud-shell/overview](https://learn.microsoft.com/en-us/azure/cloud-shell/overview)
* [https://learn.microsoft.com/en-us/azure/cloud-shell/features](https://learn.microsoft.com/en-us/azure/cloud-shell/features)
* [https://learn.microsoft.com/en-us/azure/cloud-shell/using-the-shell-window](https://learn.microsoft.com/en-us/azure/cloud-shell/using-the-shell-window)


## Postojanost

{% content-ref url="../az-privilege-escalation/az-cloud-shell-persistence.md" %}
[az-cloud-shell-persistence.md](../az-privilege-escalation/az-cloud-shell-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
U캜ite i ve쬭ajte AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
U캜ite i ve쬭ajte GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podr쬴te HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
