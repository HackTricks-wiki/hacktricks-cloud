# Az - Cloud Shell

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supportez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez-nous sur** **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}

## Azure Cloud Shell

**Azure Cloud Shell** est un terminal interactif, authentifi√© et accessible via un navigateur, con√ßu pour g√©rer les ressources Azure, offrant la flexibilit√© de travailler avec Bash ou PowerShell. Il fonctionne sur un h√¥te temporaire, par session, qui expire apr√®s 20 minutes d'inactivit√©, tout en conservant les fichiers dans l'emplacement $HOME √† l'aide d'un partage de fichiers de 5 Go. Cloud Shell peut √™tre accessible par plusieurs points, y compris le portail Azure, shell.azure.com, la documentation Azure CLI et PowerShell, l'application mobile Azure, et l'extension Azure Account de Visual Studio Code.

Il n'y a pas de permissions assign√©es √† ce service, donc il n'y a pas de techniques d'escalade de privil√®ges. De plus, il n'y a pas de type d'√©num√©ration.

### Caract√©ristiques cl√©s

**Environnement** : Azure Cloud Shell fournit un environnement s√©curis√© en fonctionnant sur Azure Linux, la distribution Linux propre √† Microsoft con√ßue pour l'infrastructure cloud. Tous les paquets inclus dans le d√©p√¥t Azure Linux sont compil√©s en interne par Microsoft pour se prot√©ger contre les attaques de la cha√Æne d'approvisionnement.  
**Outils pr√©install√©s** : Cloud Shell comprend un ensemble complet d'outils pr√©install√©s tels qu'Azure CLI, Azure PowerShell, Terraform, Docker CLI, Ansible, Git, et des √©diteurs de texte comme vim, nano, et emacs. Ces outils sont pr√™ts √† l'emploi. Pour lister les paquets et modules install√©s, vous pouvez utiliser "Get-Module -ListAvailable", "tdnf list" et "pip3 list".  
**Persistance $HOME** : Lors du premier d√©marrage d'Azure Cloud Shell, vous pouvez l'utiliser avec ou sans un compte de stockage attach√©. Choisir de ne pas attacher de stockage cr√©e une session √©ph√©m√®re o√π les fichiers sont supprim√©s √† la fin de la session. Pour persister des fichiers entre les sessions, montez un compte de stockage, qui s'attache automatiquement comme **$HOME\clouddrive**, avec votre r√©pertoire **$HOME** sauvegard√© sous forme de fichier **.img** dans Azure File Share. Cependant, les fichiers en dehors de $HOME et les √©tats de machine ne sont pas persist√©s. Pour stocker en toute s√©curit√© des secrets comme des cl√©s SSH, utilisez Azure Key Vault.  
**Lecteur Azure (Azure:)** : PowerShell dans Azure Cloud Shell inclut le lecteur Azure (Azure :), qui permet une navigation facile des ressources Azure comme Compute, Network, et Storage en utilisant des commandes similaires √† celles du syst√®me de fichiers. Passez au lecteur Azure avec cd Azure: et revenez √† votre r√©pertoire personnel avec cd ~. Vous pouvez toujours utiliser les cmdlets Azure PowerShell pour g√©rer les ressources depuis n'importe quel lecteur.  
**Installation d'outils personnalis√©s** : Les utilisateurs qui configurent Cloud Shell avec un compte de stockage peuvent installer des outils suppl√©mentaires qui ne n√©cessitent pas de permissions root. Cette fonctionnalit√© permet une personnalisation suppl√©mentaire de l'environnement Cloud Shell, permettant aux utilisateurs d'adapter leur configuration √† leurs besoins sp√©cifiques.

## R√©f√©rences

* [https://learn.microsoft.com/en-us/azure/cloud-shell/overview](https://learn.microsoft.com/en-us/azure/cloud-shell/overview)
* [https://learn.microsoft.com/en-us/azure/cloud-shell/features](https://learn.microsoft.com/en-us/azure/cloud-shell/features)
* [https://learn.microsoft.com/en-us/azure/cloud-shell/using-the-shell-window](https://learn.microsoft.com/en-us/azure/cloud-shell/using-the-shell-window)


## Persistance

{% content-ref url="../az-privilege-escalation/az-cloud-shell-persistence.md" %}
[az-cloud-shell-persistence.md](../az-privilege-escalation/az-cloud-shell-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supportez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez-nous sur** **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
