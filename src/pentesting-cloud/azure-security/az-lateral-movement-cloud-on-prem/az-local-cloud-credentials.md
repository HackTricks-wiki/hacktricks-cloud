# Az - Yerel Bulut Kimlik Bilgileri

{{#include ../../../banners/hacktricks-training.md}}

## Yerel Token Depolama ve Güvenlik Değerlendirmeleri

### Azure CLI (Komut Satırı Arayüzü)

Tokenlar ve hassas veriler Azure CLI tarafından yerel olarak depolanır, bu da güvenlik endişelerini artırır:

1. **Erişim Tokenları**: `C:\Users\<username>\.Azure` konumundaki `accessTokens.json` içinde düz metin olarak saklanır.
2. **Abonelik Bilgileri**: Aynı dizinde bulunan `azureProfile.json`, abonelik detaylarını içerir.
3. **Log Dosyaları**: `.azure` içindeki `ErrorRecords` klasörü, maruz kalmış kimlik bilgileri içeren loglar barındırabilir, örneğin:
- Kimlik bilgileri gömülü olarak yürütülen komutlar.
- Tokenlar kullanılarak erişilen URL'ler, hassas bilgileri açığa çıkarabilir.

### Azure PowerShell

Azure PowerShell de tokenlar ve hassas verileri yerel olarak depolar:

1. **Erişim Tokenları**: `C:\Users\<username>\.Azure` konumundaki `TokenCache.dat`, erişim tokenlarını düz metin olarak saklar.
2. **Hizmet Prensibi Gizli Anahtarları**: Bunlar `AzureRmContext.json` içinde şifrelenmemiş olarak saklanır.
3. **Token Kaydetme Özelliği**: Kullanıcılar, yetkisiz erişimi önlemek için dikkatli bir şekilde kullanılmalıdır.

## Onları Bulmak için Otomatik Araçlar

- [**Winpeas**](https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS/winPEASexe)
- [**Get-AzurePasswords.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/AzureRM/Get-AzurePasswords.ps1)

## Güvenlik Önerileri

Hassas verilerin düz metin olarak depolanmasını göz önünde bulundurarak, bu dosyaları ve dizinleri güvence altına almak için:

- Bu dosyalara erişim haklarını sınırlamak.
- Yetkisiz erişim veya beklenmedik değişiklikler için bu dizinleri düzenli olarak izlemek ve denetlemek.
- Mümkünse hassas dosyalar için şifreleme kullanmak.
- Kullanıcıları bu tür hassas bilgilerin işlenmesiyle ilgili riskler ve en iyi uygulamalar hakkında eğitmek.

{{#include ../../../banners/hacktricks-training.md}}
