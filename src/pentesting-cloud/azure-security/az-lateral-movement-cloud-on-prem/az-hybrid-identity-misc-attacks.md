# Hibrit Kimlik Çeşitli Saldırılar

{{#include ../../../../banners/hacktricks-training.md}}


## Entra ID kullanıcılarının yerel sunucuya senkronizasyonunu zorlamak

[https://www.youtube.com/watch?v=JEIR5oGCwdg](https://www.youtube.com/watch?v=JEIR5oGCwdg) adresinde belirtildiği gibi, yerel AD'deki bir AD kullanıcısının **`ProxyAddress`** değerini değiştirmek mümkün oldu; bu, bir Entra ID admin kullanıcısının e-posta adresini ekleyerek ve AD'deki kullanıcının UPN'sinin Entra ID'deki kullanıcıyla eşleşmesini sağlayarak gerçekleştirildi (bu tekrar Entra ID'dir), örneğin **`SMTP:admin@domain.onmicrosoft.com`**. Bu, bu kullanıcının Entra ID'den yerel AD'ye **senkronizasyonunu zorlayacaktır**, bu nedenle kullanıcının şifresi biliniyorsa, bu şifre Entra ID'deki admin kullanıcısına **erişim sağlamak için** kullanılabilir.

Entra ID'den yerel AD'ye yeni bir kullanıcı senkronize etmek için gereken tek gereksinimler şunlardır:

- Yerel AD'deki bir kullanıcının niteliklerini kontrol etmek (veya yeni kullanıcılar oluşturma izinlerine sahip olmak)
- Entra ID'den yerel AD'ye senkronize etmek için yalnızca bulut kullanıcısını bilmek
- Ayrıca, Entra ID kullanıcısının immutableID niteliğini yerel AD kullanıcısına değiştirebilmek için **sert eşleşme** yapmak gerekebilir.


> [!CAUTION]
> Entra ID artık Entra ID'den yerel AD'ye admin senkronizasyonuna izin vermiyor.
> Ayrıca, bu **MFA'yı atlamayacaktır**.



## Referanslar

- [https://www.youtube.com/watch?v=JEIR5oGCwdg](https://www.youtube.com/watch?v=JEIR5oGCwdg)
- [https://activedirectorypro.com/sync-on-prem-ad-with-existing-azure-ad-users/](https://activedirectorypro.com/sync-on-prem-ad-with-existing-azure-ad-users/)
- [https://www.orbid365.be/manually-match-on-premise-ad-user-to-existing-office365-user/](https://www.orbid365.be/manually-match-on-premise-ad-user-to-existing-office365-user/)

{{#include ../../../../banners/hacktricks-training.md}}
