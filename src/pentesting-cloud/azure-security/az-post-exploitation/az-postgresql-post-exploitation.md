# Az - PostgreSQL Post Exploitation

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

## PostgreSQL VeritabanÄ± Post Exploitation
PostgreSQL VeritabanÄ± hakkÄ±nda daha fazla bilgi iÃ§in kontrol edin:

{% content-ref url="../az-services/az-postgresql.md" %}
[az-postgresql.md](../az-services/az-postgresql.md)
{% endcontent-ref %}

### "Microsoft.DBforPostgreSQL/flexibleServers/databases/write" && "Microsoft.DBforPostgreSQL/flexibleServers/databases/read"

Bu izinle, Azure'daki bir Postgres Flexible Server Ã¶rneÄŸi iÃ§inde yeni veritabanlarÄ± oluÅŸturabilirsiniz. Bu eylem kendisi mevcut kaynaklarÄ± deÄŸiÅŸtirmese de, aÅŸÄ±rÄ± veya yetkisiz veritabanÄ± oluÅŸturma, kaynak tÃ¼ketimine veya sunucunun potansiyel kÃ¶tÃ¼ye kullanÄ±mÄ±na yol aÃ§abilir.

{% code overflow="wrap" %}
```bash
az postgres flexible-server db create \
--server-name <server_name> \
--resource-group <resource_group_name> \
--database-name <database_name>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/backups/write"

Bu izinle, Azure'daki bir Postgres Flexible Server Ã¶rneÄŸi iÃ§in yedekleme oluÅŸturma iÅŸlemini baÅŸlatabilirsiniz. Bu, kullanÄ±cÄ±larÄ±n belirli zaman dilimlerinde verileri korumak iÃ§in talep Ã¼zerine yedeklemeler oluÅŸturmasÄ±na olanak tanÄ±r.

{% code overflow="wrap" %}
```bash
az postgres flexible-server backup create \
--name <server_name> \
--resource-group <resource_group_name>
--backup-name <backup_name>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/advancedThreatProtectionSettings/write" && "Microsoft.DBforPostgreSQL/flexibleServers/advancedThreatProtectionSettings/read"

Bu izinle, Azure'daki bir Postgres Flexible Server Ã¶rneÄŸi iÃ§in GeliÅŸmiÅŸ Tehdit Koruma (ATP) ayarlarÄ±nÄ± yapÄ±landÄ±rabilir veya gÃ¼ncelleyebilirsiniz. Bu, anormal etkinlikleri ve potansiyel tehditleri tespit etmek ve yanÄ±t vermek iÃ§in tasarlanmÄ±ÅŸ gÃ¼venlik Ã¶zelliklerini etkinleÅŸtirmeye veya devre dÄ±ÅŸÄ± bÄ±rakmaya olanak tanÄ±r.

{% code overflow="wrap" %}
```bash
az postgres flexible-server threat-protection-policy update \
--name <server_name> \
--resource-group <resource_group_name> \
--state <Enabled|Disabled>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/firewallRules/write", "Microsoft.DBforPostgreSQL/flexibleServers/read" && "Microsoft.DBforPostgreSQL/flexibleServers/firewallRules/read"

Bu izinle, Azure'daki bir Postgres Flexible Server Ã¶rneÄŸi iÃ§in gÃ¼venlik duvarÄ± kurallarÄ± oluÅŸturabilir veya deÄŸiÅŸtirebilirsiniz. Bu, hangi IP adreslerinin veya aralÄ±klarÄ±nÄ±n sunucuya eriÅŸebileceÄŸini kontrol etmenizi saÄŸlar. Bu iznin yetkisiz veya yanlÄ±ÅŸ kullanÄ±mÄ±, sunucunun istenmeyen veya kÃ¶tÃ¼ niyetli eriÅŸime maruz kalmasÄ±na neden olabilir.

{% code overflow="wrap" %}
```bash
# Create Rule
az postgres flexible-server firewall-rule create \
--name <server_name> \
--resource-group <resource_group_name> \
--rule-name <rule_name> \
--start-ip-address <start_ip> \
--end-ip-address <end_ip>

# Update Rule
az postgres flexible-server firewall-rule update \
--name <server_name> \
--resource-group <resource_group_name> \
--rule-name <rule_name> \
--start-ip-address <start_ip> \
--end-ip-address <end_ip>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/configurations/write" && "Microsoft.DBforPostgreSQL/flexibleServers/configurations/read"

Bu izinle, Azure'daki bir Postgres Flexible Server Ã¶rneÄŸinin yapÄ±landÄ±rma ayarlarÄ±nÄ± gÃ¼ncelleyebilirsiniz. Bu, performans ayarÄ±, gÃ¼venlik yapÄ±landÄ±rmalarÄ± veya operasyonel ayarlar gibi sunucu parametrelerinin Ã¶zelleÅŸtirilmesine olanak tanÄ±r.

{% code overflow="wrap" %}
```bash
az postgres flexible-server parameter set \
--resource-group <resource_group_name> \
--server-name <server_name> \
--name <parameter_name> \
--value <parameter_value>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/stop/action"

Bu izinle, Azure'da bir PostgreSQL Flexible Server Ã¶rneÄŸini durdurabilirsiniz. Bir sunucunun durdurulmasÄ±, veritabanÄ±na baÄŸÄ±mlÄ± uygulamalar ve kullanÄ±cÄ±lar Ã¼zerinde geÃ§ici bir hizmet kesintisine yol aÃ§abilir.

{% code overflow="wrap" %}
```bash
az postgres flexible-server stop \
--name <server_name> \
--resource-group <resource_group_name>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/start/action"
With this permission, you can start a stopped PostgreSQL Flexible Server instance on Azure. Starting a server restores its availability, enabling applications and users to reconnect and access the database.

{% code overflow="wrap" %}
```bash
az postgres flexible-server baÅŸlat \
--name <server_name> \
--resource-group <resource_group_name>
```
{% endcode %}

### "Microsoft.DBforPostgreSQL/flexibleServers/read", "Microsoft.DBforPostgreSQL/flexibleServers/write" && "Microsoft.ManagedIdentity/userAssignedIdentities/assign/action"

With this permission, you can assign a user-assigned managed identity to postgres flexible servers.

{% code overflow="wrap" %}
```bash
az postgres flexible-server kimlik ata \
--resource-group <ResourceGroupName> \
--server-name <ServerName> \
--identity <IdentityName>
```
{% endcode %}

### "*/delete"
With this permissions you can delete resources related to postgres server in Azure such as server, firewalls, managed identities or configurations


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
