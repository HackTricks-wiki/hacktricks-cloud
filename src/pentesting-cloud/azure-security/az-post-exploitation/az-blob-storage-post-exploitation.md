# Az - Blob Storage Post Exploitation

{{#include ../../../banners/hacktricks-training.md}}

## 存储权限提升

有关存储的更多信息，请查看：

{{#ref}}
../az-services/az-storage.md
{{#endref}}

### Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read

具有此权限的主体将能够**列出**容器内的 blob（文件）并**下载**可能包含**敏感信息**的文件。
```bash
# e.g. Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read
az storage blob list \
--account-name <acc-name> \
--container-name <container-name> --auth-mode login

az storage blob download \
--account-name <acc-name> \
--container-name <container-name> \
-n file.txt --auth-mode login
```
### Microsoft.Storage/storageAccounts/blobServices/containers/blobs/write

具有此权限的主体将能够**在容器中写入和覆盖文件**，这可能使他造成一些损害甚至提升权限（例如，覆盖存储在 blob 中的某些代码）：
```bash
# e.g. Microsoft.Storage/storageAccounts/blobServices/containers/blobs/write
az storage blob upload \
--account-name <acc-name> \
--container-name <container-name> \
--file /tmp/up.txt --auth-mode login --overwrite
```
### \*/delete

这将允许删除存储帐户中的对象，这可能会**中断某些服务**或使客户端**丢失有价值的信息**。

{{#include ../../../banners/hacktricks-training.md}}
