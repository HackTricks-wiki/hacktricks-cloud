# Az - MySQL Post Exploitation

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**'i takip edin.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}

## MySQL Veritabanı Post Exploitation
MySQL Veritabanı hakkında daha fazla bilgi için kontrol edin:

{% content-ref url="../az-services/az-mysql.md" %}
[az-mysql.md](../az-services/az-mysql.md)
{% endcontent-ref %}

### "Microsoft.DBforMySQL/flexibleServers/databases/write" && "Microsoft.DBforMySQL/flexibleServers/databases/read"

Bu izinle, Azure'daki bir MySQL Flexible Server örneği içinde yeni veritabanları oluşturabilirsiniz. Bu eylem kendisi mevcut kaynakları değiştirmese de, aşırı veya yetkisiz veritabanı oluşturma, kaynak tüketimine veya sunucunun potansiyel kötüye kullanımına yol açabilir.

{% code overflow="wrap" %}
```bash
az mysql flexible-server db create \
--server-name <server_name> \
--resource-group <resource_group_name> \
--database-name <database_name>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/backups/write"

Bu izinle, Azure'daki bir MySQL Flexible Server örneği için yedekleme oluşturma işlemini başlatabilirsiniz. Bu, kullanıcıların belirli zaman dilimlerinde verileri korumak için talep üzerine yedeklemeler oluşturmasına olanak tanır.

{% code overflow="wrap" %}
```bash
az mysql flexible-server backup create \
--name <server_name> \
--resource-group <resource_group_name>
--backup-name <backup_name>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/advancedThreatProtectionSettings/write"

Bu izinle, Azure'daki bir MySQL Flexible Server örneği için Gelişmiş Tehdit Koruma (ATP) ayarlarını yapılandırabilir veya güncelleyebilirsiniz. Bu, anormal etkinlikleri ve potansiyel tehditleri tespit etmek ve yanıt vermek için tasarlanmış güvenlik özelliklerini etkinleştirmeye veya devre dışı bırakmaya olanak tanır.

{% code overflow="wrap" %}
```bash
az mysql flexible-server threat-protection-policy update \
--name <server_name> \
--resource-group <resource_group_name> \
--state <Enabled|Disabled>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/firewallRules/write"

Bu izinle, Azure'daki bir MySQL Flexible Server örneği için güvenlik duvarı kuralları oluşturabilir veya değiştirebilirsiniz. Bu, hangi IP adreslerinin veya aralıklarının sunucuya erişebileceğini kontrol etmenizi sağlar. Bu iznin yetkisiz veya yanlış kullanımı, sunucunun istenmeyen veya kötü niyetli erişime maruz kalmasına neden olabilir.

{% code overflow="wrap" %}
```bash
# Create Rule
az mysql flexible-server firewall-rule create \
--name <server_name> \
--resource-group <resource_group_name> \
--rule-name <rule_name> \
--start-ip-address <start_ip> \
--end-ip-address <end_ip>

# Update Rule
az mysql flexible-server firewall-rule update \
--name <server_name> \
--resource-group <resource_group_name> \
--rule-name <rule_name> \
--start-ip-address <start_ip> \
--end-ip-address <end_ip>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/resetGtid/action"

Bu izinle, Azure'daki bir MySQL Flexible Server örneği için GTID'yi (Global Transaction Identifier) sıfırlayabilirsiniz. GTID'yi sıfırlamak, sıfırlama işleminden önce alınan tüm otomatik, talep üzerine yedeklemeleri ve coğrafi yedeklemeleri geçersiz kılacaktır. GTID sıfırlamasından sonra, en hızlı yedekleme noktası veya özel yedekleme noktası kullanarak PITR (point-in-time-restore) gerçekleştiremeyeceksiniz, eğer seçilen yedekleme zamanı GTID sıfırlama zamanından önceyse. Ve başarılı coğrafi yedekleme yalnızca 5 gün sonra mümkün olacaktır.

{% code overflow="wrap" %}
```bash
az mysql flexible-server reset-gtid \
--name  \
--resource-group <resource_group_name> \
--gtid-set <gtid>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/updateConfigurations/action"

Bu izinle, Azure'daki bir MySQL Flexible Server örneğinin yapılandırma ayarlarını güncelleyebilirsiniz. Bu, performans ayarı, güvenlik yapılandırmaları veya operasyonel ayarlar gibi sunucu parametrelerinin özelleştirilmesine olanak tanır. Aşağıdaki parametreleri bir grup halinde güncelleyebilirsiniz: audit_log_enabled, audit_log_events, binlog_expire_logs_seconds, binlog_row_image, character_set_server, collation_server, connect_timeout, enforce_gtid_consistency, gtid_mode, init_connect, innodb_buffer_pool_size, innodb_io_capacity, innodb_io_capacity_max, innodb_purge_threads, innodb_read_io_threads, innodb_thread_concurrency, innodb_write_io_threads, long_query_time, max_connect_errors ve max_connections.

{% code overflow="wrap" %}
```bash
az mysql flexible-server parameter set-batch \
--resource-group <resource_group_name> \
--server-name <server_name> \
--args max_connections=<value>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/read", "Microsoft.DBforMySQL/flexibleServers/write" && "Microsoft.ManagedIdentity/userAssignedIdentities/assign/action"

Bu izinle, MySQL esnek sunucularına kullanıcı atamalı yönetilen bir kimlik atayabilirsiniz.

{% code overflow="wrap" %}
```bash
az mysql flexible-server identity assign \
--resource-group <ResourceGroupName> \
--server-name <ServerName> \
--identity <IdentityName>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/stop/action"

Bu izinle, Azure'da bir PostgreSQL Flexible Server örneğini durdurabilirsiniz. Bir sunucunun durdurulması, veritabanına bağımlı uygulamalar ve kullanıcılar üzerinde geçici bir hizmet kesintisine yol açabilir.

{% code overflow="wrap" %}
```bash
az mysql flexible-server stop \
--name <server_name> \
--resource-group <resource_group_name>
```
{% endcode %}

### "Microsoft.DBforMySQL/flexibleServers/start/action"
With this permission, you can start a stopped PostgreSQL Flexible Server instance on Azure. Starting a server restores its availability, enabling applications and users to reconnect and access the database.

{% code overflow="wrap" %}
```bash
az mysql flexible-server start \
--name <server_name> \
--resource-group <resource_group_name>
```
{% endcode %}

### "*/delete"

With this permissions you can delete resources related to mysql server in Azure such as server, firewalls, managed identities or configurations

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
