# Concourse Mimarisi

{{#include ../../banners/hacktricks-training.md}}

## Concourse Mimarisi

[**Concourse belgelerinden ilgili veriler:**](https://concourse-ci.org/internals.html)

### Mimarisi

![](<../../images/image (187).png>)

#### ATC: web UI & build zamanlayıcı

ATC, Concourse'un kalbidir. **web UI ve API**'yi çalıştırır ve tüm pipeline **zamanlamasından** sorumludur. **PostgreSQL** ile **bağlanır**, bu da pipeline verilerini (build günlükleri dahil) depolamak için kullanılır.

[Checker](https://concourse-ci.org/checker.html), kaynakların yeni sürümlerini sürekli kontrol etmekten sorumludur. [Zamanlayıcı](https://concourse-ci.org/scheduler.html), bir iş için build'leri zamanlamaktan sorumludur ve [build izleyici](https://concourse-ci.org/build-tracker.html), herhangi bir zamanlanmış build'i çalıştırmaktan sorumludur. [Çöp toplayıcı](https://concourse-ci.org/garbage-collector.html), kullanılmayan veya eski nesneleri (konteynerler ve hacimler gibi) kaldırmak için temizlik mekanizmasıdır.

#### TSA: işçi kaydı & yönlendirme

TSA, yalnızca [**işçileri**](https://concourse-ci.org/internals.html#architecture-worker) [ATC](https://concourse-ci.org/internals.html#component-atc) ile güvenli bir şekilde **kaydetmek** için kullanılan **özel yapım bir SSH sunucusudur**.

TSA, **varsayılan olarak `2222` portunda dinler** ve genellikle [ATC](https://concourse-ci.org/internals.html#component-atc) ile birlikte yer alır ve bir yük dengeleyicinin arkasında bulunur.

**TSA, SSH bağlantısı üzerinden CLI'yi uygular** ve [**bu komutları**](https://concourse-ci.org/internals.html#component-tsa) destekler.

#### İşçiler

Görevleri yerine getirmek için Concourse'un bazı işçilere sahip olması gerekir. Bu işçiler, [TSA](https://concourse-ci.org/internals.html#component-tsa) aracılığıyla **kendilerini kaydeder** ve [**Garden**](https://github.com/cloudfoundry-incubator/garden) ve [**Baggageclaim**](https://github.com/concourse/baggageclaim) hizmetlerini çalıştırır.

- **Garden**: Bu, genellikle **HTTP** üzerinden **port 7777**'de çalışan **Konteyner Yönetim API**'sidir.
- **Baggageclaim**: Bu, genellikle **HTTP** üzerinden **port 7788**'de çalışan **Hacim Yönetim API**'sidir.

## Referanslar

- [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

{{#include ../../banners/hacktricks-training.md}}
