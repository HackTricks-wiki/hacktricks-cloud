# Jenkins RCE 创建/修改项目

{{#include ../../banners/hacktricks-training.md}}

## 创建项目

此方法非常嘈杂，因为您必须创建一个全新的项目（显然，这仅在用户被允许创建新项目时有效）。

1. **创建一个新项目**（自由风格项目），点击“新建项目”或在`/view/all/newJob`中
2. 在**构建**部分设置**执行 shell**，并粘贴一个 powershell Empire 启动器或一个 meterpreter powershell（可以使用 _unicorn_ 获得）。使用 _PowerShell.exe_ 启动有效载荷，而不是使用 _powershell_。
3. 点击**立即构建**
1. 如果**立即构建**按钮没有出现，您仍然可以转到**配置** --> **构建触发器** --> `定期构建`，并设置一个 cron 为 `* * * * *`
2. 除了使用 cron，您还可以使用配置“**远程触发构建**”，只需设置一个 api 令牌名称以触发作业。然后转到您的用户配置文件并**生成一个 API 令牌**（将此 API 令牌称为您用于触发作业的 api 令牌）。最后，使用以下命令触发作业：**`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../images/image (165).png>)

## 修改项目

转到项目并检查**您是否可以配置任何**项目（查找“配置按钮”）：

![](<../../images/image (265).png>)

如果您**看不到任何**配置**按钮**，那么您**可能无法**配置它（但检查所有项目，因为您可能能够配置其中一些而不是其他项目）。

或者**尝试访问路径** `/job/<proj-name>/configure` 或 `/me/my-views/view/all/job/<proj-name>/configure` \_\_ 在每个项目中（示例：`/job/Project0/configure` 或 `/me/my-views/view/all/job/Project0/configure`）。

## 执行

如果您被允许配置项目，您可以**使其在构建成功时执行命令**：

![](<../../images/image (98).png>)

点击**保存**并**构建**项目，您的**命令将被执行**。\
如果您不是在执行反向 shell 而是简单命令，您可以**在构建的输出中查看命令的输出**。

{{#include ../../banners/hacktricks-training.md}}
